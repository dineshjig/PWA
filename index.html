<!DOCTYPE html>
<html lang="en" style="background: #00000000">

<head>
  <meta charset="UTF-8" />
  <title>AuctionX</title>
  <script src="https://unpkg.com/@web3modal/wagmi@latest/dist/index.umd.js"></script>
  <script src="https://unpkg.com/viem@latest/dist/index.umd.js"></script>
  <script src="https://unpkg.com/wagmi@latest/dist/index.umd.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <link rel="manifest" href="manifest.json" />
  <style>
    /* ========================================
       CSS Custom Properties - RESPONSIVE
       ======================================== */
    :root {
      /* Colors */
      --color-white: #ffffff;
      --color-black: #1a1a1a;
      --color-gray-light: #a0a0a0;
      --color-gray-dark: #333333;

      /* Gradient colors */
      --gradient-purple: #ff00f2ad;
      --gradient-pink: #ec4899;
      --gradient-magenta: #d946ef;

      /* Pastel background gradient */
      --bg-blue: #e0f2fe;
      --bg-pink: #fce7f3;
      --bg-peach: #ffedd5;

      /* Typography */
      --font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;

      /* Animation durations */
      --duration-fast: 0.3s;
      --duration-normal: 0.6s;
      --duration-slow: 1s;
      --duration-very-slow: 2s;

      /* Animation easing */
      --ease-smooth: cubic-bezier(0.4, 0.0, 0.2, 1);
      --ease-bounce: cubic-bezier(0.68, 0.55, 0.265, 1.55);
      --ease-out: cubic-bezier(0.0, 0.0, 0.2, 1);

      /* RESPONSIVE VARIABLES - Default (Mobile Small) */
      --splash-star-size: 80px;
      --splash-glow-size: 100px;
      --splash-glow-blur: 25px;

      --orbit-container-size: 280px;
      --orbit-outer-radius: 140px;
      --orbit-inner-radius: 84px;
      --orbit-border-width: 1.5px;

      --center-star-size: 55px;
      --center-star-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);

      --icon-size: 38px;
      --icon-font-size: 20px;
      --icon-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);

      --powered-by-width: 180px;
      --powered-by-bottom: 7%;

      --loading-gif-size: 70px;

      --spacing-xs: 6px;
      --spacing-sm: 12px;
      --spacing-md: 18px;
      --spacing-lg: 24px;
      --spacing-xl: 36px;
    }

    /* ========================================
       Reset & Base Styles
       ======================================== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html,
    body {
      margin: 0;
      padding: 0;
      background: #00000000;
      width: 100%;
      height: 100%;
      overflow: hidden;
      touch-action: none;
      font-family: var(--font-family);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* ========================================
       Game Container
       ======================================== */
    #gameContainer {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100svh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #160223;
      overflow: hidden;
    }

    #gameFrame {
      position: absolute;
      aspect-ratio: 9 / 16;
      height: 100%;
      max-width: 100vw;
      border: none;
      display: block;
      background: #433c3c;
      z-index: 0;
      opacity: 0;
      transition: opacity 0.8s var(--ease-smooth);
    }

    #gameFrame.visible {
      opacity: 1;
    }

    #gameFrame2 {
      position: absolute;
      aspect-ratio: 9 / 16;
      height: 100%;
      max-width: 100vw;
      border: none;
      background: #160223;
      z-index: 1;
    }

    #loader {
      position: absolute;
      position: absolute;
      aspect-ratio: 9 / 16;
      height: 100%;
      max-width: 100vw;
      border: none;
      /* display: block; */
      background: #000000;
      z-index: 1;
    }

    #loadingGif {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 10;
      display: block;
      /* hidden by default */
      width: 20vw;
      /* adjust size */
      height: auto;
    }

    /* ========================================
       Screen Container & Transitions
       ======================================== */
    .screen {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      opacity: 0;
      visibility: hidden;
      transition: opacity var(--duration-normal) var(--ease-smooth),
        visibility var(--duration-normal) var(--ease-smooth);
    }

    .screen.active {
      opacity: 1;
      visibility: visible;
    }

    /* ========================================
       Splash Screen - RESPONSIVE
       ======================================== */
    #splash-screen {
      background: linear-gradient(135deg,
          var(--bg-blue) 0%,
          var(--bg-pink) 50%,
          var(--bg-peach) 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      animation: opacityPulse var(--duration-very-slow) var(--ease-smooth) infinite alternate;
    }

    .star-container {
      position: relative;
      width: var(--splash-star-size);
      height: var(--splash-star-size);
      animation: starPulse var(--duration-very-slow) var(--ease-smooth) infinite alternate;
    }

    .star-glow {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: var(--splash-glow-size);
      height: var(--splash-glow-size);
      border-radius: 50%;
      background: radial-gradient(circle at center,
          var(--gradient-purple) 0%,
          var(--gradient-magenta) 40%,
          var(--gradient-pink) 70%,
          var(--gradient-purple) 90%,
          transparent 100%);
      animation: glowPulse 1.2s var(--ease-smooth);
      filter: blur(var(--splash-glow-blur));
    }

    .splash-logo {
      position: absolute;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2;
      animation: starEntrance 1.2s linear;
    }

    .splash-logo img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    /* ========================================
       Main Screen - RESPONSIVE
       ======================================== */
    #main-screen {
      background: linear-gradient(135deg,
          var(--bg-blue) 0%,
          var(--bg-pink) 50%,
          var(--bg-peach) 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: space-around;
      padding: var(--spacing-md);
    }

    /* ========================================
       Orbit Container - RESPONSIVE
       ======================================== */
    .orbit-container {
      position: absolute;
      top: 10%;
      left: 50%;
      transform: translateX(-50%);
      width: var(--orbit-container-size);
      height: var(--orbit-container-size);

    }

    /* Orbit circles */
    .orbit-circle {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      border: var(--orbit-border-width) solid rgba(255, 255, 255, 0.8);
      border-radius: 50%;
      animation: orbitRotate 10s linear infinite;
    }

    .outer-orbit {
      width: 100%;
      height: 100%;
    }

    .inner-orbit {
      width: 60%;
      height: 60%;
      animation-duration: 15s;
      animation-direction: reverse;
    }

    /* Orbit blocks - containers for items */
    .orbit-block,
    .orbit-block2 {
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0;
      left: 0;
    }

    /* Center star - RESPONSIVE */
    .center-star {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: var(--center-star-size);
      height: var(--center-star-size);
      background: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: var(--center-star-shadow);
      animation: centerStarEntrance 0.8s var(--ease-bounce) 0.5s backwards;
      z-index: 5;
    }

    .star-logo-small {
      width: 70%;
      height: 70%;
      object-fit: contain;
    }

    /* Orbiting items - RESPONSIVE */
    .orbit-item {
      position: absolute;
      top: 50%;
      left: 50%;
      opacity: 0;
    }

    .orbit-item1 {
      animation: iconEntrance1 var(--duration-normal) var(--ease-smooth) forwards;
    }

    .orbit-item2 {
      animation: iconEntrance2 var(--duration-normal) var(--ease-smooth) forwards;
    }

    /* Position data attributes */
    .orbit-item[data-position="1"] {
      --angle: 0deg;
      animation-delay: 0.6s;
    }

    .orbit-item[data-position="2"] {
      --angle: 36deg;
      animation-delay: 0.7s;
    }

    .orbit-item[data-position="3"] {
      --angle: 72deg;
      animation-delay: 0.8s;
    }

    .orbit-item[data-position="4"] {
      --angle: 108deg;
      animation-delay: 0.9s;
    }

    .orbit-item[data-position="5"] {
      --angle: 144deg;
      animation-delay: 1s;
    }

    .orbit-item[data-position="6"] {
      --angle: 180deg;
      animation-delay: 1.1s;
    }

    .orbit-item[data-position="7"] {
      --angle: 216deg;
      animation-delay: 1.2s;
    }

    .orbit-item[data-position="8"] {
      --angle: 252deg;
      animation-delay: 1.3s;
    }

    .orbit-item[data-position="9"] {
      --angle: 288deg;
      animation-delay: 1.4s;
    }

    .orbit-item[data-position="10"] {
      --angle: 324deg;
      animation-delay: 1.5s;
    }

    /* Icon circles - RESPONSIVE */
    .icon-circle {
      width: var(--icon-size);
      height: var(--icon-size);
      background: rgba(255, 255, 255, 0);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: var(--icon-font-size);
      box-shadow: var(--icon-shadow);
      transform: rotate(calc(var(--angle) * -1));
      transition: transform 0.3s var(--ease-smooth);
    }

    /* Powered By Text - RESPONSIVE */
    /* ===============================
   Bottom Section Styling
   =============================== */
    .bottom-section {
      position: absolute;
      bottom: 3%;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      width: 100%;
    }

    #BottomLogo {
      width: 60%;
      height: auto;
      object-fit: contain;
      margin-bottom: 10px;
      /* space before line */
    }

    .bottom-line {
      width: 80%;
      height: 4px;
      background: linear-gradient(90deg, #ff8888, #ff7fcc, #e043ff);
      border-radius: 4px;
      margin-bottom: 10px;
      /* space before text */
    }

    #PoweredByText {
      width: 40%;
      height: auto;
      object-fit: contain;
      opacity: 0.9;
      transform: scale(0.8);
      margin-bottom: 1px;
      /* reduces to 80% of original size */
    }


    /* ========================================
       Keyframe Animations
       ======================================== */
    @keyframes starPulse {
      0% {
        transform: scale(0.95);
      }

      100% {
        transform: scale(1.05);
      }
    }

    @keyframes glowPulse {
      0% {
        opacity: 0.6;
        transform: translate(-50%, -50%) scale(1);
      }

      30% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(0.3);
      }

      100% {
        opacity: 0.5;
        transform: translate(-50%, -50%) scale(30);
      }
    }

    @keyframes opacityPulse {

      0%,
      50% {
        opacity: 1;
      }

      100% {
        opacity: 0.3;
      }
    }

    @keyframes starEntrance {
      0% {
        transform: scale(1);
        opacity: 1;
      }

      30% {
        transform: scale(0.5);
        opacity: 1;
      }

      100% {
        transform: scale(30);
        opacity: 0.5;
      }
    }

    @keyframes centerStarEntrance {
      0% {
        transform: translate(-50%, -50%) scale(0);
        opacity: 0;
      }

      60% {
        transform: translate(-50%, -50%) scale(1.15);
      }

      100% {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
      }
    }

    @keyframes iconEntrance1 {
      0% {
        opacity: 0;
        transform: translate(-50%, -50%) rotate(var(--angle)) translateX(0) scale(0.3);
      }

      100% {
        opacity: 1;
        transform: translate(-50%, -50%) rotate(var(--angle)) translateX(var(--orbit-outer-radius)) scale(1);
      }
    }

    @keyframes iconEntrance2 {
      0% {
        opacity: 0;
        transform: translate(-50%, -50%) rotate(var(--angle)) translateX(0) scale(0.3);
      }

      100% {
        opacity: 1;
        transform: translate(-50%, -50%) rotate(var(--angle)) translateX(var(--orbit-inner-radius)) scale(1);
      }
    }

    @keyframes orbitRotate {
      0% {
        transform: translate(-50%, -50%) rotate(0deg);
      }

      100% {
        transform: translate(-50%, -50%) rotate(360deg);
      }
    }

    @keyframes fadeSlideUp {
      0% {
        opacity: 0;
        transform: translateY(20px);
      }

      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes splashOut {
      0% {
        opacity: 1;
        transform: scale(1) translateY(0);
      }

      60% {
        opacity: 0.6;
        transform: scale(1.05) translateY(50px);
      }

      100% {
        opacity: 0;
        transform: scale(0.8) translateY(-100px);
      }
    }

    .splash-out {
      animation: splashOut 0.8s ease-in-out forwards !important;
    }

    /* ========================================
       RESPONSIVE BREAKPOINTS
       ======================================== */

    /* Small phones (320px - 374px) */
    @media (max-width: 374px) {
      :root {
        --splash-star-size: 70px;
        --splash-glow-size: 90px;
        --splash-glow-blur: 20px;

        --orbit-container-size: 260px;
        --orbit-outer-radius: 130px;
        --orbit-inner-radius: 78px;
        --orbit-border-width: 1.2px;

        --center-star-size: 50px;
        --center-star-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);

        --icon-size: 34px;
        --icon-font-size: 18px;
        --icon-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);

        --powered-by-width: 160px;
        --loading-gif-size: 60px;

        --spacing-xs: 4px;
        --spacing-sm: 10px;
        --spacing-md: 16px;
        --spacing-lg: 20px;
        --spacing-xl: 30px;
      }
    }

    /* Medium phones (375px - 428px) */
    @media (min-width: 375px) and (max-width: 428px) {
      :root {
        --splash-star-size: 85px;
        --splash-glow-size: 105px;
        --splash-glow-blur: 28px;

        --orbit-container-size: 300px;
        --orbit-outer-radius: 150px;
        --orbit-inner-radius: 90px;
        --orbit-border-width: 1.5px;

        --center-star-size: 60px;
        --center-star-shadow: 0 6px 22px rgba(0, 0, 0, 0.1);

        --icon-size: 40px;
        --icon-font-size: 22px;
        --icon-shadow: 0 5px 14px rgba(0, 0, 0, 0.08);

        --powered-by-width: 190px;
        --loading-gif-size: 75px;

        --spacing-xs: 6px;
        --spacing-sm: 12px;
        --spacing-md: 18px;
        --spacing-lg: 24px;
        --spacing-xl: 36px;
      }
    }

    /* Large phones (429px - 767px) */
    @media (min-width: 429px) and (max-width: 767px) {
      :root {
        --splash-star-size: 95px;
        --splash-glow-size: 115px;
        --splash-glow-blur: 32px;

        --orbit-container-size: 340px;
        --orbit-outer-radius: 170px;
        --orbit-inner-radius: 102px;
        --orbit-border-width: 1.8px;

        --center-star-size: 68px;
        --center-star-shadow: 0 7px 26px rgba(0, 0, 0, 0.1);

        --icon-size: 45px;
        --icon-font-size: 24px;
        --icon-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);

        --powered-by-width: 210px;
        --loading-gif-size: 85px;

        --spacing-xs: 7px;
        --spacing-sm: 14px;
        --spacing-md: 20px;
        --spacing-lg: 28px;
        --spacing-xl: 40px;
      }
    }

    /* Tablets (768px - 1024px) */
    @media (min-width: 768px) and (max-width: 3000px) {
      :root {
        --splash-star-size: 95px;
        --splash-glow-size: 115px;
        --splash-glow-blur: 32px;

        --orbit-container-size: 340px;
        --orbit-outer-radius: 170px;
        --orbit-inner-radius: 102px;
        --orbit-border-width: 1.8px;

        --center-star-size: 68px;
        --center-star-shadow: 0 7px 26px rgba(0, 0, 0, 0.1);

        --icon-size: 45px;
        --icon-font-size: 24px;
        --icon-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);

        --powered-by-width: 210px;
        --loading-gif-size: 85px;

        --spacing-xs: 7px;
        --spacing-sm: 14px;
        --spacing-md: 20px;
        --spacing-lg: 28px;
        --spacing-xl: 40px;
      }

      #gameContainer {
        background: #130c20 !important;
      }
    }

    /* Landscape mode adjustments */
    @media (orientation: landscape) and (max-height: 600px) {
      :root {
        --orbit-container-size: 50vh;
        --orbit-outer-radius: 25vh;
        --orbit-inner-radius: 15vh;
        --center-star-size: 8vh;
        --icon-size: 6vh;
        --icon-font-size: 3.5vh;
        --powered-by-width: 30vh;
        --spacing-xl: 3vh;
      }
    }

    /* ========================================
       Accessibility - Reduced Motion
       ======================================== */
    @media (prefers-reduced-motion: reduce) {

      *,
      *::before,
      *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }

      .orbit-item,
      .center-star,
      .splash-logo {
        animation: fadeInOnly 0.5s ease forwards !important;
      }
    }

    @keyframes fadeInOnly {
      0% {
        opacity: 0;
      }

      100% {
        opacity: 1;
      }
    }
  </style>
</head>

<body>
  <div id="gameContainer">
    <iframe id="gameFrame" src="" allowfullscreen></iframe>

    <div id="loader" style="display: block; background: rgba(0, 0, 0, 0)">
      <img id="loadingGif" src="LoadingAnim.gif" alt="Loading..." />
    </div>

    <div id="gameFrame2">
      <!-- Splash Screen -->
      <div id="splash-screen" class="screen active">
        <div class="star-container">
          <div class="star-glow"></div>
          <div class="splash-logo">
            <img src="PoweredBy2.png" alt="Logo" />
          </div>
        </div>
      </div>

      <!-- Main Screen -->
      <div id="main-screen" class="screen">
        <div class="orbit-container">
          <!-- Outer Orbit -->
          <div class="orbit-circle outer-orbit">
            <div class="orbit-block">
              <div class="orbit-item orbit-item1" data-position="1">
                <div class="icon-circle">üéÅ</div>
              </div>
              <div class="orbit-item orbit-item1" data-position="3">
                <div class="icon-circle">ü•≥</div>
              </div>
              <div class="orbit-item orbit-item1" data-position="5">
                <div class="icon-circle">üéâ</div>
              </div>
              <div class="orbit-item orbit-item1" data-position="7">
                <div class="icon-circle">üåç</div>
              </div>
              <div class="orbit-item orbit-item1" data-position="9">
                <div class="icon-circle">üìÖ</div>
              </div>
            </div>
          </div>

          <!-- Inner Orbit -->
          <div class="orbit-circle inner-orbit">
            <div class="orbit-block2">
              <div class="orbit-item orbit-item2" data-position="2">
                <div class="icon-circle">üôãüèº‚Äç‚ôÇÔ∏è</div>
              </div>
              <div class="orbit-item orbit-item2" data-position="4">
                <div class="icon-circle">üë±‚Äç‚ôÄÔ∏è</div>
              </div>
              <div class="orbit-item orbit-item2" data-position="6">
                <div class="icon-circle">üë©üèª</div>
              </div>
              <div class="orbit-item orbit-item2" data-position="8">
                <div class="icon-circle">üë®üèª</div>
              </div>
              <div class="orbit-item orbit-item2" data-position="10">
                <div class="icon-circle">üôãüèº‚Äç‚ôÄÔ∏è</div>
              </div>
            </div>
          </div>

          <!-- Center Star -->
          <div class="center-star">
            <img class="star-logo-small" src="PoweredBy2.png" alt="Star" />
          </div>
        </div>

        <div class="bottom-section">
          <img id="BottomLogo" alt="Logo" />
          <div class="bottom-line"></div>
          <img id="PoweredByText" src="PoweredBy.png" alt="Powered By" />
        </div>
      </div>
    </div>
  </div>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script>
    // Check if MetaMask is installed
    if (typeof window.ethereum === 'undefined') {
      console.log('MetaMask not detected');
    }
    if (window !== window.parent) {
      console.warn('We are inside an iframe', window.parent); const parentIframe = window.frameElement; if (parentIframe) {
        const parsedUrl = new URL(window.location.href); if (parsedUrl) {
          const urlObj = new URL(parsedUrl);
          const success = urlObj.searchParams.get("success");
          const x_auth = urlObj.searchParams.get("x_auth");
          if (success === "true") {
            console.warn("‚úÖ Payment Successful!");
          }
          else if (success === "false") { console.warn("‚ùå Payment Cancelled!"); }
          if (x_auth === "success") {
            window.open("https://x.com/intent/follow?screen_name=auctionx_live", "_blank");
          }
          console.warn("parsedUrl", parsedUrl)
          const customEvent = new CustomEvent("testurl", { detail: parsedUrl }); // Dispatch it on window window.parent.dispatchEvent(customEvent); } parentIframe.remove(); // ‚ö†Ô∏è Remove the iframe from the parent document if (window.parent.document.getElementById("frame-BlockBot")) { window.parent.document.getElementById("frame-BlockBot").remove(); window.document.getElementById("gameContainer").remove(); } else { } } } else { console.warn('We are not in an iframe', window.parent); window.addEventListener("testurl", (event) => { console.warn("testurl", event) }); }
        }
      }
    }
  </script>
  <script>

    // ============================
    // üåê GLOBAL PROPERTIES
    // ============================
    const StaticProperties = {
      hostname: "",
      apiBaseURL: "",
      isGameloaded: false,

    };

    const BigDealGameModel = {
      auctionHouseResponse: null,
    };

    // ============================
    // üß† API SETUP FUNCTION
    // ============================
    async function setupAPI() {
      return new Promise(async (resolve, reject) => {
        try {
          const parsedUrl = new URL(window.location.href);
          StaticProperties.hostname = parsedUrl.host;

          const searchParams = parsedUrl.searchParams;
          const url_token = searchParams.get("token");

          const host = window.location.host;

          if (host.includes("auctionx.dev")) {
            StaticProperties.apiBaseURL = "https://api.auctionx.dev/";
            StaticProperties.hostname = StaticProperties.hostname;
          } else if (host.includes("auctionx.live")) {
            StaticProperties.apiBaseURL = "https://api.auctionx.live/";
            StaticProperties.hostname = StaticProperties.hostname;
          } else {
            // fallback (development / localhost / unknown domain)
            StaticProperties.apiBaseURL = "https://api.auctionx.dev/";
            StaticProperties.hostname = "dinesh.auctionx.dev";
          }

          console.log("‚úÖ API setup complete:", StaticProperties);
          resolve();
        } catch (error) {
          console.error("‚ùå API setup failed:", error);
          reject(error);
        }
      });
    }

    // ============================
    // üî• ADDITIONAL FUNCTIONS
    // ============================

    // Mock APIManager ‚Äî replace with your real APIManager class
    const APIManager = {
      async request(url, method = "GET") {
        try {
          const response = await fetch(url, { method });
          if (!response.ok) throw new Error("Network error: " + response.status);
          return await response.json();
        } catch (e) {
          console.error("API request failed:", e);
          return null;
        }
      },
    };

    const API_URLS = {
      AUCTION_HOUSE: "v1/auction-house/auction-house-id?subdomain=",
    };

    const MethodType = {
      GET: "GET",
    };

    // ‚úÖ Fetch Auction House Info
    async function getAuctionHouse() {
      const url = StaticProperties.apiBaseURL + API_URLS.AUCTION_HOUSE + StaticProperties.hostname;
      const result = await APIManager.request(url, MethodType.GET);
      BigDealGameModel.auctionHouseResponse = result;
      console.log("üè† Auction House Response:", result);
    }

    // ‚úÖ Load Images Dynamically from API
    async function loadImages() {
      const logoPath = BigDealGameModel.auctionHouseResponse?.data?.currentAuctionHouse?.medias?.local_path;
      const gameLogo = document.getElementById("BottomLogo"); // your logo target

      if (logoPath && gameLogo) {
        const fullURL = `${StaticProperties.apiBaseURL}${logoPath}`;
        await loadRemoteImage(fullURL, gameLogo);
        console.log("üñºÔ∏è Loaded dynamic logo:", fullURL);
      } else {
        console.warn("‚ö†Ô∏è Logo path not found in auctionHouseResponse");
      }
    }

    // ‚úÖ Helper to load remote image
    async function loadRemoteImage(url, imgElement) {
      return new Promise((resolve, reject) => {
        imgElement.onload = resolve;
        imgElement.onerror = reject;
        imgElement.src = url;
      });
    }






    // Respects prefers-reduced-motion for accessibility
    const reducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    const transitionDelay = reducedMotion ? 500 : 800;

    setTimeout(() => {
      document.getElementById('splash-screen').classList.remove('active');
      document.getElementById('main-screen').classList.add('active');
    }, transitionDelay);

    // Click to skip splash
    document.getElementById('splash-screen').addEventListener('click', () => {
      document.getElementById('splash-screen').classList.remove('active');
      document.getElementById('main-screen').classList.add('active');
    });


    const gameFrame = document.getElementById("gameFrame");

    function isMobile() {
      return /Mobi|Android|iPhone|iPod/i.test(navigator.userAgent);
    }

    function setDynamicAspectRatio() {
      gameFrame.style.aspectRatio = "9 / 16";
    }

    // Load game
    window.addEventListener("load", async () => {
      try {
        await setupAPI();         // 1Ô∏è‚É£ Setup base API
        await getAuctionHouse();  // 2Ô∏è‚É£ Fetch auction data
        await loadImages();       // 3Ô∏è‚É£ Load logo dynamically
        setDynamicAspectRatio();  // 4Ô∏è‚É£ Set aspect ratio
        gameFrame.src = "web-mobile/index.html";
        console.log("üéÆ Game loading...");
      } catch (err) {
        console.error("Initialization failed:", err);
      }
    });

    window.addEventListener("resize", setDynamicAspectRatio);
    window.addEventListener("orientationchange", setDynamicAspectRatio);

    // Loader controls
    window.addEventListener("showLoader", () => {
      if (!StaticProperties.isGameloaded) return;
      const loader = document.getElementById("loader");
      if (loader) loader.style.display = "flex";
    });

    window.addEventListener("hideLoader", async () => {
      const loader = document.getElementById("loader");
      if (loader) loader.style.display = "none";
      hideAllElements();
      StaticProperties.isGameloaded = true;
    });

    // Hide splash screen
    function hideAllElements() {
      const gameFrame = document.getElementById("gameFrame");
      const mainScreen = document.getElementById("main-screen");
      const gameFrame2 = document.getElementById("gameFrame2");
      const poweredByText = document.getElementById("PoweredByText");

      if (gameFrame) gameFrame.classList.add("visible");
      if (mainScreen) mainScreen.classList.add("splash-out");

      setTimeout(function () {
        if (gameFrame2) gameFrame2.style.display = "none";
        if (poweredByText) poweredByText.style.display = "none";
      }, 800);
    }

    // PWA Service Worker
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker
          .register("service-worker.js")
          .then(() => console.log("Service Worker Registered"))
          .catch((err) => console.error("Service Worker Error:", err));
      });
    }

    // Debug viewport info
    console.log('Viewport:', window.innerWidth, 'x', window.innerHeight);
    window.addEventListener('resize', () => {
      console.log('Resized:', window.innerWidth, 'x', window.innerHeight);
    });
  </script>
</body>

</html>