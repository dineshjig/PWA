System.register("chunks:///_virtual/AllBidHistoryManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealGameModel.ts","./BigDealEvents.ts","./TextHighlightManager.ts","./IndexedDBManager.ts","./EventManager.ts"],(function(i){"use strict";var e,t,n,r,a,o,s,l,d,c,u,h,p,g,y,m,b,f,v,B,M,N,w,C,x;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized,a=i.asyncToGenerator,o=i.regeneratorRuntime},function(i){s=i.cclegacy,l=i._decorator,d=i.Prefab,c=i.Node,u=i.ScrollView,h=i.instantiate,p=i.Label,g=i.Color,y=i.UIOpacity,m=i.tween,b=i.Vec3,f=i.Component,v=i.log},function(i){B=i.BigDealGameModel},function(i){M=i.StaticProperties,N=i.BigDealEvents},function(i){w=i.TextHighlightManager},function(i){C=i.IndexedDBManager},function(i){x=i.default}],execute:function(){var P,A,H,S,I,z,k,E,L,T,D,U,q,O,R,F,K,_,V,G,J;i("applyHighlight",(function(i,e,t){void 0===t&&(t=8);if(!i||!i.node)return void console.warn("Invalid Label passed to applyHighlight");i.string=e;var n=i.node.getComponent(w);n||((n=i.node.addComponent(w)).maxLength=t);n.initr(e)})),s._RF.push({},"d09b9g+0VdE4acF9w7HDk08","AllBidHistoryManager",void 0);var j=l.ccclass,Y=l.property;i("AllBidHistoryManager",(P=j("AllBidHistoryManager"),A=Y(d),H=Y(d),S=Y(c),I=Y(c),z=Y(c),k=Y(c),E=Y(c),L=Y(u),T=Y(c),P((q=e((U=function(i){function e(){for(var e,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return e=i.call.apply(i,[this].concat(a))||this,n(e,"bidHistoryPrefab",q,r(e)),n(e,"myBidHistoryPrefab",O,r(e)),n(e,"bidHistoryParent",R,r(e)),n(e,"myBidHistoryParent",F,r(e)),n(e,"showMoreButton",K,r(e)),n(e,"bgNode",_,r(e)),n(e,"mainPanel",V,r(e)),n(e,"bidScoll",G,r(e)),n(e,"noBidsLabel",J,r(e)),e.isAnimating=!1,e.localKey="",e.bidMap=new Map,e.nodeMap=new Map,e.myBidNodeMap=new Map,e.allBidEntries=[],e.displayIndex=0,e.displayChunkSize=20,e.isOpen=!1,e}t(e,i);var s=e.prototype;return s.init=function(){var i=a(o().mark((function i(){var e,t;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.isAnimating&&!this.isOpen){i.next=2;break}return i.abrupt("return");case 2:if(this.isOpen=!0,this.localKey=null==(e=B.auctionHouseListResponse)||null==(t=e.data[M.auctionIndex])?void 0:t.id,this.localKey){i.next=8;break}return v("Auction ID is not set, cannot initialize AllBidHistoryManager"),x.getDispatcher().emit(N.ERROR_MSG_NOTIFY,"Auction is not set"),i.abrupt("return");case 8:return this.bidHistoryParent.removeAllChildren(),this.myBidHistoryParent.removeAllChildren(),this.nodeMap.clear(),this.bidMap.clear(),this.myBidNodeMap.clear(),i.next=15,this.loadFromStorage();case 15:return this.allBidEntries=Array.from(this.bidMap.entries()),this.displayIndex=0,this.allBidEntries.length>0?this.noBidsLabel.active=!1:this.noBidsLabel.active=!0,this.renderNextChunk(),i.next=21,this.setMyBidsInit();case 21:this.in();case 22:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}(),s.setMyBidsInit=function(){var i=a(o().mark((function i(){var e,t;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return this.localKey=null==(e=B.auctionHouseListResponse)||null==(t=e.data[M.auctionIndex])?void 0:t.id,this.bidHistoryParent.removeAllChildren(),this.myBidHistoryParent.removeAllChildren(),this.nodeMap.clear(),this.bidMap.clear(),this.myBidNodeMap.clear(),i.next=8,this.loadFromStorage();case 8:this.allBidEntries=Array.from(this.bidMap.entries()),this.displayIndex=0,this.renderNextChunk(),this.renderMyLast10Bids();case 12:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}(),s.addBid=function(i,e){var t=this.bidMap.has(i);this.bidMap.set(i,e),t?(this.updateNode(i,e),this.updateMyBidNode(i,e)):(this.createBidNode(i,e,this.nodeMap.size),this.createMyBidNode(i,e))},s.removeBid=function(i){if(console.log("this.bidMap befor AAAAA->"+this.bidMap.size),this.bidMap.get(i)){var e=this.bidMap.get(i);e&&(e.isUnique=!1,this.bidMap.set(i,e)),console.log("data remove data ",e),console.log("this.bidMap aaa AAAA ->"+this.bidMap.size),this.removeBidNode(i),this.removeMyBidNode(i),this.saveToStorage()}},s.loadFromStorage=function(){var i=a(o().mark((function i(){var e;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!C.inst.getItem(this.localKey)){i.next=5;break}return i.next=3,C.inst.getItem(this.localKey);case 3:if(e=i.sent)try{this.bidMap=new Map(JSON.parse(e))}catch(i){console.error("Error parsing bid storage",i),this.bidMap.clear()}case 5:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}(),s.saveToStorage=function(){C.inst.setItem(this.localKey,JSON.stringify(Array.from(this.bidMap.entries())))},s.createBidNode=function(i,e,t,n){var r,a,o;void 0===n&&(n=!0);var s=h(this.bidHistoryPrefab),l=null==(r=s.getChildByName("S. No."))?void 0:r.getComponent(p);l&&(l.string=(t+1).toString());var d=null==(a=s.getChildByName("Bid"))?void 0:a.getComponent(p);d&&(d.string=Number(e.bidPrice).toString(),d.color=e.isUnique?new g(0,255,0):new g(255,255,255));var c=null==(o=s.getChildByName("Time"))?void 0:o.getComponent(p);c&&(c.string=e.Time);var u=s.getChildByName("Unique");u&&u.children.length>=2&&(u.children[0].active=e.isUnique,u.children[1].active=!e.isUnique),this.bidHistoryParent.addChild(s),n&&s.setSiblingIndex(0),this.nodeMap.set(i,s)},s.updateNode=function(i,e){var t,n,r=this.nodeMap.get(i);if(r&&r.isValid){var a=null==(t=r.getChildByName("Bid"))?void 0:t.getComponent(p);a&&(a.string=Number(e.bidPrice).toString(),a.color=e.isUnique?new g(0,255,0):new g(255,255,255));var o=null==(n=r.getChildByName("Time"))?void 0:n.getComponent(p);o&&(o.string=e.Time);var s=r.getChildByName("Unique");s&&s.children.length>=2&&(s.children[0].active=e.isUnique,s.children[1].active=!e.isUnique)}},s.removeBidNode=function(i){var e=this.nodeMap.get(i);if(e){var t,n=null==(t=e.getChildByName("Bid"))?void 0:t.getComponent(p);n&&(n.color=new g(255,255,255))}},s.renderNextChunk=function(){var i,e=this,t=this.allBidEntries.length,n=!1;if(0===this.displayIndex){var r=Math.max(t-this.displayChunkSize,0),a=t;i=this.allBidEntries.slice(r,a),n=!0}else{var o=t-this.displayChunkSize-this.displayIndex,s=t-this.displayIndex;(i=this.allBidEntries.slice(Math.max(0,o),Math.max(0,s))).reverse(),n=!1}i.forEach((function(i,r){var a=i[0],o=i[1];e.nodeMap.has(a)||e.createBidNode(a,o,t-(e.displayIndex+r),n)})),this.displayIndex+=this.displayChunkSize,this.displayIndex>=t&&this.showMoreButton?this.showMoreButton.active=!1:this.showMoreButton.active=!0},s.createMyBidNode=function(i,e){var t,n=h(this.myBidHistoryPrefab),r=null==(t=n.getChildByName("Amount"))?void 0:t.getComponent(p);r&&(r.string=Number(e.bidPrice).toString(),r.color=e.isUnique?new g(0,255,0):new g(255,255,255)),this.myBidHistoryParent.insertChild(n,0),this.myBidNodeMap.set(i,n)},s.updateMyBidNode=function(i,e){var t,n=this.myBidNodeMap.get(i);if(n&&n.isValid){var r=null==(t=n.getChildByName("Amount"))?void 0:t.getComponent(p);r&&(r.string=Number(e.bidPrice).toString(),r.color=e.isUnique?new g(0,255,0):new g(255,255,255))}},s.removeMyBidNode=function(i){var e=this.myBidNodeMap.get(i);if(e){var t,n=null==(t=e.getChildByName("Amount"))?void 0:t.getComponent(p);n&&(n.color=new g(255,255,255))}},s.renderMyLast10Bids=function(){var i=this;this.myBidHistoryParent.removeAllChildren(),this.myBidNodeMap.clear(),this.allBidEntries.forEach((function(e){var t=e[0],n=e[1];i.createMyBidNode(t,n)}))},s.onShowMoreClicked=function(){this.renderNextChunk()},s.in=function(){if(!this.isAnimating&&this.mainPanel&&this.bgNode){this.isAnimating=!0,this.mainPanel.active=!0,this.mainPanel.setPosition(0,-2e3,0),this.bidScoll.scrollToTop(.1);var i=this.bgNode.getComponent(y);i&&(i.opacity=0,this.bgNode.active=!0,m(i).to(.3,{opacity:180}).start()),m(this.mainPanel).to(.3,{position:new b(0,0,0)}).call((function(){})).start()}},s.out=function(){var i=this;if(this.isOpen&&this.isAnimating&&this.mainPanel&&this.bgNode){this.isAnimating=!1;var e=this.bgNode.getComponent(y);e&&m(e).to(.3,{opacity:0}).call((function(){i.bgNode.active=!1})).start(),m(this.mainPanel).to(.3,{position:new b(0,-2e3,0)}).call((function(){i.mainPanel.active=!1,i.isOpen=!1})).start()}},e}(f)).prototype,"bidHistoryPrefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(U.prototype,"myBidHistoryPrefab",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(U.prototype,"bidHistoryParent",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(U.prototype,"myBidHistoryParent",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(U.prototype,"showMoreButton",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(U.prototype,"bgNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(U.prototype,"mainPanel",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(U.prototype,"bidScoll",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(U.prototype,"noBidsLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=U))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/APIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ErrorHandler.ts","./BigDealEvents.ts","./CookieUtils.ts","./BigDealSocketManager.ts","./BigDealGameModel.ts","./EventManager.ts","./IndexedDBManager.ts"],(function(e){"use strict";var r,t,n,s,a,o,c,i,u,l,p,f,g,d;return{setters:[function(e){r=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){n=e.cclegacy,s=e.director,a=e.Tween},function(e){o=e.ErrorHandler},function(e){c=e.CookieKey,i=e.StaticProperties,u=e.BigDealEvents},function(e){l=e.CookieUtils},function(e){p=e.BigDealSocketManager},function(e){f=e.BigDealGameModel},function(e){g=e.default},function(e){d=e.IndexedDBManager}],execute:function(){e({getPlayarToken:m,getRefreshToken:E,logoutUser:T,refreshAccessToken:v,resetStaticProperties:R,setAccessToken:S}),n._RF.push({},"0ad70Z+091JKokrXUrrfuXD","APIManager",void 0);e("MethodType",{GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",PATCH:"PATCH"});var h="https://api.auctionx.dev/",k=e("isJson",(function(e){try{JSON.parse(e)}catch(e){return!1}return!0}));function m(){return localStorage.getItem("accessToken")}function E(){return localStorage.getItem("refreshToken")}function S(e){localStorage.setItem("accessToken",e),l.setCookie(c.ACCESS_TOKEN,e,30),d.inst.setItem(c.ACCESS_TOKEN,e)}function T(){return x.apply(this,arguments)}function x(){return(x=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.getDispatcher().emit(u.IS_LOADER_ON),e.next=3,localStorage.removeItem("accessToken");case 3:return e.next=5,localStorage.removeItem("PlayerLoginObj");case 5:return e.next=7,localStorage.removeItem("PLAYER_BIDS_INFO");case 7:return e.next=9,l.clearAllCookies();case 9:return R(),e.next=12,a.stopAll();case 12:return e.next=14,p.clearInstance();case 14:return e.next=16,f.setallData();case 16:g.getDispatcher().emit(u.IS_LOADER_OFF),s.loadScene("MultipleAuction");case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return y.apply(this,arguments)}function y(){return(y=r(t().mark((function e(){var r,n,s,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=E()){e.next=3;break}return e.abrupt("return",!1);case 3:return e.prev=3,n=m(),e.next=7,fetch(h+"v1/user/refresh-token",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n||""},body:JSON.stringify({refresh_token:r})});case 7:if((s=e.sent).ok){e.next=10;break}return e.abrupt("return",!1);case 10:return e.next=12,s.json();case 12:if(null==(a=e.sent)||!a.accessToken){e.next=17;break}return S(a.accessToken),console.log("Token refreshed successfully"),e.abrupt("return",!0);case 17:return e.abrupt("return",!1);case 20:return e.prev=20,e.t0=e.catch(3),console.error("Token refresh failed",e.t0),e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e,null,[[3,20]])})))).apply(this,arguments)}e("APIManager",function(){function e(){}return e.request=function(){var n=r(t().mark((function n(s,a,c,i,u,l){var p,f,g;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===c&&(c=null),void 0===i&&(i=!1),void 0===u&&(u=!0),void 0===l&&(l=!0),n.prev=4,s){n.next=7;break}throw new Error("API name is required");case 7:if(p=h+s,console.log("Requesting:",p),(f=new XMLHttpRequest).open(a,p,!0),u&&f.setRequestHeader("Content-Type","application/json"),f.setRequestHeader("accept","application/json"),f.setRequestHeader("Vary","Origin"),f.setRequestHeader("Vary","Access-Control-Request-Method"),f.setRequestHeader("Vary","Access-Control-Request-Headers"),f.setRequestHeader("Strict-Transport-Security","max-age=15724800; includeSubDomains"),!i){n.next=25;break}if(!(g=m())){n.next=23;break}f.setRequestHeader("Authorization","Bearer "+g),n.next=25;break;case 23:return console.error("Authorization is null"),n.abrupt("return");case 25:return n.next=27,new Promise((function(n,p){f.onreadystatechange=r(t().mark((function r(){var g,d,h,m,E,S;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(4!==f.readyState){r.next=38;break}if(r.prev=1,g=f.responseText,d=f.status>=200&&f.status<300,401!==f.status||!i||!l){r.next=29;break}return console.warn("401 Unauthorized. Trying to refresh token..."),r.next=8,v();case 8:if(!r.sent){r.next=24;break}return console.log("Retrying request after token refresh..."),r.prev=11,r.next=14,e.request(s,a,c,i,u,!1);case 14:h=r.sent,n(h),r.next=21;break;case 18:r.prev=18,r.t0=r.catch(11),p(r.t0);case 21:return r.abrupt("return");case 24:return T(),m={code:401,message:"Session expired. Please log in again."},e.showApiError(m),p(m),r.abrupt("return");case 29:g&&k(g)?(E=JSON.parse(g),d?n(E):(e.showApiError(E),p(E))):d?n(g):(e.showApiError(g),p(g)),d||new o({ErrorCodeData:{code:f.status,message:g},ErrorType:s}).showErrorPopup(),r.next=38;break;case 33:r.prev=33,r.t1=r.catch(1),S={code:f.status,message:"Parsing failed",details:r.t1},e.showApiError(S),p(S);case 38:case"end":return r.stop()}}),r,null,[[1,33],[11,18]])}))),null!=c?f.send(JSON.stringify(c)):f.send()}));case 27:return n.abrupt("return",n.sent);case 30:return n.prev=30,n.t0=n.catch(4),e.showApiError(n.t0),new o({ErrorCodeData:{code:0,message:n.t0 instanceof Error?n.t0.message:String(n.t0)},ErrorType:s}).showErrorPopup(),n.abrupt("return",Promise.reject(n.t0));case 36:case"end":return n.stop()}}),n,null,[[4,30]])})));return function(e,r,t,s,a,o){return n.apply(this,arguments)}}(),e.getBaseUrl=function(){return h},e.showApiSuccess=function(e){console.log("✅ SUCCESS: "+e),g.getDispatcher().emit(u.ERROR_MSG_NOTIFY,e)},e.showApiError=function(e){var r="Something went wrong. Please try again.";null!=e&&e.message?r=e.message:"string"==typeof e?r=e:null!=e&&e.code&&(r="Error Code "+e.code),console.error("❌ ERROR: "+r),g.getDispatcher().emit(u.ERROR_MSG_NOTIFY,r)},e}());function R(){i.isLogin=!1,i.hostname="",i.apiBaseURL="",i.publicKeyPem="",i.is_verified=!1,i.auctionIndex=0,i.isBidPlaced=!0,i.is_Decimal_Count=1,i.is_MinPrice=.1}n._RF.pop()}}}));

System.register("chunks:///_virtual/ApiUrls.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"6fa1ef6WetOj6Rjs46ccHjh","ApiUrls",void 0);e("API_URLS",{LOGIN:"v2/user/login",SEND_OTP:"v2/user/send-otp",REGISTRATION:"v1/user/",AUCTION_HOUSE:"v1/auction-house/auction-house-id?subdomain=",WALLET_BALANCE:"v1/user/wallet/balance/",UPLOAD_IMAGE:"v1/media/multiple",AUCTION_LIST:"v1/auction-house/auction/list",SHIPPING_INFO:"v1/shipping-info",LOGOUT:"v1/user/logout",UNIQUE_BIDS:"v1/auction/unique-bids/",TRANSFER:"ransfer/plays",PIN_TOGGLE:"v1/auction/pin-toggle/",SEND_OTP_XP_TRANSFER:"v1/user/send-otp-xptransfer",VERIFY_OTP_XP_TRANSFER:"v1/user/verify-otp-xptransfer",AUCTION_HOUSE_CONFIGS:"v1/auction-house/",TRANSACTION_HISTORY:function(e,t){return"v1/user/player-transaction/"+e+"?limit=30&page=0&entryType="+t},DELIVERY_STATUS:"v1/auction/update-delivery-status",COUNTRY_DETAILS:"v1/location/countries/list",VERIFY_DELIVERY_STATUS:"v1/auction/verify-delivery-status"});t._RF.pop()}}}));

System.register("chunks:///_virtual/AuctionListManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AuctionManager.ts","./BigDealGameModel.ts","./PlayerKeyboardHandler.ts","./SocketEventHandler.ts","./GamePlay.ts","./EventManager.ts","./DetailsPanelManager.ts","./BigDealEvents.ts"],(function(e){"use strict";var n,t,a,i,r,o,c,u,s,l,g,d,p,h,f,b,A,v,M,y,m;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){c=e.cclegacy,u=e._decorator,s=e.Prefab,l=e.Node,g=e.Label,d=e.Component,p=e.instantiate},function(e){h=e.AuctionManager},function(e){f=e.BigDealGameModel},function(e){b=e.PlayerKeyboardHandler},function(e){A=e.SocketEventHandler},function(e){v=e.GamePlay},function(e){M=e.default},function(e){y=e.DetailsPanelManager},function(e){m=e.BigDealEvents}],execute:function(){var P,L,w,H,E,k,N,D,z,C,S,x,G,I,K,R,_,B,F;c._RF.push({},"cee92rwc91Lhaj+ehnZx3MX","AuctionListManager",void 0);var T=u.ccclass,O=u.property;e("AuctionListManager",(P=T("AuctionListManager"),L=O(s),w=O(l),H=O(b),E=O(A),k=O(y),N=O(v),D=O(g),z=O(l),P((x=n((S=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return n=e.call.apply(e,[this].concat(r))||this,a(n,"AuctionManager",x,i(n)),a(n,"AuctionManagerParent",G,i(n)),a(n,"playerKeyboardHandler",I,i(n)),a(n,"socketEventHandler",K,i(n)),a(n,"detailsPanel",R,i(n)),a(n,"gameManager",_,i(n)),a(n,"bidPriceLabel",B,i(n)),a(n,"comingSoonPage",F,i(n)),n.AuctionManagerNodes=[],n.saveAuctionId=[],n}t(n,e);var c=n.prototype;return c.start=function(){var e=M.getDispatcher();e.on("onAuctionState:new:auction",this.AddNewAuction,this),e.on(m.ON_AUCTION_COMPLETE,this.removeAuction,this)},c.initFromGameFlow=function(){var e=r(o().mark((function e(){var n,t,a,i,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{for(t=null==(n=f.auctionHouseListResponse)?void 0:n.data,a=0;a<t.length;a++)i=t[a],r=p(this.AuctionManager),this.AuctionManagerParent.addChild(r),r.getComponent(h).init(i,a,this.playerKeyboardHandler,this.socketEventHandler,this.gameManager,this.bidPriceLabel),this.AuctionManagerNodes.unshift(r),this.saveAuctionId.push(i.id)}catch(e){console.error("Error in AuctionListManager:",e)}case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.AddNewAuction=function(){var e=r(o().mark((function e(n){var t,a,i,r,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,console.log("getAuctionHouseListData",n),a=null==(t=f.auctionHouseListResponse)?void 0:t.data,i=0;case 4:if(!(i<a.length)){e.next=13;break}if(r=a[i],console.log("AuctionListManager",r),!this.saveAuctionId.includes(r.id)){e.next=9;break}return e.abrupt("continue",10);case 9:n==r.id&&(c=p(this.AuctionManager),this.AuctionManagerParent.addChild(c),c.getComponent(h).init(r,i,this.playerKeyboardHandler,this.socketEventHandler,this.gameManager,this.bidPriceLabel),this.AuctionManagerNodes.unshift(c),this.saveAuctionId.push(r.id));case 10:i++,e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Error in AuctionListManager:",e.t0);case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(n){return e.apply(this,arguments)}}(),c.removeAuction=function(e){var n=this;if(0!==this.AuctionManagerNodes.length){var t=!1;this.AuctionManagerNodes.forEach((function(a,i){var r=a.getComponent(h);r.getAuctionid()===e?(a.destroy(),n.AuctionManagerNodes.splice(i,1)):t||(t=!0,r.onSelect())})),0===this.AuctionManagerNodes.length&&!1===t?(this.comingSoonPage.active=!0,f.auctionHouseListResponse=null):this.AuctionManagerNodes[0].getComponent(h).onSelect()}},n}(d)).prototype,"AuctionManager",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(S.prototype,"AuctionManagerParent",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(S.prototype,"playerKeyboardHandler",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=n(S.prototype,"socketEventHandler",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(S.prototype,"detailsPanel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(S.prototype,"gameManager",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(S.prototype,"bidPriceLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(S.prototype,"comingSoonPage",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=S))||C));c._RF.pop()}}}));

System.register("chunks:///_virtual/AuctionManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./BigDealEvents.ts","./BigDealGameModel.ts","./BidStorageManager.ts","./MyAudioManager.ts","./ApiUrls.ts","./APIManager.ts","./IndexedDBManager.ts"],(function(e){"use strict";var i,t,n,r,o,a,l,s,u,c,d,b,h,g,p,m,f,v,M,y,N,P,L,_,E,I,S,B,w,C,x,A,D,R;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,u=e.Node,c=e.Label,d=e.ProgressBar,b=e.Slider,h=e.Button,g=e.SpriteFrame,p=e.Sprite,m=e.ScrollView,f=e.Prefab,v=e.ParticleSystem2D,M=e.color,y=e.Color,N=e.tween,P=e.instantiate,L=e.Component},function(e){_=e.default},function(e){E=e.BigDealEvents,I=e.StaticProperties,S=e.BigDealClientEvents},function(e){B=e.BigDealGameModel},function(e){w=e.BidStorageManager},function(e){C=e.MyAudioManager},function(e){x=e.API_URLS},function(e){A=e.APIManager,D=e.MethodType},function(e){R=e.IndexedDBManager}],execute:function(){var H,T,U,z,q,O,G,k,F,K,V,X,W,Y,j,Z,J,Q,$,ee,ie,te,ne,re,oe,ae,le,se,ue,ce,de,be,he,ge,pe,me,fe,ve,Me,ye,Ne,Pe,Le,_e,Ee,Ie,Se,Be,we,Ce,xe,Ae,De;e("getCurrentTime",Te),l._RF.push({},"a81fe4wKZZAiqxgXMjcEskb","AuctionManager",void 0);var Re=s.ccclass,He=s.property;e("AuctionManager",(H=Re("AuctionManager"),T=He(u),U=He(u),z=He(c),q=He(c),O=He(c),G=He(c),k=He(c),F=He(u),K=He(u),V=He(d),X=He(b),W=He(c),Y=He(u),j=He(u),Z=He(h),J=He(h),Q=He(h),$=He(g),ee=He(g),ie=He(p),te=He(p),ne=He(m),re=He(u),oe=He(f),ae=He(v),H((ue=i((se=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return i=e.call.apply(e,[this].concat(o))||this,n(i,"onDisableNode",ue,r(i)),n(i,"onEnableNode",ce,r(i)),n(i,"userNameLabel",de,r(i)),n(i,"winAmountLabel",be,r(i)),n(i,"bidPriceLabel",he,r(i)),n(i,"uniqueLabel",ge,r(i)),n(i,"msgLabel",pe,r(i)),n(i,"thombNode",me,r(i)),n(i,"emogiNode",fe,r(i)),n(i,"progressBar",ve,r(i)),n(i,"slider",Me,r(i)),n(i,"percentageLabel",ye,r(i)),n(i,"setPinNode",Ne,r(i)),n(i,"isPinNode",Pe,r(i)),n(i,"selectButton",Le,r(i)),n(i,"openAuction",_e,r(i)),n(i,"placeBids",Ee,r(i)),n(i,"thombNodeImage",Ie,r(i)),n(i,"emogiNodeImage",Se,r(i)),n(i,"bidProgressM1",Be,r(i)),n(i,"bidProgressM2",we,r(i)),n(i,"historyScrollView",Ce,r(i)),n(i,"historyParent",xe,r(i)),n(i,"bidHistoryPrefab",Ae,r(i)),n(i,"particleSystem2D",De,r(i)),i.playerKeyboardHandler=null,i.socketEventHandler=null,i.bidStorageManager=null,i.gameManager=null,i.bidMap=new Map,i.allBidEntries=[],i.isPinned=!1,i.currentNumber=0,i.auctionId=null,i.auctionIndex=0,i.isUniquebidPrice=0,i}t(i,e);var l=i.prototype;return l.start=function(){_.getDispatcher().on(E.AUCTION_SELECTION,this.onUnselect,this),this.onEvents()},l.onEnable=function(){var e,i;this.auctionId==(null==(e=B.auctionHouseListResponse)||null==(i=e.data[I.auctionIndex])?void 0:i.id)&&(this.playerKeyboardHandler.selectAuctionLabel(this.bidPriceLabel),this.socketEventHandler.selectAuctionLabel(this.bidPriceLabel))},l.onDestroy=function(){this.onEventsOff()},l.onEvents=function(){var e=_.getDispatcher();e.on(S.CLS_AUCTION_MIN_MAX_PERCENTAGE,this.onAuctionMinMaxPercentage,this),e.on(S.CLS_MIN_MAX_BID_CANCEL,this.onMinMaxCancelBid,this),e.on(E.SET_BID_HISTORY,this.onMinMaxRecentBid,this)},l.onEventsOff=function(){var e=_.getDispatcher();e.off(S.CLS_AUCTION_MIN_MAX_PERCENTAGE,this.onAuctionMinMaxPercentage,this),e.off(S.CLS_MIN_MAX_BID_CANCEL,this.onMinMaxCancelBid,this),e.off(E.SET_BID_HISTORY,this.onMinMaxRecentBid,this)},l.onSelect=function(){var e,i;console.log("onSelect"),I.auctionIndex=this.auctionIndex,this.userNameLabel.color=M("#FF9CFB"),this.winAmountLabel.color=y.WHITE,""==this.msgLabel.string?(this.uniqueLabel.color=y.WHITE,this.msgLabel.color=y.WHITE):"Wow!"==this.msgLabel.string?(this.uniqueLabel.color=y.GREEN,this.msgLabel.color=y.GREEN):(this.uniqueLabel.color=y.RED,this.msgLabel.color=y.RED),this.thombNode.getComponent(p).grayscale=!1,this.emogiNode.getComponent(p).grayscale=!1,I.is_Decimal_Count=(null==(e=B.auctionHouseListResponse)||null==(i=e.data[I.auctionIndex])?void 0:i.decimal_count)||1,I.is_MinPrice=1/Math.pow(10,I.is_Decimal_Count),console.log("StaticProperties.is_MinPrice",I.is_MinPrice,I.is_Decimal_Count),this.onEnableNode.active=!0,this.onDisableNode.active=!1,this.playerKeyboardHandler.selectAuctionLabel(this.bidPriceLabel),this.socketEventHandler.selectAuctionLabel(this.bidPriceLabel),this.selectButton.interactable=!1,this.selectButton.node.active=!1,this.openAuction.interactable=!0,this.placeBids.interactable=!0,this.historyScrollView.enabled=!0,_.getDispatcher().emit(E.AUCTION_SELECTION,this.auctionId),_.getDispatcher().emit(E.ON_SELECT_AUCTION)},l.enterBid=function(){this.isUniquebidPrice=Number(this.bidPriceLabel.string),this.playerKeyboardHandler.onDone(),this.socketEventHandler.onEnterBid()},l.onUnselect=function(e){var i,t,n,r;if(e!=this.auctionId){this.userNameLabel.color=M(147,149,152),this.winAmountLabel.color=M(147,149,152),this.uniqueLabel.color=M(147,149,152),this.msgLabel.color=M(147,149,152),this.thombNode.getComponent(p).grayscale=!0,this.emogiNode.getComponent(p).grayscale=!0,this.onEnableNode.active=!1,this.onDisableNode.active=!0,this.selectButton.interactable=!0,this.selectButton.node.active=!0,this.openAuction.interactable=!1,this.placeBids.interactable=!1;var o=null==(i=B.auctionHouseListResponse)||null==(t=i.data[I.auctionIndex])?void 0:t.min_bid_price,a=null==(n=B.auctionHouseListResponse)||null==(r=n.data[I.auctionIndex])?void 0:r.max_bid_price,l="Enter between "+(o+I.is_MinPrice)+" - "+(a-I.is_MinPrice);this.bidPriceLabel.string=l,this.historyScrollView.scrollToLeft(0),this.historyScrollView.enabled=!1}},l.resetParticle=function(){this.particleSystem2D.forEach((function(e){e.resetSystem()}))},l.onGamePLay=function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I.auctionIndex=this.auctionIndex,this.gameManager.isOnGame();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.onPinSet=function(){if(!I.isLogin)return console.log("please login to pin or unpin the auction"),void _.getDispatcher().emit(E.ERROR_MSG_NOTIFY,"please login to pin or unpin the auction");this.isPinned=!1,this.setPinNode.active=!0,this.isPinNode.active=!1,this.node.setSiblingIndex(0),this.setPinUnpin(!0)},l.onPinUnset=function(){if(!I.isLogin)return console.log("please login to pin or unpin the auction"),void _.getDispatcher().emit(E.ERROR_MSG_NOTIFY,"please login to pin or unpin the auction");this.isPinned=!0,this.setPinNode.active=!1,this.isPinNode.active=!0;var e=this.node.parent.children.length-1;this.node.setSiblingIndex(e),this.setPinUnpin(!1)},l.setPinUnpin=function(){var e=o(a().mark((function e(i){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={is_pinned:i},n=""+x.PIN_TOGGLE+this.auctionId,e.next=5,A.request(n,D.POST,t,!0);case 5:e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),console.error("setPinUnpin failed:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(i){return e.apply(this,arguments)}}(),l.getAuctionid=function(){return this.auctionId},l.init=function(){var e=o(a().mark((function e(i,t,n,r,o,l){var s,u,c,d,b,h,g,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.userNameLabel.string=i.title.toString()||"",g=null==(s=B.auctionHouseListResponse)||null==(u=s.data[t])?void 0:u.plays_consumed_on_bid,this.winAmountLabel.string=(null==i||null==(c=i.products)||null==(d=c.price)?void 0:d.toString())+"  |  "+g.toFixed(0)+"X",this.bidPriceLabel=l,this.auctionId=i.id,this.auctionIndex=t,this.playerKeyboardHandler=n,this.socketEventHandler=r,this.gameManager=o,I.is_Decimal_Count=(null==(b=B.auctionHouseListResponse)||null==(h=b.data[I.auctionIndex])?void 0:h.decimal_count)||1,I.is_MinPrice=1/Math.pow(10,I.is_Decimal_Count),console.log("StaticProperties.is_MinPrice",I.is_MinPrice,I.is_Decimal_Count),this.bidStorageManager=new w(this.auctionId),e.next=15,this.bidStorageManager.init();case 15:return p=this.bidStorageManager.getUniqueBidCount(),this.uniqueLabel.string="Unique ("+p+")",i.is_pinned&&(this.isPinned=!1,this.setPinNode.active=!0,this.isPinNode.active=!1),this.onEnable(),t===I.auctionIndex?this.onSelect():this.onUnselect(""),e.prev=20,e.next=23,this.loadFromStorage();case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(20),console.error("Error loading bids from storage:",e.t0);case 28:this.allBidEntries=Array.from(this.bidMap.entries()),this.renderMyBids();case 30:case"end":return e.stop()}}),e,this,[[20,25]])})));return function(i,t,n,r,o,a){return e.apply(this,arguments)}}(),l.animateBidPercentage=function(e,i){this.currentNumber=e,N({value:e}).delay(.286).to((i-e)/50,{value:i},{onUpdate:this.updateBidPercentageLabel.bind(this)}).start()},l.updateBidPercentageLabel=function(e){var i,t;this.currentNumber=Math.floor(e.value),null!=(i=this.slider)&&i.progress&&(this.slider.progress=this.currentNumber/100),null!=(t=this.progressBar)&&t.progress&&(this.progressBar.progress=this.currentNumber/100),this.percentageLabel&&(this.percentageLabel.string=this.currentNumber+"%"),this.bidProgressM1&&(this.bidProgressM1.fillRange=this.currentNumber/100),this.bidProgressM2&&(this.bidProgressM2.fillRange=this.currentNumber/100)},l.onAuctionMinMaxPercentage=function(e){var i,t;if(null!=e&&null!=(i=e.data)&&i.auction_id&&(null==e||null==(t=e.data)?void 0:t.auction_id)===this.auctionId){var n;B.auctionMinMaxPercentage=e;var r=null==e||null==(n=e.data)?void 0:n.bid_percentage;if(!r)return;this.animateBidPercentage(this.currentNumber,r)}},l.onMinMaxRecentBid=function(e,i){console.log("onMinMaxRecentBid",e,i);try{var t,n;if(null!=e&&null!=(t=e.data)&&t.auction_id&&(null==e||null==(n=e.data)?void 0:n.auction_id)===this.auctionId){var r,o,a;B.MinMaxRecentBid=e;var l=null==e||null==(r=e.data)?void 0:r.is_unique,s=null!=e&&null!=(o=e.data)&&o.uuid?null==e||null==(a=e.data)?void 0:a.uuid:"",u=i;if(u&&u>0){var c=Te(),d={bidPrice:u.toString(),isUnique:l,Time:c};if(this.bidStorageManager.addBid(s,d),l&&s){var b=this.createBidHistory(u,l);b&&s&&(b.name=""+s),this.thombNode.getComponent(p).spriteFrame=this.thombNodeImage[0],this.emogiNode.getComponent(p).spriteFrame=this.emogiNodeImage[0];var h=this.bidStorageManager.getUniqueBidCount();this.uniqueLabel.string="Unique ("+h+")",this.msgLabel.string="Wow!",this.uniqueLabel.color=y.GREEN,this.msgLabel.color=y.GREEN,C.inst.play("Unique"),this.resetParticle()}else{var g=this.createBidHistory(u,l);g&&s&&(g.name=""+s),this.thombNode.getComponent(p).spriteFrame=this.thombNodeImage[1],this.emogiNode.getComponent(p).spriteFrame=this.emogiNodeImage[1],this.msgLabel.string="Try\nagain!",this.uniqueLabel.color=y.RED,this.msgLabel.color=y.RED,C.inst.play("NotUnique")}}}}catch(e){console.error("Error in onMinMaxRecentBid:",e)}},l.createBidHistory=function(e,i){var t,n=P(this.bidHistoryPrefab),r=null==(t=n.getChildByName("Label"))?void 0:t.getComponent(c);return r&&(r.string=null==e?void 0:e.toString()),this.historyParent.children.length<1&&(n.getChildByName("Label2").active=!1),this.historyParent.addChild(n),i&&(r.color=y.GREEN,n.getComponent(p).color=M(50,139,54,255)),n.setSiblingIndex(0),n},l.onMinMaxCancelBid=function(e){if(null!=e&&e.auction_id&&(null==e?void 0:e.auction_id)===this.auctionId){var i;this.bidStorageManager.removeBid(e.uuid);var t=this.bidStorageManager.getUniqueBidCount();this.uniqueLabel.string="Unique ("+t+")";var n=(null==(i=this.historyParent)?void 0:i.getChildByName(e.uuid))||null;if(n){var r,o=null==(r=n.getChildByName("Label"))?void 0:r.getComponent(c);o&&(o.color=new y(255,255,255))}}},l.renderMyBids=function(){var e=this;this.historyParent.removeAllChildren(),this.allBidEntries.forEach((function(i){i[0];var t=i[1];e.createBidHistory(Number(t.bidPrice),t.isUnique)}))},l.loadFromStorage=function(){var e=this;return new Promise(o(a().mark((function i(t,n){var r;return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,!R.inst.getItem(e.auctionId)){i.next=6;break}return i.next=4,R.inst.getItem(e.auctionId);case 4:if(r=i.sent)try{e.bidMap=new Map(JSON.parse(r))}catch(i){console.error("Error parsing bid storage",i),e.bidMap.clear()}case 6:t(),i.next=13;break;case 9:i.prev=9,i.t0=i.catch(0),console.error("Error accessing localStorage",i.t0),n(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,9]])}))))},i}(L)).prototype,"onDisableNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=i(se.prototype,"onEnableNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=i(se.prototype,"userNameLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=i(se.prototype,"winAmountLabel",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=i(se.prototype,"bidPriceLabel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=i(se.prototype,"uniqueLabel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=i(se.prototype,"msgLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=i(se.prototype,"thombNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=i(se.prototype,"emogiNode",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=i(se.prototype,"progressBar",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=i(se.prototype,"slider",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=i(se.prototype,"percentageLabel",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=i(se.prototype,"setPinNode",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=i(se.prototype,"isPinNode",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=i(se.prototype,"selectButton",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=i(se.prototype,"openAuction",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=i(se.prototype,"placeBids",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=i(se.prototype,"thombNodeImage",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Se=i(se.prototype,"emogiNodeImage",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Be=i(se.prototype,"bidProgressM1",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=i(se.prototype,"bidProgressM2",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=i(se.prototype,"historyScrollView",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=i(se.prototype,"historyParent",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=i(se.prototype,"bidHistoryPrefab",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=i(se.prototype,"particleSystem2D",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[null]}}),le=se))||le));function Te(){var e=new Date;return e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")+":"+e.getSeconds().toString().padStart(2,"0")}l._RF.pop()}}}));

System.register("chunks:///_virtual/AvatarIconsManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,n,a,o,i,s,c,u,l,p,m,v,f,g,d;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,u=e.Node,l=e.assetManager,p=e.ImageAsset,m=e.Texture2D,v=e.SpriteFrame,f=e.instantiate,g=e.Sprite,d=e.Component}],execute:function(){var w,h,y,I,b;e("RemoteAvatar",F),s._RF.push({},"9b9fbDfemtB+Yye45A2vZaw","AvatarIconsManager",void 0);var x=c.ccclass,A=c.property;e("AvatarIconsManager",(w=x("AvatarIconsManager"),h=A(u),w((b=r((I=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return r=e.call.apply(e,[this].concat(o))||this,n(r,"image",b,a(r)),r}t(r,e);var s=r.prototype;return s.newImageNode=function(){var e=this;return new Promise((function(r,t){try{var n=f(e.image);e.node.addChild(n),r(n)}catch(e){console.error("newBidHistoryNode",e),t(e)}}))},s.setAvatarIcon=function(e,r){var t=this;return void 0===r&&(r=null),new Promise(o(i().mark((function n(a,o){var s,c,u,l;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=e.split("/").pop()||"",c=s.split(".")[0],console.log(c),!(u=!!t.node.getChildByName(c)&&t.node.getChildByName(c))){n.next=8;break}return r&&(r.spriteFrame=u.getComponent(g).spriteFrame),a(),n.abrupt("return");case 8:return n.prev=8,n.next=11,t.newImageNode();case 11:return(l=n.sent).name=c,n.next=15,F(e,l.getComponent(g));case 15:r&&(r.spriteFrame=l.getComponent(g).spriteFrame),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(8),console.error("[AvatarIconsManager] Failed to load avatar: "+e,n.t0);case 21:a();case 22:case"end":return n.stop()}}),n,null,[[8,18]])}))))},s.loadRemoteSprite=function(e){return new Promise((function(r,t){l.loadRemote(e,(function(e,n){if(e||!(n instanceof p))return t(e||new Error("Invalid ImageAsset"));var a=new m;a.image=n;var o=new v;o.texture=a,r(o)}))}))},r}(d)).prototype,"image",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=I))||y));function F(e,r){return new Promise((function(t,n){l.loadRemote(e,{ext:".png",xhrResponseType:"blob"},(function(e,a){if(e||!(a instanceof p))return n(e||new Error("Invalid image asset"));var o=new m;o.image=a;var i=new v;i.texture=o,r.spriteFrame=i,t()}))}))}s._RF.pop()}}}));

System.register("chunks:///_virtual/BidStorageManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IndexedDBManager.ts"],(function(t){"use strict";var e,r,n,i,a;return{setters:[function(t){e=t.createForOfIteratorHelperLoose,r=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){i=t.cclegacy},function(t){a=t.IndexedDBManager}],execute:function(){i._RF.push({},"7697aWtZKND6I8DiZoCg/nf","BidStorageManager",void 0);t("BidStorageManager",function(){function t(t){this.bidMap=new Map,this.localKey="",this.setLocalKey(t)}var i=t.prototype;return i.setLocalKey=function(t){this.localKey=t},i.init=function(){var t=r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadFromStorage();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.addBid=function(t,e){this.bidMap.set(t,e),this.saveToStorage()},i.removeBid=function(t){var e=this.bidMap.get(t);e&&(e.isUnique=!1,this.bidMap.set(t,e))},i.getBid=function(t){return this.bidMap.get(t)},i.getAllBids=function(){return Array.from(this.bidMap.entries())},i.loadFromStorage=function(){var t=r(n().mark((function t(){var e,r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.inst.getItem(this.localKey)){t.next=5;break}return t.next=3,a.inst.getItem(this.localKey);case 3:if(e=t.sent)try{r=JSON.parse(e),this.bidMap=new Map(r)}catch(t){console.error("Error parsing bid data",t),this.bidMap.clear()}case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.saveToStorage=function(){a.inst.setItem(this.localKey,JSON.stringify(Array.from(this.bidMap.entries())))},i.getUniqueBidCount=function(){for(var t,r=0,n=e(this.bidMap);!(t=n()).done;){t.value[1].isUnique&&r++}return r},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/BigDealEvents.ts",["cc","./EventEmitter.ts"],(function(_){"use strict";var E,C;return{setters:[function(_){E=_.cclegacy},function(_){C=_.EventEmitter}],execute:function(){_({BigDealClientEvents:void 0,BigDealEvents:void 0,BigDealServerEvents:void 0,CookieKey:void 0}),E._RF.push({},"ecf6ew4wsRFg5CbxVP05RIf","BigDealEvents",void 0);var e,T,A;_("StaticProperties",{isLogin:!1,hostname:"",apiBaseURL:"",publicKeyPem:"",is_verified:!1,auctionIndex:0,isBidPlaced:!0,is_Decimal_Count:1,is_MinPrice:.1,countryCodeIndex:0});!function(_){_.TIME_UP="TIME_UP",_.ERROR_MSG_POPUP="ERROR_MSG_POPUP",_.ERROR_MSG_NOTIFY="ERROR_MSG_NOTIFY",_.IS_LOADER_ON="IS_LOADER_ON",_.IS_LOADER_OFF="IS_LOADER_OFF",_.CLOSE_ALL_POPUPS="CLOSE_ALL_POPUPS",_.AUCTION_SELECTION="AUCTION_SELECTION",_.SET_BID_HISTORY="SET_BID_HISTORY",_.PROFILE_UPDATE="PROFILE_UPDATE",_.COUNTRY_DETAILS_FETCHED="COUNTRY_DETAILS_FETCHED",_.ON_SELECT_AUCTION="ON_SELECT_AUCTION",_.ON_AUCTION_COMPLETE="ON_AUCTION_COMPLETE",_.REDIRECT_TO_HOME="REDIRECT_TO_HOME",_.AUCTION_Claim="AUCTION_Claim",_.COUNTRY_CODE_INDEX="COUNTRY_CODE_INDEX"}(e||(e=_("BigDealEvents",{}))),function(_){_.CLS_MIN_MAX_BID_PERCENTAGE="CLS_MIN_MAX_BID_PERCENTAGE",_.CLS_AUCTION_MIN_MAX_PERCENTAGE="CLS_AUCTION_MIN_MAX_PERCENTAGE",_.CLS_PLAYER_INFO_MIN_MAX="CLS_PLAYER_INFO_MIN_MAX",_.CLS_AUCTION_RESULT_READY="CLS_AUCTION_RESULT_READY",_.CLS_AUCTION_WINNER="CLS_AUCTION_WINNER",_.CLS_AUCTION_CURRENT_PLAY="CLS_AUCTION_CURRENT_PLAY",_.CLS_AUCTION_AVATARS="CLS_AUCTION_AVATARS",_.CLS_PLAYER_PLAY_CREDIT="CLS_PLAYER_PLAY_CREDIT",_.CLS_AUCTION_STATE="CLS_AUCTION_STATE",_.CLS_AUCTION_ERROR="CLS_AUCTION_ERROR",_.CLS_AUCTION_HOUSE_LOGO_UPDATE="CLS_AUCTION_HOUSE_LOGO_UPDATE",_.CLS_PRODUCT_MEDIA_UPDATE="CLS_PRODUCT_MEDIA_UPDATE",_.CLS_Min_Max_Recent_Bid="CLS_Min_Max_Recent_Bid",_.CLS_MIN_MAX_BID_CANCEL="CLS_MIN_MAX_BID_CANCEL"}(T||(T=_("BigDealClientEvents",{}))),function(_){_.MIN_MAX_BID_PERCENTAGE="min:max:bid:percentage",_.AUCTION_MIN_MAX_PERCENTAGE="auction:min:max:percentage",_.PLAYER_INFO_MIN_MAX="player:info:min:max",_.AUCTION_RESULT_READY="auction:result:ready",_.AUCTION_WINNER="auction:winner",_.AUCTION_CURRENT_PLAY="auction:current:play",_.AUCTION_AVATARS="auction:avatars",_.PLAYER_PLAY_CREDIT="player:plays:credit",_.AUCTION_STATE="auction:state",_.AUCTION_ERROR="auction:error",_.AUCTION_HOUSE_LOGO_UPDATE="auction:house:logo:updated",_.PRODUCT_MEDIA_UPDATE="product:media:updated"}(A||(A=_("BigDealServerEvents",{})));var O;_("Edit_Box_Event",new C),_("Edit_Box_Event_Name","Edit_Box_Event_Name");!function(_){_.ACCESS_TOKEN="accessToken",_.USER_ID="userId",_.REFRESH_TOKEN="refreshToken"}(O||(O=_("CookieKey",{})));_("getPlayarToken",(function(){var _=localStorage.getItem("accessToken");return _||console.error("accessToken not found!"),_}));E._RF.pop()}}}));

System.register("chunks:///_virtual/BigDealGameModel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"5c337le80BIP7ublEe2Cctw","BigDealGameModel",void 0);var o=e("BigDealGameModel",function(){function e(){}return e.setallData=function(){e._auctionHouseResponse=null,e._loginOtpResponse=null,e._loginDataResponse=null,e._playerBalancesResponse=null,e._profileUpdatedRes=null,e._playerInfoMinMax=null,e._auctionMinMaxPercentage=null,e._auctionCurrentPlay=null,e._auctionHouseListResponse=null,e._auctionAvatars=null,e._auctionWinner=null,e._auctionLiveState=null,e._minMaxRecentBid=null,e._upDateProfileResponse=null},n(e,null,[{key:"auctionHouseResponse",get:function(){return e._auctionHouseResponse},set:function(n){e._auctionHouseResponse=n}},{key:"loginOtpResponse",get:function(){return e._loginOtpResponse},set:function(n){e._loginOtpResponse=n}},{key:"loginDataResponse",get:function(){return e._loginDataResponse},set:function(n){e._loginDataResponse=n}},{key:"playerBalancesResponse",get:function(){return e._playerBalancesResponse},set:function(n){e._playerBalancesResponse=n}},{key:"auctionHouseListResponse",get:function(){return e._auctionHouseListResponse},set:function(n){e._auctionHouseListResponse=n}},{key:"profileUpdatedRes",get:function(){return e._profileUpdatedRes},set:function(n){e._profileUpdatedRes=n}},{key:"playerInfoMinMax",get:function(){return e._playerInfoMinMax},set:function(n){e._playerInfoMinMax=n}},{key:"auctionMinMaxPercentage",get:function(){return e._auctionMinMaxPercentage},set:function(n){e._auctionMinMaxPercentage=n}},{key:"auctionCurrentPlay",get:function(){return e._auctionCurrentPlay},set:function(n){e._auctionCurrentPlay=n}},{key:"auctionAvatars",get:function(){return e._auctionAvatars},set:function(n){e._auctionAvatars=n}},{key:"auctionWinner",get:function(){return e._auctionWinner},set:function(n){e._auctionWinner=n}},{key:"AuctionLiveState",get:function(){return e._auctionLiveState},set:function(n){e._auctionLiveState=n}},{key:"MinMaxRecentBid",get:function(){return e._minMaxRecentBid},set:function(n){e._minMaxRecentBid=n}},{key:"upDateProfileResponse",get:function(){return e._upDateProfileResponse},set:function(n){e._upDateProfileResponse=n}},{key:"uploadProfileRes",get:function(){return e._uploadProfileRes},set:function(n){e._uploadProfileRes=n}},{key:"uniqueBidApiResponse",get:function(){return e._uniqueBidApiResponse},set:function(n){e._uniqueBidApiResponse=n}},{key:"myAuctionResponse",get:function(){return e._myAuctionResponse},set:function(n){e._myAuctionResponse=n}},{key:"countryApiResponse",get:function(){return e._countryApiResponse},set:function(n){e._countryApiResponse=n}}]),e}());o._auctionHouseResponse=null,o._loginOtpResponse=null,o._loginDataResponse=null,o._playerBalancesResponse=null,o._profileUpdatedRes=null,o._playerInfoMinMax=null,o._auctionMinMaxPercentage=null,o._auctionCurrentPlay=null,o._auctionHouseListResponse=null,o._auctionAvatars=null,o._auctionWinner=null,o._auctionLiveState=null,o._minMaxRecentBid=null,o._upDateProfileResponse=null,o._uploadProfileRes=null,o._uniqueBidApiResponse=null,o._myAuctionResponse=null,o._countryApiResponse=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/BigDealLayoutManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var i,t,n,r,l,a,o,u,c;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,o=e.Node,u=e.view,c=e.Component}],execute:function(){var s,g,p,y,m,b,f,h,d,w,P,U,S,z,M,H,W,v,B,D,L,R,k,C,_;l._RF.push({},"24b1bQ8/QpJXqWDpT/LhO5r","BigDealLayoutManager",void 0);var F=a.ccclass,G=a.property;e("BigDealLayoutManager",(s=F("BigDealLayoutManager"),g=G(o),p=G(o),y=G(o),m=G(o),b=G(o),f=G(o),h=G(o),d=G(o),w=G(o),P=G(o),U=G(o),s((M=i((z=function(e){function i(){for(var i,t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return i=e.call.apply(e,[this].concat(l))||this,n(i,"homePageContent",M,r(i)),n(i,"homePagelogo",H,r(i)),n(i,"homeButton",W,r(i)),n(i,"gameHeader",v,r(i)),n(i,"midelUi",B,r(i)),n(i,"keypadHistory",D,r(i)),n(i,"winingMidelUi",L,r(i)),n(i,"winingHistory",R,r(i)),n(i,"RewardScreenMidelUi",k,r(i)),n(i,"myWalletmidUi",C,r(i)),n(i,"myWalletUpiPopUP",_,r(i)),i}t(i,e);var l=i.prototype;return l.start=function(){var e=u.getVisibleSize();e.width/e.height>.7&&(console.log("ipad"),this.HomeScreen(),this.GamePlay(),this.WiningPage(),this.MyWallet())},l.HomeScreen=function(){this.homePageContent.setScale(.8,.8,.8),this.homePagelogo.setScale(.8,.8,.8),this.homeButton.setScale(.8,.8,.8)},l.GamePlay=function(){this.gameHeader.setScale(.8,.8,.8),this.keypadHistory.setScale(.7,.7,.8)},l.WiningPage=function(){this.winingHistory.setScale(.7,.7,.8),this.winingMidelUi.setScale(.7,.7,.8),this.winingMidelUi.setPosition(0,200,0)},l.RewardPage=function(){},l.MyWallet=function(){this.myWalletmidUi.setScale(.7,.7,.8),this.myWalletUpiPopUP.setScale(.8,.8,.8)},i}(c)).prototype,"homePageContent",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(z.prototype,"homePagelogo",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(z.prototype,"homeButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(z.prototype,"gameHeader",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(z.prototype,"midelUi",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(z.prototype,"keypadHistory",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(z.prototype,"winingMidelUi",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(z.prototype,"winingHistory",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(z.prototype,"RewardScreenMidelUi",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(z.prototype,"myWalletmidUi",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(z.prototype,"myWalletUpiPopUP",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=z))||S));l._RF.pop()}}}));

System.register("chunks:///_virtual/BigDealSocketManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Socket_Io.mjs_cjs=&original=.js","./BigDealGameModel.ts","./BigDealEvents.ts","./EventManager.ts","./Socket_Io.js"],(function(e){"use strict";var t,n,o,c,i,s,a,r,l,u;return{setters:[function(e){t=e.createForOfIteratorHelperLoose,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){c=e.cclegacy,i=e._decorator},null,function(e){s=e.BigDealGameModel},function(e){a=e.StaticProperties,r=e.BigDealClientEvents},function(e){l=e.default},function(e){u=e.default}],execute:function(){var h,f;c._RF.push({},"89ded4rS4ZIvrxOPvbCd0Ku","BigDealSocketManager",void 0);var d=i.ccclass;e("BigDealSocketManager",d("BigDealSocketManager")(((f=function(){function e(){this.socket=null,this.baseUrl="",this.connTimeoutMs=1e4,this.reconnecting=!1,this.reconnectAttempts=0,this.maxReconnectDelayMs=15e3,this.minReconnectDelayMs=1e3,this.keepAliveInterval=null,this.watchdogInterval=null,this.lastActivityTs=Date.now(),this.keepAliveMs=25e3,this.watchdogCheckMs=15e3,this.driftThresholdMs=6e4,this.offlineQueue=[],this.waiters=[],this.baseUrl=a.apiBaseURL||"",this.setupLifecycleHandlers(),this.setupNetworkHandlers()}e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.clearInstance=function(){var t,n,o;null!=(t=e.instance)&&t.socket&&e.instance.socket.disconnect(),null==(n=e.instance)||n.stopKeepAlive(),null==(o=e.instance)||o.stopWatchdog(),e.instance=null};var c=e.prototype;return c.init=function(){var e=n(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(t=this.socket)||!t.connected){e.next=2;break}return e.abrupt("return",this.socket);case 2:return e.abrupt("return",this.connect());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.connect=function(){var e=this;return new Promise((function(t,n){try{var o,c,i=null==s||null==(o=s.loginDataResponse)||null==(c=o.data)?void 0:c.accessToken,r=i?e.baseUrl+"v1?accesstoken="+encodeURIComponent(i):e.baseUrl+"v2";e.socket&&(e.teardownSocketListeners(),e.socket.disconnect(),e.socket=null),console.log("[Socket] Connecting:",r),e.socket=u.io(r,{transports:["websocket"],reconnection:!1,timeout:e.connTimeoutMs,autoConnect:!0,multiplex:!1}),e.socket.on("connect",(function(){console.log("✅ [Socket] connected",e.socket.id),a.isBidPlaced=!0,e.lastActivityTs=Date.now(),e.reconnectAttempts=0,e.reconnecting=!1,e.registerSocketEvents(),e.startKeepAlive(),e.startWatchdog(),e.flushOfflineQueue(),e.bootstrapStreams(),e.waiters.splice(0).forEach((function(t){return t(e.socket)})),t(e.socket)})),e.socket.on("connect_error",(function(t){console.error("❌ [Socket] connect_error:",(null==t?void 0:t.message)||t),n(t),e.scheduleReconnect("connect_error")})),e.socket.on("connect_timeout",(function(){console.error("⏱️ [Socket] connect_timeout"),n(new Error("connect_timeout")),e.scheduleReconnect("connect_timeout")})),e.socket.on("disconnect",(function(t){console.warn("⚠️ [Socket] disconnected:",t),e.registerSocketEventsClosed(),e.stopKeepAlive(),e.scheduleReconnect("disconnect")})),e.socket.onAny((function(){e.lastActivityTs=Date.now()}))}catch(t){console.error("🔥 [Socket] init error:",t),n(t),e.scheduleReconnect("exception")}}))},c.scheduleReconnect=function(e){var t=this;if(!this.reconnecting){this.reconnecting=!0,this.reconnectAttempts++;var n=Math.min(this.minReconnectDelayMs*Math.pow(2,this.reconnectAttempts-1),this.maxReconnectDelayMs)+Math.floor(500*Math.random());console.warn("🔁 [Socket] Reconnect scheduled in "+n+"ms (attempt "+this.reconnectAttempts+") due to "+e),setTimeout((function(){if(t.socket&&!t.socket.connected)try{console.log("[Socket] Reconnecting now…"),t.socket.connect()}catch(e){console.error("[Socket] reconnect error:",e)}finally{t.reconnecting=!1}else t.reconnecting=!1}),n)}},c.setupLifecycleHandlers=function(){var e=this;document.addEventListener("visibilitychange",(function(){var t,n;"visible"===document.visibilityState?(console.log("👀 [Page] visible — verifying socket"),null!=(t=e.socket)&&t.connected?e.safeEmit("client:ping",{resumed:!0}):e.onClickReconnect()):null!=(n=e.socket)&&n.connected&&e.safeEmit("client:ping",{hidden:!0})})),window.addEventListener("beforeunload",(function(){e.safeEmit("client:ping",{closing:!0})}))},c.setupNetworkHandlers=function(){var e=this;window.addEventListener("online",(function(){var t;console.log("📶 [Network] online"),null!=(t=e.socket)&&t.connected||e.onClickReconnect()})),window.addEventListener("offline",(function(){console.warn("📴 [Network] offline — pausing keepalive"),e.stopKeepAlive()}))},c.startKeepAlive=function(){var e=this;this.stopKeepAlive(),this.keepAliveInterval=setInterval((function(){var t;null!=(t=e.socket)&&t.connected&&(e.lastActivityTs=Date.now(),e.socket.emit("client:ping",{t:e.lastActivityTs}))}),this.keepAliveMs)},c.stopKeepAlive=function(){this.keepAliveInterval&&(clearInterval(this.keepAliveInterval),this.keepAliveInterval=null)},c.startWatchdog=function(){var e=this;this.stopWatchdog(),this.watchdogInterval=setInterval((function(){var t;if(Date.now()-e.lastActivityTs>e.driftThresholdMs)return console.warn("⏰ [Socket] timer drift detected — forcing reconnect"),void e.onClickReconnect();null!=(t=e.socket)&&t.connected||(console.warn("🛡️ [Socket] watchdog sees disconnected socket — reconnecting"),e.onClickReconnect())}),this.watchdogCheckMs)},c.stopWatchdog=function(){this.watchdogInterval&&(clearInterval(this.watchdogInterval),this.watchdogInterval=null)},c.onClickReconnect=function(){if(this.socket)try{console.log("🔁 [Socket] force reconnect…"),this.teardownSocketListeners(),this.socket.disconnect(),this.socket.connect()}catch(e){console.error("[Socket] force reconnect error:",e),this.scheduleReconnect("force")}else this.connect()},c.sendMessage=function(e,t){var n;null!=(n=this.socket)&&n.connected?this.socket.emit(e,t):(console.warn("[Queue] socket offline — queued event "+e),this.offlineQueue.push({event:e,data:t}),this.scheduleReconnect("sendMessage"))},c.awaitConnected=function(){var e,t=this;return null!=(e=this.socket)&&e.connected?Promise.resolve(this.socket):new Promise((function(e){return t.waiters.push(e)}))},c.initsendMessege=function(){var e,t,n,o,c={player_id:null==(e=s.loginDataResponse)||null==(t=e.data)?void 0:t.id,auction_id:null==(n=s.auctionHouseListResponse)||null==(o=n.data[a.auctionIndex])?void 0:o.id};this.sendMessage("percentage:min:max",c),this.sendMessage("min:max:player:logs",c)},c.safeEmit=function(e,t){try{var n;null!=(n=this.socket)&&n.connected&&this.socket.emit(e,t)}catch(e){}},c.flushOfflineQueue=function(){var e;if(null!=(e=this.socket)&&e.connected&&0!==this.offlineQueue.length){console.log("📦 [Queue] flushing "+this.offlineQueue.length+" messages");for(var n,o=this.offlineQueue.splice(0),c=t(o);!(n=c()).done;){var i=n.value;this.socket.emit(i.event,i.data)}}},c.bootstrapStreams=function(){var e,t,n,o=this,c=(null==(e=s.auctionHouseListResponse)?void 0:e.data)||[],i=null==(t=s.loginDataResponse)||null==(n=t.data)?void 0:n.id;c.forEach((function(e){var t={player_id:i,auction_id:null==e?void 0:e.id};o.safeEmit("percentage:min:max",t),o.safeEmit("min:max:player:logs",t)}))},c.registerSocketEvents=function(){var e=this;this.socket&&(this.socket.on("auction:current:play",(function(e){l.getDispatcher().emit(r.CLS_AUCTION_CURRENT_PLAY,e)})),this.socket.on("auction:min:max:percentage",(function(e){l.getDispatcher().emit(r.CLS_AUCTION_MIN_MAX_PERCENTAGE,e)})),this.socket.on("min:max:bid:percentage",(function(e){l.getDispatcher().emit(r.CLS_AUCTION_MIN_MAX_PERCENTAGE,e)})),this.socket.on("auction:winner",(function(e){l.getDispatcher().emit(r.CLS_AUCTION_WINNER,e)})),this.socket.on("auction:state",(function(e){l.getDispatcher().emit(r.CLS_AUCTION_STATE,e)})),this.socket.on("auction:error",(function(e){l.getDispatcher().emit(r.CLS_AUCTION_ERROR,e)})),this.socket.on("min:max:recent:bid",(function(e){l.getDispatcher().emit(r.CLS_Min_Max_Recent_Bid,e)})),this.socket.on("auction:avatars",(function(e){l.getDispatcher().emit(r.CLS_AUCTION_AVATARS,e)})),this.socket.on("min:max:bid:cancel",(function(e){l.getDispatcher().emit(r.CLS_MIN_MAX_BID_CANCEL,e)})),this.socket.on("server:pong",(function(){e.lastActivityTs=Date.now()})))},c.registerSocketEventsClosed=function(){this.socket&&(this.socket.off("auction:current:play"),this.socket.off("auction:min:max:percentage"),this.socket.off("min:max:bid:percentage"),this.socket.off("auction:winner"),this.socket.off("auction:state"),this.socket.off("auction:error"),this.socket.off("min:max:recent:bid"),this.socket.off("auction:avatars"),this.socket.off("min:max:bid:cancel"),this.socket.off("server:pong"))},c.teardownSocketListeners=function(){try{var e;this.registerSocketEventsClosed(),null==(e=this.socket)||null==e.offAny||e.offAny()}catch(e){}},e}()).instance=null,h=f))||h);c._RF.pop()}}}));

System.register("chunks:///_virtual/BrowserBackButtonHandler.ts",["cc","./BigDealEvents.ts","./EventManager.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.cclegacy},function(t){i=t.BigDealEvents},function(t){n=t.default}],execute:function(){e._RF.push({},"1741deVeSxIF79baJNK1qly","BrowserBackButtonHandler",void 0);var s=t("BrowserBackButtonHandler",function(){function t(){}return t.init=function(){this.isInitialized||(this.isInitialized=!0,window.history.pushState({page:1},"",""),window.history.pushState({page:2},"",""),window.history.pushState({page:3},"",""),window.history.pushState({page:4},"",""),window.history.pushState({page:5},"",""),window.addEventListener("popstate",this.onBackPressed))},t.destroy=function(){this.isInitialized=!1,window.removeEventListener("popstate",this.onBackPressed)},t}());s.isInitialized=!1,s.onBackPressed=function(t){console.log("Back button pressed — staying in app"),n.getDispatcher().emit(i.ERROR_MSG_POPUP,"Back button pressed"),window.history.pushState({page:2},"","")},e._RF.pop()}}}));

System.register("chunks:///_virtual/BuyPlaysManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealEvents.ts"],(function(e){"use strict";var t,r,n,a,o;return{setters:[function(e){t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){n=e.cclegacy},function(e){a=e.getPlayarToken,o=e.StaticProperties}],execute:function(){n._RF.push({},"881a1wzPY5Dz708zAZZptDC","BuyPlaysManager",void 0);e("default",function(){function e(){}return e.generateBuyPlaysLink=function(){var e=t(r().mark((function e(t){var n,s,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("🔁 Sending buy plays request with payload:",t),e.prev=1,n=a(),e.next=5,fetch(o.apiBaseURL+"v1/transaction/buy-plays",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n},body:JSON.stringify(t)});case 5:return s=e.sent,e.next=8,s.json();case 8:if(c=e.sent,s.ok&&c.success){e.next=11;break}throw new Error(c.message||"Server error");case 11:c.data&&c.data.payment_url?(console.log("✅ Redirecting to payment URL:",c.data.payment_url),console.log("result.data.payment_url",c.data.payment_url),window.location.href=c.data.payment_url):(console.error("❌ Payment URL not found in response:",c),alert("Payment failed to initiate. Please try again.")),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.error("🚨 BuyPlaysManager Error:",e.t0),alert("Unable to process payment. Please check your internet connection or try again later.");case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),e.createOrderAndRedirect=function(){var e=t(r().mark((function e(t,n){var o,s,c,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=a(),e.next=4,fetch("https://your-backend.com/api/create-paypal-order",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+s},body:JSON.stringify({player_id:t,amount:n})});case 4:return c=e.sent,e.next=7,c.json();case 7:(i=e.sent).success&&null!=(o=i.data)&&o.payment_url?(console.log("Redirecting to PayPal:",i.data.payment_url),window.location.href=i.data.payment_url):(console.error("Failed to get PayPal URL:",i.message||"Unknown error"),alert("Payment initiation failed. Please try again.")),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error creating PayPal order:",e.t0),alert("Something went wrong. Please try again later.");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/BuyXPManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BuyPlaysManager.ts","./BigDealGameModel.ts","./EventManager.ts","./BigDealEvents.ts","./PayPalButtonManager.ts","./CustomPopUp.ts","./LanguageManager.ts"],(function(t){"use strict";var e,n,i,o,a,s,r,u,l,c,g,p,h,y,d,f,b,m,B,P,v,N,_,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Node,u=t.EditBox,l=t.Label,c=t.Button,g=t.Prefab,p=t.UIOpacity,h=t.tween,y=t.Vec3,d=t.instantiate,f=t.Component},function(t){b=t.default},function(t){m=t.BigDealGameModel},function(t){B=t.default},function(t){P=t.BigDealEvents,v=t.StaticProperties},function(t){N=t.PayPalButtonManager},function(t){_=t.CustomPopUp},function(t){L=t.LanguageManager}],execute:function(){var C,M,w,R,x,O,S,I,D,k,E,z,U,T,X,W,F,G,Z;a._RF.push({},"6e6dfGsrMxBhqhmwojL8yH7","BuyXPManager",void 0);var H=s.ccclass,Y=s.property;t("BuyXPManager",(C=H("BuyXPManager"),M=Y(r),w=Y(r),R=Y(u),x=Y(l),O=Y(c),S=Y(l),I=Y(l),D=Y(g),C((z=e((E=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,i(e,"bgNode",z,o(e)),i(e,"uiNode",U,o(e)),i(e,"inputBox",T,o(e)),i(e,"infoLabel",X,o(e)),i(e,"buyButton",W,o(e)),i(e,"getWayBy",F,o(e)),i(e,"xpTOusd",G,o(e)),i(e,"customPopUp",Z,o(e)),e.isButtonLocked=!1,e.convertPlays=0,e.playsString="",e}n(e,t);var a=e.prototype;return a.start=function(){var t=this;this.bgNode.getComponent(p).opacity=0,this.uiNode.active=!1,this.inputBox.node.on("text-changed",(function(){return t.onTextChanged()}),this),this.xpTOusd.string=""},a.onTextChanged=function(){var t=Number(this.inputBox.string);if(!isNaN(t)&&t>0&&t%1==0)console.log("Valid input"),this.playsString=t.toString(),this.infoLabel.string=t.toString(),this.isChackPaymentMethod(null,this.getWayBy.string);else{var e=L.instance.t("amount_to_be_paid");this.infoLabel.string=e,this.isChackPaymentMethod(null,this.getWayBy.string),console.log("Invalid input")}},a.isChackPaymentMethod=function(t,e){var n=e;if("INR UPI (India)"===n)this.infoLabel.string=this.inputBox.string;else if("Credit Card (Paypal)"===n){var i=Number(this.inputBox.string)/100;if(isNaN(i)||i<=0){var o=L.instance.t("amount_to_be_paid");this.infoLabel.string=o}else this.infoLabel.string=i+""}},a.showBuyXPPanel=function(){this.uiNode.active=!0,this.bgNode.active=!0,this.inputBox.string="",this.getWayBy.string="Select",this.playsString="";var t=L.instance.t("amount_to_be_paid");this.infoLabel.string=t,h(this.bgNode.getComponent(p)).to(.2,{opacity:255}).start(),h(this.uiNode).to(.2,{position:new y(0,0,0)}).call((function(){})).start(),this.buyButton.interactable=!0},a.hideBuyXPPanel=function(){var t=this;h(this.bgNode.getComponent(p)).to(.2,{opacity:0}).call((function(){t.bgNode.active=!1})).start(),h(this.uiNode).to(.2,{position:new y(0,-1500,0)}).call((function(){t.uiNode.active=!1})).start()},a.onBuyButtonClick=function(){var t=this;if(!this.isButtonLocked){this.isButtonLocked=!0;var e=this.inputBox.string;console.log("Buying XP with amount:",e),this.scheduleOnce((function(){t.isButtonLocked=!1}),2)}},a.getPayment=function(){var t=this;if(this.inputBox.string.length<1){B.getDispatcher().emit(P.ERROR_MSG_NOTIFY,"Please enter a valid amount greater than 0.")}else{this.buyButton.interactable=!1;var e=m.loginDataResponse.data.id,n=m.auctionHouseResponse.data.currentAuctionHouse.id,i=+Number(this.inputBox.string),o=+Number(this.infoLabel.string);if(isNaN(i)||i<=0){return B.getDispatcher().emit(P.ERROR_MSG_NOTIFY,"Please enter a valid amount greater than 0."),void(this.buyButton.interactable=!0)}if("INR UPI (India)"===this.getWayBy.string)b.generateBuyPlaysLink({player_id:e,auction_house_id:n,amount:i,plays:o,currency_type:"INR"});else if("Credit Card (Paypal)"===this.getWayBy.string){var a=i;N.launch(v.apiBaseURL,e,o,a,n,(function(e){t.hideBuyXPPanel(),B.getDispatcher().emit(P.IS_LOADER_ON,!0,a),t.showPopup("Payment Success!","You've successfully completed your payment. Enjoy your new XP!"),console.log("🎉 Payment Success!",e)}),(function(t){console.log("❌ Payment Failed",t)}))}else{console.error("Unsupported payment method:",this.getWayBy.string);B.getDispatcher().emit(P.ERROR_MSG_NOTIFY,"Please select a payment method.")}this.scheduleOnce((function(){t.buyButton.interactable=!0}),1)}},a.showPopup=function(t,e){var n=this,i=d(this.customPopUp);i.setPosition(0,0),i.setScale(y.ZERO),this.node.addChild(i);i.getComponent(_).setCallback((function(){return n.setZoomOut(i)}),null),i.getComponent(_).Msg.string=e,i.getComponent(_).title.string=t,this.setZoom(i)},a.setZoom=function(t){h(t).to(.2,{scale:new y(1.2,1.2,1.2)}).to(.1,{scale:new y(1,1,1)}).start()},a.setZoomOut=function(t){h(t).to(.2,{scale:y.ZERO}).destroySelf().start()},e}(f)).prototype,"bgNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(E.prototype,"uiNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(E.prototype,"inputBox",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(E.prototype,"infoLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(E.prototype,"buyButton",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(E.prototype,"getWayBy",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(E.prototype,"xpTOusd",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(E.prototype,"customPopUp",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=E))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/ClaimRewardPrize.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CustomPopUp.ts","./BigDealGameModel.ts","./APIManager.ts","./ApiUrls.ts","./BigDealEvents.ts","./EventManager.ts","./MyAuctionHistoryPrefab.ts"],(function(i){"use strict";var t,e,n,o,r,s,a,l,c,u,p,d,h,f,g,m,C,P,v,b,w,y,I,_;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized,r=i.asyncToGenerator,s=i.regeneratorRuntime},function(i){a=i.cclegacy,l=i._decorator,c=i.EditBox,u=i.Prefab,p=i.Node,d=i.UIOpacity,h=i.tween,f=i.Vec3,g=i.instantiate,m=i.Component},function(i){C=i.CustomPopUp},function(i){P=i.BigDealGameModel},function(i){v=i.APIManager,b=i.MethodType},function(i){w=i.API_URLS},function(i){y=i.BigDealEvents},function(i){I=i.default},function(i){_=i.ShippingClaimStatus}],execute:function(){var A,z,B,k,U,D,R,S,E,N,M,Z,O,V,x;a._RF.push({},"41f54XXnoxH8rK/Eis5A1qZ","ClaimRewardPrize",void 0);var T=l.ccclass,q=l.property;i("ClaimRewardPrize",(A=T("ClaimRewardPrize"),z=q(c),B=q(c),k=q(u),U=q(p),D=q(p),R=q(p),A((N=t((E=function(i){function t(){for(var t,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return t=i.call.apply(i,[this].concat(r))||this,n(t,"address",N,o(t)),n(t,"PinCode",M,o(t)),n(t,"customPopUp",Z,o(t)),n(t,"popupBg",O,o(t)),n(t,"UiNode",V,o(t)),n(t,"winingpage",x,o(t)),t.isClick=!1,t.openY=-230,t.closeY=-1700,t.isButtonClicked=!1,t.auctionId=null,t}e(t,i);var a=t.prototype;return a.start=function(){I.getDispatcher().on(_.Clam_Winging_Price,this.init,this)},a.onDestroy=function(){I.getDispatcher().off(_.Clam_Winging_Price,this.init,this)},a.init=function(i){this.address.string="",this.PinCode.string=P.loginDataResponse.data.zipcode||"",this.isClick=!1,this.auctionId=i,this.openPanel()},a.openPanel=function(){this.isButtonClicked||(this.isButtonClicked=!0),this.popupBg.active=!0;var i=this.popupBg.getComponent(d);i.opacity=0,h(i).to(.3,{opacity:255}).start(),this.UiNode.active=!0,h(this.UiNode).to(.25,{position:new f(0,this.openY,0)}).start()},a.closePanel=function(){var i=this;this.isButtonClicked&&(this.isButtonClicked=!1);var t=this.popupBg.getComponent(d);h(t).to(.25,{opacity:0},{onComplete:function(){i.popupBg.active=!1}}).start(),h(this.UiNode).to(.25,{position:new f(0,this.closeY,0)}).call((function(){i.UiNode.active=!1})).start()},a.onClickClaimReward=function(){var i;if(!this.isClick){this.isClick=!0;var t=null==(i=P.loginDataResponse)?void 0:i.data,e=t.id,n=t.first_name,o=t.mobile_no,r=t.email,s=this.auctionId,a=this.address.string.trim(),l=this.PinCode.string.trim();if(a&&l){var c={user_Id:""+e,auction_Id:""+s,full_name:""+n,phone_number:""+o,email:""+r,full_shipping_address:""+a,zipcode:""+l};this.shippingAddress(c)}else this.showValidationAlert(r,a,l),this.isClick=!1}},a.shippingAddress=function(){var i=r(s().mark((function i(t){var e;return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,v.request(w.SHIPPING_INFO,b.POST,t,!0);case 3:e=i.sent,this.closePanel(),h(this.node).delay(.5).call((function(){I.getDispatcher().emit(y.AUCTION_Claim,t.auction_Id)})).start(),console.log("Shipping Info Submitted:",e),i.next=13;break;case 9:i.prev=9,i.t0=i.catch(0),console.error("Shipping API error:",i.t0),this.isClick=!1;case 13:case"end":return i.stop()}}),i,this,[[0,9]])})));return function(t){return i.apply(this,arguments)}}(),a.showValidationAlert=function(i,t,e){var n=this,o=g(this.customPopUp);o.setPosition(0,0),this.node.addChild(o),o.setScale(f.ZERO);var r=o.getComponent(C);r.setCallback((function(){return n.setZoomOut(o)}),null);var s="Something went wrong.";t?i&&this.isStrictValidEmail(i)?e&&this.isValidIndianPincode(e)||(s=e?"Invalid Pin Code.":"Pin Code is required."):s=i?"Invalid email.":"Email is required.":s="Address is required.",r.Msg.string=s,r.title.string="ALERT!!",this.setZoom(o)},a.setZoomOut=function(i){h(i).to(.2,{scale:new f(0,0,1)}).call((function(){return i.destroy()})).start()},a.setZoom=function(i){h(i).to(.2,{scale:new f(1.2,1.2,1.2)}).to(.1,{scale:new f(1,1,1)}).start()},a.isValidIndianPincode=function(i){return/^[1-9][0-9]{5}$/.test(i)},a.isStrictValidEmail=function(i){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(i)},t}(m)).prototype,"address",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(E.prototype,"PinCode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(E.prototype,"customPopUp",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(E.prototype,"popupBg",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(E.prototype,"UiNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(E.prototype,"winingpage",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=E))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/CookieUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var o,t;return{setters:[function(e){o=e.createForOfIteratorHelperLoose},function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"745518BdXxDiYiN5j/0EcQi","CookieUtils",void 0);e("CookieUtils",function(){function e(){}return e.setCookie=function(e,o,t){void 0===t&&(t=3650);var i=new Date;i.setTime(i.getTime()+24*t*60*60*1e3);var n=location.hostname,c=e+"="+encodeURIComponent(o)+"; path=/; domain="+n+"; expires="+i.toUTCString()+"; secure; SameSite=None";document.cookie=c,console.log("[CookieManager] Set: "+c)},e.getCookie=function(e){var o=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)")),t=o?decodeURIComponent(o[2]):null;return console.log("[CookieManager] Get: "+e+" = "+t),t},e.eraseCookie=function(e){this.setCookie(e,"",-1)},e.deleteCookie=function(e){var o=e+"=; path=/; domain="+location.hostname+"; expires=Thu, 01 Jan 1970 00:00:00 GMT; secure; SameSite=None";document.cookie=o,console.log("[CookieManager] Delete: "+o)},e.clearAllCookies=function(){for(var e,t=document.cookie.split(";"),i=o(t);!(e=i()).done;){var n=e.value,c=n.indexOf("="),r=c>-1?n.substring(0,c).trim():n.trim();this.deleteCookie(r)}console.log("[CookieManager] All cookies cleared.")},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/CustomPopUp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,n,e,o,r,l,c,a,u,s,b,p,f,h,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,c=t.Label,a=t.Sprite,u=t.Button,s=t.SpriteFrame,b=t.Node,p=t.view,f=t.Vec3,h=t.tween,m=t.Component}],execute:function(){var y,g,d,v,w,C,z,L,A,B,x,E,P,M,T,k,S,D,F,U,_,V,j;r._RF.push({},"e398dsW9jlNo5iin0C2TEqr","CustomPopUp",void 0);var I=l.ccclass,N=l.property;t("CustomPopUp",(y=I("CustomPopUp"),g=N(c),d=N(c),v=N(a),w=N(u),C=N(u),z=N(c),L=N(c),A=N(u),B=N(s),x=N(b),y((M=i((P=function(t){function i(){for(var i,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return i=t.call.apply(t,[this].concat(r))||this,e(i,"title",M,o(i)),e(i,"Msg",T,o(i)),e(i,"logo",k,o(i)),e(i,"btn1",S,o(i)),e(i,"btn2",D,o(i)),e(i,"btn1bl",F,o(i)),e(i,"btn2bl",U,o(i)),e(i,"ExitBtn",_,o(i)),e(i,"Logoframe",V,o(i)),e(i,"isMaintenenceBg",j,o(i)),i.isDelete=!1,i.isAction=!1,i.ActionType=null,i.cb1=null,i.cb2=null,i.Commoncb=null,i}n(i,t);var r=i.prototype;return r.start=function(){p.getVisibleSize().width<p.getVisibleSize().height&&(this.node.scale=new f(.7,.7,1))},r.onLoad=function(){this.isMaintenenceBg.active=!1},r.setCallback=function(t,i){this.cb1=t,this.cb2=i},r.onExitLayer=function(){if(this.node){var t=this.node,i=t;h(t).to(.2,{scale:new f(0,0,1)}).call((function(){i.removeFromParent()})).start()}},r.onBtn1Click=function(t,i){this.isAction?this.ActionType?(this.ActionCommonPop(this.ActionType),this.Commoncb()):(this.onExitLayer(),this.Commoncb()):this.cb1?(this.cb1(t),this.onExitLayer()):this.onExitLayer()},r.onBtn2Click=function(t,i){this.cb2?t?this.cb2(t):this.cb2():this.onExitLayer()},r.setButtonIntractable=function(t,i){void 0===t&&(t=!0),void 0===i&&(i=!0),this.btn1.interactable=t,this.btn2.interactable=i},r.setActionOnClick=function(t,i,n){if(void 0===n&&(n=!1),n)return this.btn1.node.active=!1,this.btn1.node.active=!1,void(this.isMaintenenceBg.active=!0);this.isAction=!0,this.ActionType=t,this.Commoncb=i},r.ActionCommonPop=function(t){switch(t){case"common":this.onExitLayer();default:this.onExitLayer()}},i}(m)).prototype,"title",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(P.prototype,"Msg",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(P.prototype,"logo",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=i(P.prototype,"btn1",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(P.prototype,"btn2",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(P.prototype,"btn1bl",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(P.prototype,"btn2bl",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(P.prototype,"ExitBtn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=i(P.prototype,"Logoframe",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(P.prototype,"isMaintenenceBg",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=P))||E));r._RF.pop()}}}));

System.register("chunks:///_virtual/DetailsPanelManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealGameModel.ts","./BigDealEvents.ts"],(function(i){"use strict";var t,n,e,a,o,r,l,s,c,u,p,h,g,d,m;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,a=i.assertThisInitialized},function(i){o=i.cclegacy,r=i._decorator,l=i.Node,s=i.RichText,c=i.ScrollView,u=i.UIOpacity,p=i.tween,h=i.Vec3,g=i.Component},function(i){d=i.BigDealGameModel},function(i){m=i.StaticProperties}],execute:function(){var b,f,v,P,y,N,D,T,w,A,M;i("htmlToPlainText",S),o._RF.push({},"87e2dYQUD9MkqhnXN5OiXZz","DetailsPanelManager",void 0);var x=r.ccclass,z=r.property;i("DetailsPanelManager",(b=x("DetailsPanelManager"),f=z(l),v=z(l),P=z(s),y=z(c),b((T=t((D=function(i){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=i.call.apply(i,[this].concat(o))||this,e(t,"mainPanel",T,a(t)),e(t,"bgNode",w,a(t)),e(t,"richText",A,a(t)),e(t,"bidScroll",M,a(t)),t.isAnimating=!1,t.isOpen=!1,t}n(t,i);var o=t.prototype;return o.init=function(){var i,t;if(!this.isAnimating&&!this.isOpen){this.isOpen=!0;var n=S((null==(i=d.auctionHouseListResponse)||null==(t=i.data[m.auctionIndex])?void 0:t.terms_and_conditions)||"No Terms And Conditions");this.richText.string=n,this.mainPanel.active=!1,this.bgNode.active=!1;var e=this.bgNode.getComponent(u);e&&(e.opacity=0),this.inPopUp()}},o.inPopUp=function(){var i=this;if(this.bgNode.active=!0,!this.isAnimating&&this.mainPanel&&this.bgNode&&this.bidScroll){this.isAnimating=!0,this.mainPanel.active=!0,this.bidScroll.scrollToTop(.1);var t=this.bgNode.getComponent(u);t&&(t.opacity=0,p(t).to(.3,{opacity:180}).start()),p(this.mainPanel).to(.3,{position:new h(0,0,0)}).call((function(){i.isAnimating=!1})).start()}},o.out=function(){var i=this;if(this.mainPanel&&this.bgNode){var t=this.bgNode.getComponent(u);t&&p(t).to(.3,{opacity:0}).call((function(){i.bgNode.active=!1})).start(),p(this.mainPanel).to(.3,{position:new h(0,-2e3,0)}).call((function(){i.mainPanel.active=!1,i.isAnimating=!1,i.isOpen=!1})).start()}},t}(g)).prototype,"mainPanel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(D.prototype,"bgNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(D.prototype,"richText",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(D.prototype,"bidScroll",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=D))||N));function S(i){return i.replace(/<br\s*\/?>/gi,"\n").trim()}o._RF.pop()}}}));

System.register("chunks:///_virtual/Dropdown.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./BigDealEvents.ts","./BigDealGameModel.ts"],(function(e){"use strict";var t,n,i,o,r,s,a,c,l,u,d,h,p,C,f,y,b,v,g,m,D,w,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy,c=e._decorator,l=e.Node,u=e.Label,d=e.EditBox,h=e.ScrollView,p=e.Prefab,C=e.instantiate,f=e.Button,y=e.EventHandler,b=e.tween,v=e.Vec3,g=e.Component},function(e){m=e.default},function(e){D=e.BigDealEvents,w=e.StaticProperties},function(e){I=e.BigDealGameModel}],execute:function(){var N,x,E,_,T,B,O,P,R,S,z,A,V,k,F,L,U,Y,X,H,M,j,G,W,q;a._RF.push({},"b1af7aT0jNOj4GHjrgM4qDV","Dropdown",void 0);var J=c.ccclass,K=c.property;e("Dropdown",(N=J("Dropdown"),x=K(l),E=K(u),_=K(l),T=K(l),B=K(l),O=K(d),P=K(h),R=K({type:p}),S=K({type:l}),z=K({type:Boolean}),A=K({type:Boolean}),N((F=t((k=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"uiNode",F,o(t)),i(t,"selectItem",L,o(t)),i(t,"posNode",U,o(t)),i(t,"block",Y,o(t)),i(t,"buttonNode",X,o(t)),i(t,"searchBox",H,o(t)),i(t,"scrollView",M,o(t)),i(t,"codePrefab",j,o(t)),i(t,"codeParent",G,o(t)),i(t,"iscountryCode",W,o(t)),i(t,"iscountryselection",q,o(t)),t.allItems=[],t.validCountryCodes=["+1","+44","+91","+81","+61","+49","+33","+971","+86","+7"],t.validCountrys=["+1","+44","+91","+81","+61","+49","+33","+971","+86","+7"],t}n(t,e);var a=t.prototype;return a.onLoad=function(){var e=r(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.validCountryCodes=[],this.validCountrys=[],this.scrollView&&this.searchBox&&(this.allItems=this.scrollView.content.children.slice(),this.searchBox.node.on("text-changed",this.onSearchChanged,this));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.start=function(){if(m.getDispatcher().on(D.COUNTRY_CODE_INDEX,this.isSetConttryCode,this),this.iscountryCode&&this.validCountryCodes.includes(this.selectItem.string)){var e=this.validCountryCodes.indexOf(this.selectItem.string);w.countryCodeIndex=e>-1?e:0,m.getDispatcher().emit(D.COUNTRY_CODE_INDEX)}I.countryApiResponse?this.onCountryDetailsFetched():m.getDispatcher().on(D.COUNTRY_DETAILS_FETCHED,this.onCountryDetailsFetched,this)},a.onEnable=function(){if(m.getDispatcher().on(D.COUNTRY_CODE_INDEX,this.isSetConttryCode,this),this.iscountryCode&&this.validCountryCodes.includes(this.selectItem.string)){var e=this.validCountryCodes.indexOf(this.selectItem.string);w.countryCodeIndex=e>-1?e:0,m.getDispatcher().emit(D.COUNTRY_CODE_INDEX)}I.countryApiResponse?this.onCountryDetailsFetched():m.getDispatcher().on(D.COUNTRY_DETAILS_FETCHED,this.onCountryDetailsFetched,this)},a.isSetConttryCode=function(){this.iscountryCode&&(this.selectItem.string=this.validCountryCodes[w.countryCodeIndex]||I.countryApiResponse.data[w.countryCodeIndex].dial_code),this.iscountryselection&&(this.selectItem.string=this.validCountrys[w.countryCodeIndex]||I.countryApiResponse.data[w.countryCodeIndex].name)},a.onCountryDetailsFetched=function(){var e=r(s().mark((function e(){var t=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I.countryApiResponse){e.next=2;break}return e.abrupt("return");case 2:I.countryApiResponse.data.forEach((function(e){t.iscountryCode?(t.validCountryCodes.push(e.dial_code),t.instantiateCodePrefab(e.dial_code)):(t.validCountrys.push(e.name),t.instantiateCodePrefab(e.name))})),this.scrollView&&this.searchBox&&(this.allItems=this.scrollView.content.children.slice(),this.searchBox.node.on("text-changed",this.onSearchChanged,this));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.instantiateCodePrefab=function(e){if(this.codePrefab&&this.codeParent){var t=C(this.codePrefab);this.codeParent.addChild(t);var n=t.getChildByName("CodeText");if(n){var i=n.getComponent(u);i&&(i.string=e)}var o=t.getComponent(f);if(o){var r=new y;r.target=this.node,r.component="Dropdown",r.handler="onCountSelection",r.customEventData=e,o.clickEvents=[r]}}},a.onSearchChanged=function(e){var t=e.string.toLowerCase();this.allItems.forEach((function(e){var n=e.getComponentInChildren(u);if(n){var i=n.string.toLowerCase().includes(t);e.active=i}})),this.scrollToTop()},a.scrollToTop=function(){this.scrollView.scrollToTop(.2)},a.onCountSelection=function(e,t){if(this.selectItem.string=t,this.validCountryCodes.includes(t)){var n=this.validCountryCodes.indexOf(t);w.countryCodeIndex=n,m.getDispatcher().emit(D.COUNTRY_CODE_INDEX)}else if(this.validCountrys.includes(t)){var i=this.validCountrys.indexOf(t);w.countryCodeIndex=i,m.getDispatcher().emit(D.COUNTRY_CODE_INDEX)}this.onPlayButton()},a.onPlayButton=function(){var e=this;b(this.uiNode).to(.1,{scale:new v(1,0,1)},{easing:"smooth"}).call((function(){e.selectItem.node.active=!0,e.block.active=!1,e.uiNode.active=!1,e.buttonNode.setScale(1,1,1)})).start()},a.onOutsideArea=function(){this.onPlayButton()},a.onOpenDropDown=function(){this.block.active=!0,this.uiNode.active=!0,this.selectItem.node.active=!1,this.searchBox&&this.searchBox.focus(),this.node.setWorldPosition(this.posNode.getWorldPosition()),this.buttonNode.setScale(1,-1,1),b(this.uiNode).to(.1,{scale:new v(1,1,1)},{easing:"smooth"}).start()},t}(g)).prototype,"uiNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(k.prototype,"selectItem",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(k.prototype,"posNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(k.prototype,"block",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(k.prototype,"buttonNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(k.prototype,"searchBox",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(k.prototype,"scrollView",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(k.prototype,"codePrefab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(k.prototype,"codeParent",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(k.prototype,"iscountryCode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),q=t(k.prototype,"iscountryselection",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=k))||V));a._RF.pop()}}}));

System.register("chunks:///_virtual/EditProfilePicture.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealGameModel.ts","./BigDealEvents.ts","./EventManager.ts","./AvatarIconsManager.ts"],(function(e){"use strict";var t,i,a,n,r,o,s,c,l,u,p,d,h,f,g,m,v,b,y,S,I,w,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,l=e.Node,u=e.Sprite,p=e.Button,d=e.tween,h=e.Vec3,f=e.Component,g=e.ImageAsset,m=e.Texture2D,v=e.SpriteFrame},function(e){b=e.BigDealGameModel},function(e){y=e.StaticProperties,S=e.BigDealEvents,I=e.getPlayarToken},function(e){w=e.default},function(e){C=e.AvatarIconsManager}],execute:function(){var k,B,N,x,D,A,E,P,R,F,M,z,O,L,T,_,U,Z,G;s._RF.push({},"368b9VM2apJcbTtdMPksT7p","EditProfilePicture",void 0);var j=c.ccclass,V=c.property;e("EditProfilePicture",(k=j("EditProfilePicture"),B=V(l),N=V(l),x=V(l),D=V(u),A=V(u),E=V(u),P=V(l),R=V(C),k((z=t((M=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,a(t,"icons",z,n(t)),a(t,"uiNode",O,n(t)),a(t,"block",L,n(t)),a(t,"profile",T,n(t)),a(t,"profileImage",_,n(t)),a(t,"clickIconSprite",U,n(t)),a(t,"uplodeButton",Z,n(t)),a(t,"avatarIconsManager",G,n(t)),t.selectAvatar="",t.isSelected=null,t.iconIndex=1,t.isCistonSelected=!1,t}i(t,e);var s=t.prototype;return s.init=function(){var e=r(o().mark((function e(){var t,i,a,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.selectAvatar=b.loginDataResponse.data.avatar?b.loginDataResponse.data.avatar:"assets/avatar/1.png",t=y.apiBaseURL+this.selectAvatar,e.next=4,this.avatarIconsManager.setAvatarIcon(t,this.profile);case 4:return e.next=6,this.avatarIconsManager.setAvatarIcon(t,this.profileImage);case 6:return e.next=8,this.avatarIconsManager.setAvatarIcon(t,this.clickIconSprite);case 8:i=1;case 9:if(!(i<=this.icons.length)){e.next=19;break}return(a=this.icons[i-1]).getComponent(p).clickEvents[0].customEventData=""+i,n=a.getChildByName("Icon").getComponent(u),r=y.apiBaseURL+"assets/avatar/"+i+".png",e.next=16,this.avatarIconsManager.setAvatarIcon(r,n);case 16:i++,e.next=9;break;case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onProfileClick=function(){this.block.active=!0,this.uiNode.active=!0,this.setZoom(this.uiNode),console.log("test game")},s.onSelect=function(){!this.isCistonSelected&&this.isSelected&&(this.profile.spriteFrame=this.isSelected.getChildByName("Icon").getComponent(u).spriteFrame,this.clickIconSprite.spriteFrame=this.isSelected.getChildByName("Icon").getComponent(u).spriteFrame,this.selectAvatar="assets/avatar/"+this.iconIndex+".png"),this.setZoomOut(this.uiNode),this.uiNode.active=!1,this.block.active=!1},s.closeClick=function(){this.setZoomOut(this.uiNode),this.uiNode.active=!1,this.block.active=!1},s.onClick=function(e,t){this.isSelected&&(this.isSelected.getComponent(p).interactable=!0,this.isSelected.getChildByName("Icon").getComponent(u).grayscale=!1,this.isSelected.getChildByName("Shadow").active=!1),this.isCistonSelected=!1;var i=e.target;this.isSelected=i,i.getComponent(p).interactable=!1,i.getChildByName("Icon").getComponent(u).grayscale=!0,this.isSelected.getChildByName("Shadow").active=!0,this.iconIndex=Number(t)},s.onClose=function(){this.setZoomOut(this.uiNode)},s.setZoomOut=function(e){d(e).to(.2,{scale:new h(0,0,1)}).call((function(){e.active=!1})).start()},s.setZoom=function(e){e.active=!0,e.setScale(h.ZERO),d(e).to(.2,{scale:new h(1.2,1.2,1.2)}).to(.1,{scale:new h(1,1,1)}).start()},s.uploadImageButtonTo=function(){var e=r(o().mark((function e(){var t,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.isSelected?(this.isSelected.getComponent(p).interactable=!0,this.isSelected.getChildByName("Icon").getComponent(u).grayscale=!1,this.isSelected.getChildByName("Shadow").active=!1):(this.isSelected=this.uplodeButton,this.isSelected.getComponent(p).interactable=!1,this.isSelected.getChildByName("Shadow").active=!0),this.isCistonSelected=!0,(t=document.createElement("input")).type="file",t.accept="image/*",t.style.display="none",t.addEventListener("change",r(o().mark((function e(a){var n,r,s,c,l,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=a.target.files)&&0!==n.length){e.next=4;break}return console.warn("No file selected."),e.abrupt("return");case 4:return r=n[0],console.log("file.size",r.size),s=new FormData,Array.from(n).forEach((function(e){s.append("media",e,e.name)})),e.prev=8,w.getDispatcher().emit(S.IS_LOADER_ON),e.next=12,fetch(y.apiBaseURL+"v1/user/"+b.loginDataResponse.data.id+"/avatar",{method:"PUT",headers:{Authorization:"Bearer "+I()},body:s});case 12:if((c=e.sent).ok){e.next=15;break}throw new Error("Upload failed: "+c.statusText);case 15:return e.next=17,c.json();case 17:l=e.sent,b.uploadProfileRes=l,console.log("Uploaded successfully:",l),w.getDispatcher().emit(S.IS_LOADER_OFF),i.selectAvatar=b.uploadProfileRes.data.avatar,e.next=28;break;case 24:e.prev=24,e.t0=e.catch(8),w.getDispatcher().emit(S.IS_LOADER_OFF),console.error("Upload failed:",e.t0);case 28:t.remove(),(p=new FileReader).onload=function(){var e=new Image;e.onload=function(){var t=new g(e),a=new m;a.image=t;var n=new v;n.texture=a;var r=i.clickIconSprite.node;if(r){var o=r.getComponent(u);o&&(o.spriteFrame=n,i.profile.spriteFrame=n,i.profileImage.spriteFrame=n)}else console.warn("Target node not found.")},e.src=p.result},p.readAsDataURL(r);case 32:case"end":return e.stop()}}),e,null,[[8,24]])})))),document.body.appendChild(t),t.click();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(f)).prototype,"icons",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(M.prototype,"uiNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(M.prototype,"block",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(M.prototype,"profile",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(M.prototype,"profileImage",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(M.prototype,"clickIconSprite",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(M.prototype,"uplodeButton",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(M.prototype,"avatarIconsManager",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=M))||F));s._RF.pop()}}}));

System.register("chunks:///_virtual/EncryptionHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,n,t;return{setters:[function(e){r=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){t=e.cclegacy}],execute:function(){e("encryptBid",(function(e,t){return new Promise(r(n().mark((function r(c,o){var a,i,s,p,u,l,E,d,f,y;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,t.includes("-----BEGIN PUBLIC KEY-----")&&t.includes("-----END PUBLIC KEY-----")){r.next=3;break}throw new Error("Invalid PEM format: Missing BEGIN/END PUBLIC KEY headers");case 3:for("-----BEGIN PUBLIC KEY-----","-----END PUBLIC KEY-----",a=t.replace("-----BEGIN PUBLIC KEY-----","").replace("-----END PUBLIC KEY-----","").replace(/\s/g,""),i=atob(a),s=new Uint8Array(i.length),p=0;p<i.length;p++)s[p]=i.charCodeAt(p);return r.next=11,window.crypto.subtle.importKey("spki",s.buffer,{name:"RSA-OAEP",hash:"SHA-256"},!1,["encrypt"]);case 11:return u=r.sent,l=new TextEncoder,E=l.encode(e.toString()),r.next=16,window.crypto.subtle.encrypt({name:"RSA-OAEP"},u,E);case 16:d=r.sent,f=new Uint8Array(d),y=btoa(String.fromCharCode.apply(String,f)),c(y),r.next=25;break;case 22:r.prev=22,r.t0=r.catch(0),o(new Error("Failed to encrypt bid: "+r.t0));case 25:case"end":return r.stop()}}),r,null,[[0,22]])}))))})),t._RF.push({},"e5f49cNHbtOG4e9rjkcpNij","EncryptionHelper",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ErrorCustomPopUp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./BigDealEvents.ts"],(function(t){"use strict";var e,i,o,n,r,a,s,c,l,p,u,g,h,f,B,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Label,c=t.Button,l=t.Node,p=t.UIOpacity,u=t.tween,g=t.Vec3,h=t.Tween,f=t.Component},function(t){B=t.default},function(t){y=t.BigDealEvents}],execute:function(){var d,b,P,v,U,E,N,R,k,w,M;r._RF.push({},"7029aySWWlAsJwyxxPFH4nd","ErrorCustomPopUp",void 0);var O=a.ccclass,_=a.property;t("ErrorCustomPopUp",(d=O("ErrorCustomPopUp"),b=_(s),P=_(c),v=_(l),U=_(p),d((R=e((N=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"errorMsgLabel",R,n(e)),o(e,"ExitBtn",k,n(e)),o(e,"UiNode",w,n(e)),o(e,"BlackBg",M,n(e)),e}i(e,t);var r=e.prototype;return r.start=function(){B.getDispatcher().on(y.ERROR_MSG_POPUP,this.openPopup,this),B.getDispatcher().on(y.ERROR_MSG_NOTIFY,this.openPopupInOut,this)},r.onDestroy=function(){B.getDispatcher().off(y.ERROR_MSG_POPUP,this.openPopup,this),B.getDispatcher().off(y.ERROR_MSG_NOTIFY,this.openPopupInOut,this)},r.openPopup=function(t){this.errorMsgLabel.string=t,this.BlackBg.node.active=!0,this.UiNode.active=!0,u(this.BlackBg).to(.1,{opacity:255}).start(),u(this.UiNode).to(.1,{position:new g(0,0,0)}).start()},r.onExitLayer=function(){var t=this;u(this.BlackBg).to(.1,{opacity:0}).call((function(){t.BlackBg.node.active=!1,t.errorMsgLabel.string=""})).start(),u(this.UiNode).to(.1,{position:new g(0,500,0)}).call((function(){t.UiNode.active=!1})).start()},r.openPopupInOut=function(t){var e=this;this.errorMsgLabel.string=t,this.UiNode.active=!0,this.BlackBg.opacity=0,this.UiNode.setPosition(0,500,0),h.stopAllByTarget(this.BlackBg),h.stopAllByTarget(this.UiNode),u(this.BlackBg).to(.1,{opacity:255}).start(),u(this.UiNode).to(.1,{position:new g(0,0,0)}).delay(2).to(.1,{position:new g(0,500,0)}).call((function(){e.UiNode.active=!1})).start(),u(this.BlackBg).delay(2).to(.1,{opacity:0}).call((function(){e.BlackBg.node.active=!1,e.errorMsgLabel.string=""})).start()},r.update=function(t){},e}(f)).prototype,"errorMsgLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(N.prototype,"ExitBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(N.prototype,"UiNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(N.prototype,"BlackBg",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=N))||E));r._RF.pop()}}}));

System.register("chunks:///_virtual/ErrorHandler.ts",["cc","./BigDealEvents.ts","./EventManager.ts"],(function(r){"use strict";var e,o,t;return{setters:[function(r){e=r.cclegacy},function(r){o=r.BigDealEvents},function(r){t=r.default}],execute:function(){e._RF.push({},"2af58UD7eFIEY0Xc5pEtG5T","ErrorHandler",void 0);r("ErrorHandler",function(){function r(r){this.errorCodeData=void 0,this.errorType=void 0,this.errorPopNode=null,this.errorPopPrefab=null,this.errorCodeData=r.ErrorCodeData,this.errorType=r.ErrorType,console.log("ErrorType in error script:",this.errorType,this.errorCodeData),console.log("this.errorCodeData",this.errorCodeData);var e=JSON.parse(this.errorCodeData.message);console.log(e.message),t.getDispatcher().emit(o.ERROR_MSG_POPUP,e.message||"Unknown error")}return r.prototype.showErrorPopup=function(){this.errorPopPrefab?console.log("Showing popup for error type:",this.errorType):console.warn("Popup prefab not loaded yet.")},r}());e._RF.pop()}}}));

System.register("chunks:///_virtual/EventEmitter.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"64d40cPm75HMLF7GQPIjIQy","EventEmitter",void 0);var s=t("EventEmitter",function(){function t(){this.events=void 0,this.hosts=void 0,this.events={},this.hosts={}}var e=t.prototype;return e.on=function(t,e,s){"object"!=typeof this.events[t]&&(this.events[t]=[],this.hosts[t]=[]),this.events[t].push(e),this.hosts[t].push(s)},e.removeListener=function(t,e,s){var i;"object"==typeof this.events[t]&&"object"==typeof this.hosts[t]&&(i=this.events[t].indexOf(e))>-1&&(this.events[t].splice(i,1),this.hosts[t].splice(i,1))},e.emit=function(t){var e,s,i,n;if("object"==typeof this.events[t]){i=this.events[t].slice(),s=this.hosts[t].slice(),n=i.length;for(var o=arguments.length,h=new Array(o>1?o-1:0),c=1;c<o;c++)h[c-1]=arguments[c];for(e=0;e<n;e++)null!==this.events[i[e]]?i[e].apply(s[e],h):i[e].apply(this,h)}},e.once=function(t,e,s){var i=arguments,n=this;this.on(t,(function(){n.removeListener(t,e,s),e.apply(n,i)}),s)},t}());t("Event",new s);e._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t.EventTarget,r=t.Event}],execute:function(){n._RF.push({},"ba1fbjCzJdGtZdrBIjgMymW","EventManager",void 0);var a=t("default",function(){function t(){}return t.clear=function(){t.dispatcher=null},t.getDispatcher=function(){return t.dispatcher||(t.dispatcher=new i),t.dispatcher},t}());a.dispatchCustomEvent=function(t,e,n,i){if(void 0===n&&(n=null),void 0===i&&(i=!0),!e)return null;var r=new u(t,i);r.detail=n,e.dispatchEvent(r)},a.dispatcher=void 0;var u=t("CustomEvent",function(t){function n(e,n,i){var r;return(r=t.call(this,e,n)||this).detail=null,r.detail=i,r}e(n,t);var i=n.prototype;return i.setUserDetail=function(t){this.detail=this.detail},i.getUserDetail=function(){return this.detail},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameFlowManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./BigDealEvents.ts","./ApiUrls.ts","./APIManager.ts","./BigDealGameModel.ts","./BigDealSocketManager.ts","./GamePlay.ts","./AuctionListManager.ts","./SocketEventHandler.ts","./IndexedDBManager.ts","./CookieUtils.ts","./LanguageManager.ts","./CustomPopUp.ts","./MyAuctionHistoryPrefab.ts","./LoginPopupManager.ts","./SlotBaseTutorial.ts"],(function(e){"use strict";var t,n,r,o,a,i,s,u,c,l,p,g,f,h,d,m,v,w,b,y,k,P,I,x,L,S,E,T,_,R,A,C,D,U,M,B,F,O,G,H,z;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){s=e.cclegacy,u=e._decorator,c=e.Sprite,l=e.Node,p=e.Prefab,g=e.UITransform,f=e.Size,h=e.instantiate,d=e.Vec3,m=e.tween,v=e.Component,w=e.Widget,b=e.assetManager,y=e.ImageAsset,k=e.Texture2D,P=e.SpriteFrame},function(e){I=e.default},function(e){x=e.StaticProperties,L=e.BigDealEvents,S=e.CookieKey},function(e){E=e.API_URLS},function(e){T=e.APIManager,_=e.MethodType},function(e){R=e.BigDealGameModel},function(e){A=e.BigDealSocketManager},function(e){C=e.GamePlay},function(e){D=e.AuctionListManager},function(e){U=e.SocketEventHandler},function(e){M=e.IndexedDBManager},function(e){B=e.CookieUtils},function(e){F=e.LanguageManager},function(e){O=e.CustomPopUp},function(e){G=e.ShippingClaimStatus},function(e){H=e.LoginPopupManager},function(e){z=e.SlotBaseTutorial}],execute:function(){var N,Z,q,Y,W,j,J,K,V,Q,X,$,ee,te,ne,re,oe,ae,ie,se,ue,ce,le,pe,ge;s._RF.push({},"8928bIpLdVBmZ2K6KiNywHH","GameFlowManager",void 0);var fe=u.ccclass,he=u.property;e("GameFlowManager",(N=fe("GameFlowManager"),Z=he(c),q=he(C),Y=he(l),W=he(p),j=he(D),J=he(U),K=he(p),V=he(l),Q=he(H),X=he(z),$=he(l),N((ne=t((te=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,r(t,"gameLogo",ne,o(t)),r(t,"gamePlay",re,o(t)),r(t,"infoPerant",oe,o(t)),r(t,"infoPrefab",ae,o(t)),r(t,"auctionListManager",ie,o(t)),r(t,"socketEventHandler",se,o(t)),r(t,"customPopUp",ue,o(t)),r(t,"customPopUpParent",ce,o(t)),r(t,"loginPopupManager",le,o(t)),r(t,"slotBaseTutorial",pe,o(t)),r(t,"showInfoButton",ge,o(t)),t.url_token="",t.url_auctionId="",t.url_playerId="",t.isLoggedInUser=!1,t}n(t,e);var s=t.prototype;return s.onLoad=function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.instance.init("en");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.start=function(){var e=a(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I.getDispatcher().emit(L.IS_LOADER_ON,!1),this.slotBaseTutorial.node.active=!0,this.slotBaseTutorial.node.getComponent(w).updateAlignment(),this.slotBaseTutorial.node.active=!1,e.next=6,this.startGameFlow();case 6:window.addEventListener("online",(function(){t.customPopUpParent&&t.customPopUpParent.removeAllChildren()})),window.addEventListener("offline",(function(){return t.showPopup("Alert","Please check your network connection.",!1)}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.startGameFlow=function(){var e=a(i().mark((function e(){var t,n,r,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setupAPI();case 2:return e.next=4,this.restoreLogin();case 4:return t=e.sent,e.prev=5,e.next=8,this.getAuctionHouse();case 8:e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(5),console.error("Error fetching auction house:",e.t0),this.showPopup("Error","Failed to fetch auction house data."),e.abrupt("return");case 15:return e.prev=15,e.next=18,this.getCountryDetails();case 18:I.getDispatcher().emit(L.COUNTRY_DETAILS_FETCHED,R.countryApiResponse),x.countryCodeIndex=0,e.next=27;break;case 22:return e.prev=22,e.t1=e.catch(15),console.error("Error fetching auction house:",e.t1),this.showPopup("Error","Failed to fetch auction house data."),e.abrupt("return");case 27:return e.prev=27,e.next=30,this.getAuctionHouseList();case 30:e.next=37;break;case 32:return e.prev=32,e.t2=e.catch(27),console.error("Error fetching auction house list:",e.t2),this.showPopup("Error","Failed to fetch auction house list."),e.abrupt("return");case 37:return e.prev=37,e.next=40,this.loadImages();case 40:e.next=46;break;case 42:e.prev=42,e.t3=e.catch(37),console.error("Error loading images:",e.t3),this.showPopup("Error","Failed to load images.");case 46:if((n=window.parent.location.search)&&n.includes("token")&&(r=new URLSearchParams(n),this.url_token=r.get("token"),console.log("Token:",this.url_token)),console.log("GameFlowManager startGameFlow isLoggedIn:",t),!t){e.next=66;break}return e.prev=50,e.next=53,this.getWalletBalance();case 53:e.next=60;break;case 55:return e.prev=55,e.t4=e.catch(50),console.error("Error fetching wallet balance:",e.t4),this.showPopup("Error","Failed to fetch wallet balance."),e.abrupt("return");case 60:this.isLoggedInUser=!0,this.showInfoButton.active=!0,console.log("this.url_token",this.url_token),this.url_token&&T.request(E.VERIFY_DELIVERY_STATUS+"?token="+this.url_token,_.GET,null,!0).then((function(e){if(console.log("Delivery status received:",e),o.url_auctionId=e.data.auction_id,"delivered"==e.data.delivery_status)try{I.getDispatcher().emit(G.WIN_AUCTION_STATUS_CONFIRM,o.url_auctionId)}catch(e){localStorage.removeItem("savedQueryParams");var t=localStorage.getItem("savedBaseUrlParams");window.parent.location.href=t}else"confirmed"===e.data.delivery_status?o.showPopup("Delivery Status","Your delivery has been confirmed.",!0,!0):"declined"===e.data.delivery_status?o.showPopup("Delivery Status","Your delivery has been declined.",!0,!0):o.showPopup("Delivery Status","Delivery status is unknown.",!0,!0)})).catch((function(e){console.error("Error fetching delivery status:",e)})),e.next=67;break;case 66:this.url_token&&(console.log("else this.url_token",this.url_token),this.loginPopupManager.init(),this.isLoggedInUser=!1);case 67:return this.socketEventHandler.init(),e.prev=68,e.next=71,A.getInstance().init();case 71:e.next=76;break;case 73:e.prev=73,e.t5=e.catch(68),console.error("Error initializing socket:",e.t5);case 76:this.gamePlay.initFromGameFlow(),this.auctionListManager.initFromGameFlow();case 78:case"end":return e.stop()}}),e,this,[[5,10],[15,22],[27,32],[37,42],[50,55],[68,73]])})));return function(){return e.apply(this,arguments)}}(),s.setupAPI=function(){var e=a(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new URL(window.location.href),x.hostname=t.host,n=t.searchParams,this.url_token=n.get("token"),x.apiBaseURL="https://api.auctionx.dev/",x.hostname="dinesh.auctionx.dev";case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.restoreLogin=function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(a(i().mark((function e(t){var n,r,o,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("PlayerLoginObj"),r=localStorage.getItem(S.USER_ID)||B.getCookie(S.USER_ID),o=localStorage.getItem("accessToken"),a=null,!n){e.next=9;break}R.loginDataResponse=JSON.parse(n),a=JSON.parse(n),e.next=26;break;case 9:if(!r||!o){e.next=26;break}return e.prev=10,e.next=13,T.request(E.REGISTRATION+""+r,_.GET,null,!0);case 13:s=e.sent,R.loginDataResponse=s,localStorage.setItem("accessToken",R.loginDataResponse.data.accessToken),localStorage.setItem("PlayerLoginObj",JSON.stringify(s)),M.inst.setItem(S.ACCESS_TOKEN,R.loginDataResponse.data.accessToken),M.inst.setItem("PlayerLoginObj",JSON.stringify(s)),x.isLogin=!0,a=s,e.next=26;break;case 23:e.prev=23,e.t0=e.catch(10),console.warn("Failed to auto-login",e.t0);case 26:t(!!a);case 27:case"end":return e.stop()}}),e,null,[[10,23]])})))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.getAuctionHouse=function(){var e=a(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.request(E.AUCTION_HOUSE+x.hostname,_.GET);case 2:t=e.sent,R.auctionHouseResponse=t;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.getCountryDetails=function(){var e=a(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.request(E.COUNTRY_DETAILS,_.GET);case 3:return t=e.sent,R.countryApiResponse=t,e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(0),console.error("Error fetching country details:",e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),s.getAuctionHouseList=function(){var e=a(i().mark((function e(){var t,n,r,o,a,s,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null==(t=R.auctionHouseResponse)||null==(n=t.data)||null==(r=n.currentAuctionHouse)?void 0:r.id,a=localStorage.getItem("accessToken"),s=!!a,u=E.AUCTION_LIST+"?limit=30&page=0&state=live&auction_house_id="+o,e.next=6,T.request(u,_.GET,null,s);case 6:c=e.sent,R.auctionHouseListResponse=c;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.getWalletBalance=function(){var e=a(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=R.loginDataResponse.data.id,e.next=3,T.request(E.WALLET_BALANCE+""+t,_.GET,null,!0);case 3:n=e.sent,R.playerBalancesResponse=n;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.loadImages=function(){var e=a(i().mark((function e(){var t,n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=null==(t=R.auctionHouseResponse)||null==(n=t.data)||null==(r=n.currentAuctionHouse)||null==(o=r.medias)?void 0:o.local_path)||!this.gameLogo){e.next=5;break}return e.next=4,this.loadRemoteImage(""+x.apiBaseURL+a,this.gameLogo);case 4:this.setImageSize(new f(400,130),this.gameLogo);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.loadRemoteImage=function(){var e=a(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){b.loadRemote(t,{ext:".png",xhrResponseType:"blob"},(function(t,r){if(t||!(r instanceof y))return console.warn("Failed to load image:",t),e();var o=new k;o.image=r;var a=new P;a.texture=o,n.spriteFrame=a,e()}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s.setImageSize=function(e,t){var n=t.getComponent(g),r=n.contentSize,o=e.height/r.height,a=e.width/r.width,i=Math.min(a,o);n.setContentSize(new f(r.width*i,r.height*i))},s.onLanguageClick=function(){var e=a(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.instance.setLanguage(n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s.createInfo=function(){x.isLogin&&this.slotBaseTutorial.init()},s.showPopup=function(e,t,n,r){var o=this;void 0===n&&(n=!0),void 0===r&&(r=!1);var a=h(this.customPopUp);if(a.setPosition(0,0),a.setScale(d.ZERO),this.customPopUpParent.addChild(a),r){a.getComponent(O).setCallback((function(){o.setZoomOut(a);var e=""+new URL(window.parent.location.href).origin;window.parent.location.href=e}),null)}else{a.getComponent(O).setCallback((function(){return o.setZoomOut(a)}),null)}a.getComponent(O).Msg.string=t,a.getComponent(O).title.string=e,n||(a.getComponent(O).btn1.node.active=!1),this.setZoom(a)},s.setZoom=function(e){m(e).to(.2,{scale:new d(1.2,1.2,1.2)}).to(.1,{scale:new d(1,1,1)}).start()},s.setZoomOut=function(e){m(e).to(.2,{scale:d.ZERO}).call((function(){return e.destroy()})).start()},t}(v)).prototype,"gameLogo",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(te.prototype,"gamePlay",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(te.prototype,"infoPerant",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(te.prototype,"infoPrefab",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(te.prototype,"auctionListManager",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(te.prototype,"socketEventHandler",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(te.prototype,"customPopUp",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(te.prototype,"customPopUpParent",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(te.prototype,"loginPopupManager",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(te.prototype,"slotBaseTutorial",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(te.prototype,"showInfoButton",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=te))||ee));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameFotterManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoginPopupManager.ts","./ShowProfile.ts","./MenuPanel.ts","./XPHistoryManager.ts","./EventManager.ts","./BigDealEvents.ts","./GamePlay.ts","./AllBidHistoryManager.ts","./MyAuctionManager.ts","./DetailsPanelManager.ts","./HowToPlayPanelManager.ts","./ShippingStatus.ts"],(function(e){"use strict";var n,t,i,o,l,a,r,u,s,c,p,h,g,f,y,d,m,P,b,M,k,w,C;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,l=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,u=e._decorator,s=e.Button,c=e.Node,p=e.Component},function(e){h=e.LoginPopupManager},function(e){g=e.ShowProfile},function(e){f=e.MenuPanel},function(e){y=e.XPHistoryManager},function(e){d=e.default},function(e){m=e.BigDealEvents},function(e){P=e.GamePlay},function(e){b=e.AllBidHistoryManager},function(e){M=e.MyAuctionManager},function(e){k=e.DetailsPanelManager},function(e){w=e.HowToPlayPanelManager},function(e){C=e.ShippingStatus}],execute:function(){var B,T,v,H,z,L,A,S,E,D,R,_,G,I,O,x,F,K,W,X,N,U,j,Z,q,J,Q,V,Y,$,ee,ne,te;r._RF.push({},"92647OvhXZNp56ivlu+7/3z","GameFotterManager",void 0);var ie=u.ccclass,oe=u.property;e("GameFooterManager",(B=ie("GameFooterManager"),T=oe(s),v=oe(s),H=oe(s),z=oe(s),L=oe(h),A=oe(f),S=oe(y),E=oe(g),D=oe(P),R=oe(b),_=oe(M),G=oe(k),I=oe(w),O=oe(C),x=oe(c),B((W=n((K=function(e){function n(){for(var n,t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return n=e.call.apply(e,[this].concat(l))||this,i(n,"homeButton",W,o(n)),i(n,"myBidsButton",X,o(n)),i(n,"redeemButton",N,o(n)),i(n,"howToButton",U,o(n)),i(n,"loginPopupManager",j,o(n)),i(n,"menu",Z,o(n)),i(n,"transferxp",q,o(n)),i(n,"showProfile",J,o(n)),i(n,"gamePlay",Q,o(n)),i(n,"allBidHistoryManager",V,o(n)),i(n,"myAuctionManager",Y,o(n)),i(n,"detailsPanelManager",$,o(n)),i(n,"howToPlayPanelManager",ee,o(n)),i(n,"shippingStatus",ne,o(n)),i(n,"showWining",te,o(n)),n.isClickLocked=!1,n}t(n,e);var r=n.prototype;return r.start=function(){this.homeButton.node.on(s.EventType.CLICK,this.onHomeClicked,this),this.myBidsButton.node.on(s.EventType.CLICK,this.onMyBidsClicked,this),this.redeemButton.node.on(s.EventType.CLICK,this.onRedeemClicked,this),this.howToButton.node.on(s.EventType.CLICK,this.onHowToClicked,this),d.getDispatcher().on(m.CLOSE_ALL_POPUPS,this.closeAllPopups,this),d.getDispatcher().on(m.REDIRECT_TO_HOME,this.onHomeClicked,this)},r.lockClicksTemporarily=function(){var e=this;this.isClickLocked=!0,setTimeout((function(){return e.isClickLocked=!1}),300)},r.closeAllPopups=function(){var e,n,t,i,o,l;null==(e=this.loginPopupManager)||e.onClose(),null==(n=this.menu)||n.closeMenu(),null==(t=this.transferxp)||t.closeUI(),null==(i=this.showProfile)||i.closeProfile(),null==(o=this.myAuctionManager)||o.setPanelOff(),null==(l=this.shippingStatus)||l.out()},r.onHomeClicked=function(){var e=l(a().mark((function e(){var n,t,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isClickLocked){e.next=2;break}return e.abrupt("return");case 2:this.lockClicksTemporarily(),this.closeAllPopups(),null==(n=this.allBidHistoryManager)||n.out(),null==(t=this.detailsPanelManager)||t.out(),null==(i=this.howToPlayPanelManager)||i.out(),this.showWining.active=!1,console.log("Home button clicked"),this.gamePlay.isOnHome();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.onMyBidsClicked=function(){var e,n;this.isClickLocked||(this.lockClicksTemporarily(),this.closeAllPopups(),null==(e=this.detailsPanelManager)||e.out(),null==(n=this.howToPlayPanelManager)||n.out(),console.log("My Bids button clicked"),this.allBidHistoryManager.init())},r.onRedeemClicked=function(){var e,n,t;this.isClickLocked||(this.lockClicksTemporarily(),null==(e=this.allBidHistoryManager)||e.out(),this.closeAllPopups(),console.log("Redeem button clicked"),null==(n=this.detailsPanelManager)||n.init(),null==(t=this.howToPlayPanelManager)||t.out())},r.onHowToClicked=function(){var e,n,t;this.isClickLocked||(this.lockClicksTemporarily(),this.closeAllPopups(),null==(e=this.allBidHistoryManager)||e.out(),null==(n=this.detailsPanelManager)||n.out(),null==(t=this.howToPlayPanelManager)||t.init(),console.log("How To button clicked - currently blank"))},n}(p)).prototype,"homeButton",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=n(K.prototype,"myBidsButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(K.prototype,"redeemButton",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(K.prototype,"howToButton",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=n(K.prototype,"loginPopupManager",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=n(K.prototype,"menu",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=n(K.prototype,"transferxp",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=n(K.prototype,"showProfile",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=n(K.prototype,"gamePlay",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(K.prototype,"allBidHistoryManager",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=n(K.prototype,"myAuctionManager",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=n(K.prototype,"detailsPanelManager",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=n(K.prototype,"howToPlayPanelManager",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=n(K.prototype,"shippingStatus",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=n(K.prototype,"showWining",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=K))||F));r._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealGameModel.ts","./EventManager.ts","./BigDealEvents.ts","./BigDealSocketManager.ts","./ShowWining.ts","./PlayerKeyboardHandler.ts","./BrowserBackButtonHandler.ts","./MyAudioManager.ts","./AvatarIconsManager.ts","./UniqueHistory.ts","./UpdateProfileKYC.ts","./SocketEventHandler.ts","./AllBidHistoryManager.ts"],(function(e){"use strict";var t,n,i,r,a,o,l,u,s,c,g,p,d,f,m,b,h,y,v,w,H,B,S,k,P,z,A,L,I,M,x,R,C,D,F;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){l=e.cclegacy,u=e._decorator,s=e.Label,c=e.Node,g=e.Sprite,p=e.ScrollView,d=e.assetManager,f=e.ImageAsset,m=e.Texture2D,b=e.SpriteFrame,h=e.UITransform,y=e.Size,v=e.Widget,w=e.screen,H=e.Component},function(e){B=e.BigDealGameModel},function(e){S=e.default},function(e){k=e.BigDealEvents,P=e.StaticProperties},function(e){z=e.BigDealSocketManager},function(e){A=e.ShowWining},function(e){L=e.PlayerKeyboardHandler},function(e){I=e.BrowserBackButtonHandler},function(e){M=e.MyAudioManager},function(e){x=e.AvatarIconsManager},function(e){R=e.UniqueHistory},function(e){C=e.UpdateProfileKYC},function(e){D=e.SocketEventHandler},function(e){F=e.AllBidHistoryManager}],execute:function(){var _,T,G,E,U,O,K,q,N,W,Y,V,J,X,j,Q,Z,$,ee,te,ne,ie,re,ae,oe,le,ue,se,ce,ge,pe,de,fe,me,be,he,ye,ve,we,He,Be,Se,ke,Pe,ze,Ae,Le,Ie,Me,xe,Re,Ce,De,Fe,_e;e({RemoteAvatar:Ee,setImageSize:function(e,t){var n=t.getComponent(h).contentSize,i=e.height/n.height,r=e.width/n.width,a=Math.min(i,r);t.getComponent(h).setContentSize(new y(n.width*a,n.height*a))}}),l._RF.push({},"bbf1eP3VeJF1a1X9xfpS6sL","GamePlay",void 0);var Te=u.ccclass,Ge=u.property;e("GamePlay",(_=Te("GamePlay"),T=Ge(s),G=Ge(s),E=Ge(c),U=Ge(c),O=Ge(c),K=Ge(c),q=Ge(s),N=Ge(L),W=Ge(C),Y=Ge(c),V=Ge(c),J=Ge(g),X=Ge(x),j=Ge(R),Q=Ge(c),Z=Ge(s),$=Ge(s),ee=Ge(s),te=Ge(c),ne=Ge(c),ie=Ge(c),re=Ge(c),ae=Ge(p),oe=Ge(p),le=Ge(D),ue=Ge(F),_((ge=t((ce=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"bidNumberLabel",ge,r(t)),i(t,"walletBalance",pe,r(t)),i(t,"uniqueHistory",de,r(t)),i(t,"myBidsHistory",fe,r(t)),i(t,"commingSoonPage",me,r(t)),i(t,"winingPage",be,r(t)),i(t,"rewardAmount",he,r(t)),i(t,"playerKeyboardHandler",ye,r(t)),i(t,"updateProfileKYC",ve,r(t)),i(t,"LoginButton",we,r(t)),i(t,"screenManager",He,r(t)),i(t,"productImage",Be,r(t)),i(t,"avatarIconsManager",Se,r(t)),i(t,"uniqueHistorymanager",ke,r(t)),i(t,"wallet",Pe,r(t)),i(t,"auctionCategoryTitel",ze,r(t)),i(t,"playsConsumedOnBid",Ae,r(t)),i(t,"auctiontitle",Le,r(t)),i(t,"uiHome",Ie,r(t)),i(t,"keyBordHome",Me,r(t)),i(t,"Uigame",xe,r(t)),i(t,"keyBordGame",Re,r(t)),i(t,"myBidScroll",Ce,r(t)),i(t,"uniqueBidScroll",De,r(t)),i(t,"socketEventHandler",Fe,r(t)),i(t,"allBidHistoryManager",_e,r(t)),t.isHistoryToggle=!1,t.currentAvatar="",t.originalHeight=void 0,t}n(t,e);var l=t.prototype;return l.onLoad=function(){S.getDispatcher().emit(k.IS_LOADER_ON,!1),this.originalHeight=window.innerHeight,I.init(),this.setupResizeHandler()},l.setupResizeHandler=function(){var e=this;window.addEventListener("resize",(function(){var t,n=window.innerHeight<.7*e.originalHeight,i=null==(t=e.screenManager)?void 0:t.getComponent(v);i&&(i.enabled=!n)}))},l.requestFullscreenIfMobile=function(){this.isTablet()||/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent)&&!w.fullScreen()&&(w.requestFullScreen(),console.log("Attempting to enter full screen mode..."))},l.isTablet=function(){var e=navigator.userAgent.toLowerCase();return e.includes("ipad")||e.includes("android")&&!e.includes("mobile")||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1},l.isOnHome=function(){this.uiHome.active=!0,this.keyBordHome.active=!0,this.Uigame.active=!1,this.keyBordGame.active=!1},l.isOnGame=function(){var e=a(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.getDispatcher().emit(k.IS_LOADER_ON,!1),this.uiHome.active=!1,this.keyBordHome.active=!1,this.Uigame.active=!0,this.keyBordGame.active=!0,this.isHistoryToggle=!0,this.onclickChangeHistory(),e.prev=7,e.next=10,this.initFromGameFlow();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),console.error("Error in GamePlay initFromGameFlow:",e.t0);case 15:this.initUIComponents(),this.allBidHistoryManager.setMyBidsInit();case 17:case"end":return e.stop()}}),e,this,[[7,12]])})));return function(){return e.apply(this,arguments)}}(),l.initFromGameFlow=function(){var e=a(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.loadAuctionAssets();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error loading auction assets:",e.t0);case 8:if(this.setAuctionData(),this.setPublicKey(),!(null!=B.loginDataResponse)){e.next=22;break}return e.prev=12,e.next=15,this.handleLoggedInUserFlow();case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(12),console.error("Error in handleLoggedInUserFlow:",e.t1);case 20:e.next=23;break;case 22:this.handleGuestUserFlow();case 23:return e.next=25,this.init();case 25:S.getDispatcher().emit(k.IS_LOADER_OFF);case 26:case"end":return e.stop()}}),e,this,[[0,5],[12,17]])})));return function(){return e.apply(this,arguments)}}(),l.loadAuctionAssets=function(){var e=a(o().mark((function e(){var t,n,i,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=null==(t=B.auctionHouseListResponse)||null==(n=t.data[P.auctionIndex])||null==(i=n.products)||null==(r=i.productMedias[0])?void 0:r.medias.local_path)){e.next=4;break}return e.next=4,Ee(""+P.apiBaseURL+a,this.productImage);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.setPublicKey=function(){var e,t,n=null==(e=B.auctionHouseListResponse)||null==(t=e.data[P.auctionIndex])?void 0:t.rsa_public_key;n?P.publicKeyPem=n:console.warn("public_key not found")},l.initUIComponents=function(){this.playerKeyboardHandler.init(),this.playerKeyboardHandler.selectAuctionLabel(this.bidNumberLabel),this.socketEventHandler.selectAuctionLabel(this.bidNumberLabel);this.socketEventHandler.updateBidPercentageLabel({value:0}),z.getInstance().initsendMessege()},l.handleLoggedInUserFlow=function(){var e=a(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=B.loginDataResponse.data,this.currentAvatar=t.avatar||"assets/avatar/1.png",t.is_verified){e.next=6;break}return this.updateProfileKYC.onClick(),S.getDispatcher().emit(k.IS_LOADER_OFF),e.abrupt("return");case 6:return P.is_verified=!0,P.isLogin=!0,this.LoginButton.active=!1,this.wallet.active=!0,this.updateWalletBalance(),e.next=13,this.uniqueHistorymanager.init();case 13:return e.next=15,this.avatarIconsManager.setAvatarIcon(""+P.apiBaseURL+this.currentAvatar);case 15:(n=localStorage.getItem("ReceivedAuctionWinner"))&&(B.auctionWinner=JSON.parse(n),this.winingPage.getComponent(A).init(),this.winingPage.active=!0,this.commingSoonPage.active=!1);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.handleGuestUserFlow=function(){P.isLogin=!1,this.LoginButton.active=!0,this.wallet.active=!1},l.init=function(){var e=a(o().mark((function e(){var t,n,i,r,a,l,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==((null==(t=(a=B).auctionHouseListResponse)?void 0:t.data)||[]).length){e.next=8;break}return this.commingSoonPage.active=!0,S.getDispatcher().emit(k.IS_LOADER_OFF),console.log("CommingSoonPage"),e.abrupt("return");case 8:this.commingSoonPage.active=!1,null!=(l=null==(n=a.loginDataResponse)?void 0:n.data)&&l.id&&(z.getInstance().sendMessage("player:wallet:balance",l.id),this.LoginButton.active=!1,this.wallet.active=!0),u=null==(i=a.playerBalancesResponse)||null==(r=i.data)?void 0:r.play_balance,this.walletBalance.string=void 0!==u?u.toString():"0",e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(0),console.error("GamePlay init error:",e.t0),e.t0;case 19:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),l.updateWalletBalance=function(){var e,t,n=null==(e=B.playerBalancesResponse)||null==(t=e.data)?void 0:t.play_balance;null!=n&&(this.walletBalance.string=n.toString())},l.onclickChangeHistory=function(){M.inst.play("clickButtonsound"),this.isHistoryToggle=!this.isHistoryToggle,this.uniqueHistory.active=this.isHistoryToggle,this.myBidsHistory.active=!this.isHistoryToggle,this.isHistoryToggle?this.uniqueBidScroll.scrollToTop(.1):this.myBidScroll.scrollToTop(.1)},l.setAuctionData=function(){var e,t,n,i=null==(e=B.auctionHouseListResponse)?void 0:e.data[P.auctionIndex];i&&(this.auctionCategoryTitel.string=i.auctionCategory.title,this.playsConsumedOnBid.string=i.plays_consumed_on_bid+"X",this.auctiontitle.string=i.title,this.rewardAmount.string=(null==(t=i.products)||null==(n=t.price)?void 0:n.toString())||"")},t}(H)).prototype,"bidNumberLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(ce.prototype,"walletBalance",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(ce.prototype,"uniqueHistory",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(ce.prototype,"myBidsHistory",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(ce.prototype,"commingSoonPage",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(ce.prototype,"winingPage",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(ce.prototype,"rewardAmount",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(ce.prototype,"playerKeyboardHandler",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(ce.prototype,"updateProfileKYC",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(ce.prototype,"LoginButton",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=t(ce.prototype,"screenManager",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(ce.prototype,"productImage",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(ce.prototype,"avatarIconsManager",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(ce.prototype,"uniqueHistorymanager",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(ce.prototype,"wallet",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(ce.prototype,"auctionCategoryTitel",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(ce.prototype,"playsConsumedOnBid",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(ce.prototype,"auctiontitle",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t(ce.prototype,"uiHome",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t(ce.prototype,"keyBordHome",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(ce.prototype,"Uigame",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(ce.prototype,"keyBordGame",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(ce.prototype,"myBidScroll",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(ce.prototype,"uniqueBidScroll",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(ce.prototype,"socketEventHandler",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(ce.prototype,"allBidHistoryManager",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=ce))||se));function Ee(e,t){return new Promise((function(n){d.loadRemote(e,{ext:".png",xhrResponseType:"blob"},(function(e,i){if(e||!(i instanceof f))return console.warn("Failed to load remote image:",e),n();try{var r=new m;r.image=i;var a=new b;a.texture=r,null!=t&&t.isValid?t.spriteFrame=a:console.warn("Sprite is invalid or null")}catch(e){console.error("RemoteAvatar error:",e)}n()}))}))}l._RF.pop()}}}));

System.register("chunks:///_virtual/HowToPlayPanelManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealGameModel.ts","./BigDealEvents.ts","./DetailsPanelManager.ts"],(function(i){"use strict";var t,n,e,a,o,r,l,s,c,u,p,h,g,f,b,d;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,a=i.assertThisInitialized},function(i){o=i.cclegacy,r=i._decorator,l=i.Node,s=i.RichText,c=i.ScrollView,u=i.UIOpacity,p=i.tween,h=i.Vec3,g=i.Component},function(i){f=i.BigDealGameModel},function(i){b=i.StaticProperties},function(i){d=i.htmlToPlainText}],execute:function(){var m,P,v,y,T,w,N,D,S,x,M;o._RF.push({},"22193xSThNLQYsS/kdF8U3D","HowToPlayPanelManager",void 0);var A=r.ccclass,z=r.property;i("HowToPlayPanelManager",(m=A("HowToPlayPanelManager"),P=z(l),v=z(l),y=z(s),T=z(c),m((D=t((N=function(i){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=i.call.apply(i,[this].concat(o))||this,e(t,"mainPanel",D,a(t)),e(t,"bgNode",S,a(t)),e(t,"richText",x,a(t)),e(t,"bidScroll",M,a(t)),t.isAnimating=!1,t.isOpen=!1,t}n(t,i);var o=t.prototype;return o.init=function(){var i,t;if(!this.isAnimating&&!this.isOpen){this.isOpen=!0;var n=(null==(i=f.auctionHouseListResponse)||null==(t=i.data[b.auctionIndex])?void 0:t.description)||"No Description",e=d(n);this.richText.string=e,this.mainPanel.active=!1,this.bgNode.active=!1;var a=this.bgNode.getComponent(u);a&&(a.opacity=0),this.inPopUp()}},o.inPopUp=function(){var i=this;if(this.bgNode.active=!0,!this.isAnimating&&this.mainPanel&&this.bgNode&&this.bidScroll){this.isAnimating=!0,this.mainPanel.active=!0,this.bidScroll.scrollToTop(.1);var t=this.bgNode.getComponent(u);t&&(t.opacity=0,p(t).to(.3,{opacity:180}).start()),p(this.mainPanel).to(.3,{position:new h(0,0,0)}).call((function(){i.isAnimating=!1})).start()}},o.out=function(){var i=this;if(this.mainPanel&&this.bgNode){var t=this.bgNode.getComponent(u);t&&p(t).to(.3,{opacity:0}).call((function(){i.bgNode.active=!1})).start(),p(this.mainPanel).to(.3,{position:new h(0,-2e3,0)}).call((function(){i.mainPanel.active=!1,i.isAnimating=!1,i.isOpen=!1})).start()}},t}(g)).prototype,"mainPanel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(N.prototype,"bgNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(N.prototype,"richText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(N.prototype,"bidScroll",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=N))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/IndexedDBManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var e,n,t,o;return{setters:[function(r){e=r.createClass,n=r.asyncToGenerator,t=r.regeneratorRuntime},function(r){o=r.cclegacy}],execute:function(){o._RF.push({},"addf1B+oFhI0qRooyQlQYp0","IndexedDBManager",void 0),r("IndexedDBManager",function(){function r(){this.db=null,this.DB_NAME="BigDealDatabase",this.STORE_NAME="KeyValueStore",this.DB_VERSION=1}var o=r.prototype;return o.open=function(){var r=n(t().mark((function r(){var e=this;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r,n){var t=indexedDB.open(e.DB_NAME,e.DB_VERSION);t.onupgradeneeded=function(){var r=t.result;r.objectStoreNames.contains(e.STORE_NAME)||r.createObjectStore(e.STORE_NAME)},t.onsuccess=function(){e.db=t.result,r()},t.onerror=function(){console.error("IndexedDB open error:",t.error),n(t.error)}})));case 1:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),o.setItem=function(){var r=n(t().mark((function r(e,n){var o=this;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.db){r.next=3;break}return r.next=3,this.open();case 3:return r.abrupt("return",new Promise((function(r,t){var u=o.db.transaction(o.STORE_NAME,"readwrite").objectStore(o.STORE_NAME).put(n,e);u.onsuccess=function(){return r()},u.onerror=function(){return t(u.error)}})));case 4:case"end":return r.stop()}}),r,this)})));return function(e,n){return r.apply(this,arguments)}}(),o.getItem=function(){var r=n(t().mark((function r(e){var n=this;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.db){r.next=3;break}return r.next=3,this.open();case 3:if(e){r.next=6;break}return console.error("No key provided for getItem"),r.abrupt("return");case 6:return r.abrupt("return",new Promise((function(r,t){var o=n.db.transaction(n.STORE_NAME,"readonly").objectStore(n.STORE_NAME).get(e);o.onsuccess=function(){var e;return r(null!=(e=o.result)?e:null)},o.onerror=function(){return t(o.error)}})));case 7:case"end":return r.stop()}}),r,this)})));return function(e){return r.apply(this,arguments)}}(),o.deleteItem=function(){var r=n(t().mark((function r(e){var n=this;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.db){r.next=3;break}return r.next=3,this.open();case 3:return r.abrupt("return",new Promise((function(r,t){var o=n.db.transaction(n.STORE_NAME,"readwrite").objectStore(n.STORE_NAME).delete(e);o.onsuccess=function(){return r()},o.onerror=function(){return t(o.error)}})));case 4:case"end":return r.stop()}}),r,this)})));return function(e){return r.apply(this,arguments)}}(),o.clear=function(){var r=n(t().mark((function r(){var e=this;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.db){r.next=3;break}return r.next=3,this.open();case 3:return r.abrupt("return",new Promise((function(r,n){var t=e.db.transaction(e.STORE_NAME,"readwrite").objectStore(e.STORE_NAME).clear();t.onsuccess=function(){return r()},t.onerror=function(){return n(t.error)}})));case 4:case"end":return r.stop()}}),r,this)})));return function(){return r.apply(this,arguments)}}(),e(r,null,[{key:"inst",get:function(){return this._inst||(this._inst=new r),this._inst}}]),r}())._inst=void 0,o._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(n){"use strict";var e,t,a,r,u,i;return{setters:[function(n){e=n.createClass,t=n.asyncToGenerator,a=n.regeneratorRuntime},function(n){r=n.cclegacy,u=n.resources},function(n){i=n.default}],execute:function(){r._RF.push({},"f7299u2e8RJgprJTvDpQOwH","LanguageManager",void 0),n("LanguageManager",function(){function n(){this.languageData={},this.currentLanguage="en"}var r=n.prototype;return r.init=function(){var n=t(a().mark((function n(e){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.currentLanguage=e||localStorage.getItem("language")||"en",n.next=3,this.loadLanguage(this.currentLanguage);case 3:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}(),r.loadLanguage=function(){var n=t(a().mark((function n(e){var t=this;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,a){u.load("i18n/"+e,(function(r,u){r?(console.error("Language file load error: "+r),a(r)):(t.languageData=u.json,t.currentLanguage=e,localStorage.setItem("language",e),console.log("this.languageData",t.languageData),t.setLanguage(e),n())}))})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),r.setLanguage=function(){var n=t(a().mark((function n(e){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e==this.currentLanguage){n.next=3;break}return n.next=3,this.loadLanguage(e);case 3:i.getDispatcher().emit("language-changed");case 4:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}(),r.tWithVars=function(n,e){var t=this.languageData[n]||n;for(var a in e)t=t.replace("{{"+a+"}}",String(e[a]));return t},r.t=function(n,e){var t=this.languageData[n]||n;return e?t.replace(/\{\{(.*?)\}\}/g,(function(n,t){var a;return(null==(a=e[t.trim()])?void 0:a.toString())||""})):t},r.getLanguage=function(){return this.currentLanguage},e(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}())._instance=void 0,r._RF.pop()}}}));

System.register("chunks:///_virtual/loadingFram.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./BigDealEvents.ts"],(function(e){"use strict";var t,n,o,i,r,a,l,s,c,u,d,g,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Sprite,s=e.Node,c=e.Label,u=e.color,d=e.Component},function(e){g=e.default},function(e){p=e.BigDealEvents}],execute:function(){var f,m,h,w,y,B,b,v,L,E,D,O,_,F,I,R;e("showApiError",(function(e){var t="Something went wrong. Please try again.";null!=e&&e.message?t=e.message:"string"==typeof e?t=e:null!=e&&e.code&&(t="Error Code "+e.code);console.error("❌ ERROR: "+t),g.getDispatcher().emit(p.ERROR_MSG_NOTIFY,t)})),r._RF.push({},"9dd8f/jsZdD9qHcHwRLmmSf","loadingFram",void 0);var S=a.ccclass,z=a.property;e("loadingFram",(f=S("loadingFram"),m=z(l),h=z(l),w=z(s),y=z(s),B=z(s),b=z(c),f((E=t((L=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"loading",E,i(t)),o(t,"BG",D,i(t)),o(t,"logo",O,i(t)),o(t,"BlockBg",_,i(t)),o(t,"newLoading",F,i(t)),o(t,"amount",I,i(t)),o(t,"speed",R,i(t)),t}n(t,e);var r=t.prototype;return r.__preload=function(){window.parent.document.getElementById("gameFrame")&&(window.parent.document.getElementById("gameFrame").style.opacity="1"),setTimeout((function(){window.parent.document.getElementById("splashScreen")&&window.parent.document.getElementById("splashScreen").remove(),window.parent.document.getElementById("logo")&&window.parent.document.getElementById("logo").remove(),window.parent.document.getElementById("PoweredBy")&&window.parent.document.getElementById("PoweredBy").remove()}),200)},r.onLoad=function(){this.schedule(this.loader,.02),g.getDispatcher().on(p.IS_LOADER_ON,this.isLoderOn,this),g.getDispatcher().on(p.IS_LOADER_OFF,this.isLoderOff,this)},r.onDestroy=function(){g.getDispatcher().off(p.IS_LOADER_ON,this.isLoderOn,this),g.getDispatcher().off(p.IS_LOADER_OFF,this.isLoderOff,this)},r.loader=function(e){this.loading.node.angle=(this.loading.node.angle-this.speed)%360},r.isLoderOn=function(e,t){if(void 0===e&&(e=!0),void 0===t&&(t=0),t>0)return this.amount.string="Ampunt payable : "+t,void(this.newLoading.active=!0);e?(this.BG.color=u(0,0,0,150),this.logo.active=!1):this.BG.color=u(255,255,255,255),this.BlockBg.active=!0,this.schedule(this.loader,.02)},r.isLoderOff=function(){this.unschedule(this.loader),this.BlockBg.active=!1,this.newLoading&&(this.newLoading.active=!1)},r.loadingStop=function(){this.node.removeFromParent()},r.loadingDestroy=function(){this.node.destroy()},t}(d)).prototype,"loading",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(L.prototype,"BG",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(L.prototype,"logo",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(L.prototype,"BlockBg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(L.prototype,"newLoading",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(L.prototype,"amount",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(L.prototype,"speed",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7}}),v=L))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageManager.ts","./EventManager.ts"],(function(e){"use strict";var t,a,n,i,o,l,r,s,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,r=e.Label,s=e.Component},function(e){c=e.LanguageManager},function(e){u=e.default}],execute:function(){var g,h,p,f,d;o._RF.push({},"d919f8Zoh1CiqjugjhL18rp","LocalizedLabel",void 0);var y=l.ccclass,L=l.property;e("LocalizedLabel",(g=y("LocalizedLabel"),h=L({tooltip:"The key in language JSON"}),g((d=t((f=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"languageKey",d,i(t)),t.label=null,t}a(t,e);var o=t.prototype;return o.start=function(){this.label=this.getComponent(r),this.updateText(),console.log("language-changed test "),u.getDispatcher().on("language-changed",this.updateText,this)},o.onDestroy=function(){u.getDispatcher().off("language-changed",this.updateText,this)},o.updateText=function(){console.log("evet ont set inthis"),this.label&&this.languageKey&&(this.label.string=c.instance.t(this.languageKey))},t}(s)).prototype,"languageKey",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/LoginPopupManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoginScreen.ts","./ApiUrls.ts","./APIManager.ts","./BigDealGameModel.ts","./EventManager.ts","./BigDealEvents.ts"],(function(t){"use strict";var i,e,n,o,a,r,l,c,s,u,p,g,h,f,v,d,m,P,b,L;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){l=t.cclegacy,c=t._decorator,s=t.Node,u=t.UIOpacity,p=t.tween,g=t.Vec3,h=t.Component},function(t){f=t.LoginScreen},function(t){v=t.API_URLS},function(t){d=t.APIManager,m=t.MethodType},function(t){P=t.BigDealGameModel},function(t){b=t.default},function(t){L=t.BigDealEvents}],execute:function(){var k,w,y,B,C,W,O,E,S,N,z,D,x,A,M,_,I,T,R,F,H,U,G;l._RF.push({},"778aenarc1Bg7CfhDEq7nuy","LoginPopupManager",void 0);var q=c.ccclass,j=c.property;t("LoginPopupManager",(k=q("LoginPopupManager"),w=j(s),y=j(s),B=j(s),C=j(s),W=j(s),O=j(s),E=j(s),S=j(s),N=j(s),z=j(f),k((A=i((x=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return i=t.call.apply(t,[this].concat(a))||this,n(i,"loginWithEmailNode",A,o(i)),n(i,"loginWithWalletNode",M,o(i)),n(i,"loginWithWhatsappNode",_,o(i)),n(i,"buttonPanel",I,o(i)),n(i,"otpLoginPopup",T,o(i)),n(i,"emailLoginPopup",R,o(i)),n(i,"walletLoginPopup",F,o(i)),n(i,"sendOtp",H,o(i)),n(i,"popupBg",U,o(i)),n(i,"loginScreen",G,o(i)),i.isEmailOn=!1,i.isPopUPon=!1,i.isclicked=!1,i.isButtonClicked=!1,i}e(i,t);var l=i.prototype;return l.init=function(){var t=a(r().mark((function t(){var i,e,n,o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.popupBg.active){t.next=2;break}return t.abrupt("return");case 2:return this.popupBg.active=!0,this.popupBg.getComponent(u).opacity=0,b.getDispatcher().emit(L.IS_LOADER_ON,!0),t.prev=6,t.next=9,this.getAuctionHouseConfigsPromise(null==(i=P.auctionHouseResponse)||null==(e=i.data)||null==(n=e.currentAuctionHouse)?void 0:n.id);case 9:o=t.sent,b.getDispatcher().emit(L.IS_LOADER_OFF,!0),this.applyLoginOptions(o),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(6),console.error("Error fetching auction house configs:",t.t0);case 17:this.otpLoginPopup.active=!1,this.emailLoginPopup.active=!1,this.walletLoginPopup.active=!1,this.sendOtp.active=!1,this.popupBg.active=!1,this.buttonPanel.active=!0,this.showPopup(this.popupBg),this.loginScreen.init();case 25:case"end":return t.stop()}}),t,this,[[6,14]])})));return function(){return t.apply(this,arguments)}}(),l.applyLoginOptions=function(t){this.loginWithEmailNode.active=t.data.config.loginWithEmail,this.loginWithWalletNode.active=t.data.config.loginWithWallet,this.loginWithWhatsappNode.active=t.data.config.loginWithWhatsapp},l.backClick=function(){this.sendOtp.active?(this.sendOtp.active=!1,this.isEmailOn?(this.isEmailOn=!1,this.emailLoginPopup.active=!0):this.otpLoginPopup.active=!0):(this.otpLoginPopup.active=!1,this.emailLoginPopup.active=!1,this.walletLoginPopup.active=!1,this.buttonPanel.active=!0),this.isButtonClicked=!1},l.onClickLoginWithOTP=function(){this.isButtonClicked||(this.isButtonClicked=!0,this.loginScreen.init(),this.loginScreen.LoginWith="phone",this.otpLoginPopup.active=!0,this.buttonPanel.active=!1)},l.onClickLoginWithEmail=function(){this.isButtonClicked||(this.isButtonClicked=!0,this.loginScreen.LoginWith="email",this.loginScreen.init(),this.isEmailOn=!0,this.emailLoginPopup.active=!0,this.buttonPanel.active=!1)},l.onClickLoginWithWallet=function(){this.isButtonClicked||(this.isButtonClicked=!0,this.loginScreen.LoginWith="wallet",this.walletLoginPopup.active=!0,this.buttonPanel.active=!1)},l.openOtpPanel=function(){var t=a(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isclicked){t.next=2;break}return t.abrupt("return");case 2:return this.isclicked=!0,t.next=5,this.loginScreen.onLoginClick();case 5:t.sent?(console.log("OTP login successful!"),this.otpLoginPopup.active=!1,this.emailLoginPopup.active=!1,this.sendOtp.active=!0,this.isclicked=!1):(console.log("OTP login failed."),this.isclicked=!1);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.showPopup=function(t){var i=this;this.popupBg.active=!0;var e=this.popupBg.getComponent(u);e.opacity=0,p(e).to(.3,{opacity:255}).start(),t.active=!0,t.setScale(new g(0,0,1)),p(t).to(.3,{scale:new g(1.15,1.15,1)},{easing:"backOut",onComplete:function(){i.isButtonClicked=!1}}).start()},l.onClose=function(){this.closePopup(this.popupBg),this.isEmailOn=!1},l.closePopup=function(t){var i=this;p(t).to(.2,{scale:new g(0,0,1)},{easing:"backIn",onComplete:function(){t.active=!1}}).start(),p(this.popupBg.getComponent(u)).to(.3,{opacity:0},{onComplete:function(){i.popupBg.active=!1}}).start(),this.isButtonClicked=!1},l.getAuctionHouseConfigsPromise=function(t){var i=v.AUCTION_HOUSE_CONFIGS+"/"+t+"/configs";return new Promise(a(r().mark((function t(e,n){var o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.request(i,m.GET);case 3:(o=t.sent).success?e(o):n(new Error(o.message||"Failed to fetch configs")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))))},i}(h)).prototype,"loginWithEmailNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(x.prototype,"loginWithWalletNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(x.prototype,"loginWithWhatsappNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(x.prototype,"buttonPanel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(x.prototype,"otpLoginPopup",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(x.prototype,"emailLoginPopup",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(x.prototype,"walletLoginPopup",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(x.prototype,"sendOtp",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(x.prototype,"popupBg",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(x.prototype,"loginScreen",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=x))||D));l._RF.pop()}}}));

System.register("chunks:///_virtual/LoginScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CustomPopUp.ts","./APIManager.ts","./ApiUrls.ts","./BigDealGameModel.ts","./TimerBase.ts","./BigDealEvents.ts","./BigDealSocketManager.ts","./CookieUtils.ts","./UpdateProfileKYC.ts","./IndexedDBManager.ts","./LanguageManager.ts","./EventManager.ts"],(function(e){"use strict";var t,n,i,r,o,s,a,u,c,l,d,h,p,f,g,m,b,P,T,O,B,E,x,v,C,S,k,y,w,R,_,I,L,A,M,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy,u=e._decorator,c=e.Label,l=e.EditBox,d=e.Prefab,h=e.Button,p=e.RichText,f=e.Color,g=e.instantiate,m=e.Vec3,b=e.tween,P=e.Component,T=e.director},function(e){O=e.CustomPopUp},function(e){B=e.APIManager,E=e.MethodType},function(e){x=e.API_URLS},function(e){v=e.BigDealGameModel},function(e){C=e.TimerBase},function(e){S=e.BigDealEvents,k=e.Edit_Box_Event,y=e.Edit_Box_Event_Name,w=e.CookieKey,R=e.StaticProperties},function(e){_=e.BigDealSocketManager},function(e){I=e.CookieUtils},function(e){L=e.UpdateProfileKYC},function(e){A=e.IndexedDBManager},function(e){M=e.LanguageManager},function(e){N=e.default}],execute:function(){var D,z,U,W,K,Z,F,q,V,G,Y,H,j,J,$,Q,X,ee,te,ne,ie,re,oe,se,ae;a._RF.push({},"0ead9OeTRND4JJ4kaREl/l5","LoginScreen",void 0);var ue=u.ccclass,ce=u.property,le=(e("LoginScreen",(D=ue("LoginScreen"),z=ce(c),U=ce(l),W=ce(l),K=ce([l]),Z=ce(d),F=ce(L),q=ce(C),V=ce(c),G=ce(h),Y=ce(h),H=ce(p),D(($=t((J=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"countryCode",$,r(t)),i(t,"phoneNumber",Q,r(t)),i(t,"emailEditBox",X,r(t)),i(t,"isOTPBox",ee,r(t)),i(t,"customPopUp",te,r(t)),i(t,"updateProfileKYC",ne,r(t)),i(t,"timerBase",ie,r(t)),i(t,"InvalidOTPMsg",re,r(t)),i(t,"submitButton",oe,r(t)),i(t,"resendOTP",se,r(t)),i(t,"codeSentWith",ae,r(t)),t.isSendOtp=!1,t.isOtpClicked=!1,t.currentIndex=0,t.LoginWith="",t}n(t,e);var a=t.prototype;return a.start=function(){var e=this;this.timerBase.node.on("TimerFinished",this.otpTimeUp,this),this.isOTPBox.forEach((function(t,n){t.node.on("editing-did-began",(function(){return e.onEditBoxBegan(n)}),e),t.node.on("text-changed",(function(){return e.onTextChanged(n)}),e),t.node.on("editing-did-ended",e.onEditEnd,e)}))},a.init=function(){this.phoneNumber.string="",this.emailEditBox.string="",this.isOTPBox.forEach((function(e){e.string="",e.getComponentInChildren(c).string=""})),this.timerBase.stopTimer(),this.submitButton.interactable=!0,this.isSendOtp=!1},a.resendOtp=function(){this.offResend(),this.isSendOtp=!1,this.onLoginClick(),this.isOTPBox.forEach((function(e){return e.string=""})),this.resetOTPLabel()},a.onLoginClick=function(){var e=o(s().mark((function e(){var t,n,i,r,o,a,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.submitButton.interactable=!1,t=this.countryCode.string,n=this.phoneNumber.string,i=this.emailEditBox.string,r=this.createOtpRequest(t,n,i)){e.next=9;break}return this.getLoginAlertMessage(t,n,i),this.submitButton.interactable=!0,e.abrupt("return",!1);case 9:return e.prev=9,o=M.instance.t("enter_code_sent_to"),a=r.email||r.mobile_no||"",this.codeSentWith.string="<color=#ffffff>"+o+" </color><color=#00FFA3>"+a+"</color>",this.offResend(),e.next=16,B.request(x.SEND_OTP,E.POST,r);case 16:return u=e.sent,v.loginOtpResponse=u,this.timerBase.stopTimer(),this.timerBase.initializeTime(20),this.isSendOtp=!0,this.submitButton.interactable=!0,this.isOtpClicked=!1,this.isOTPBox[0].focus(),e.abrupt("return",!0);case 27:return e.prev=27,e.t0=e.catch(9),console.error("Send OTP Error:",e.t0),this.otpTimeUp(),this.submitButton.interactable=!0,e.abrupt("return",!1);case 33:case"end":return e.stop()}}),e,this,[[9,27]])})));return function(){return e.apply(this,arguments)}}(),a.createOtpRequest=function(e,t,n){return e&&t&&this.isValidPhoneNumber(t)?{mobile_no:""+e+t}:n&&this.isValidEmail(n)?{email:n}:null},a.onClickOtp=function(){var e=o(s().mark((function e(){var t,n,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isOtpClicked){e.next=2;break}return e.abrupt("return",!1);case 2:if(this.isOtpClicked=!0,4===(t=this.getOTPCode()).length){e.next=9;break}return this.getOtpAlertMessage(t),this.isOtpClicked=!1,this.submitButton.interactable=!0,e.abrupt("return",!1);case 9:return n={hostname:R.hostname,otpRequestId:v.loginOtpResponse.data.otpRequestId,otp:t},e.prev=10,e.next=13,this.loginWithOTP(n);case 13:return i=e.sent,v.loginDataResponse=i,I.setCookie(w.ACCESS_TOKEN,i.data.accessToken,30),I.setCookie(w.USER_ID,i.data.id,30),I.setCookie(w.REFRESH_TOKEN,i.data.refreshToken,30),localStorage.setItem("accessToken",i.data.accessToken),localStorage.setItem("refreshToken",i.data.refreshToken),A.inst.setItem(w.ACCESS_TOKEN,i.data.accessToken),A.inst.setItem(w.REFRESH_TOKEN,i.data.refreshToken),A.inst.setItem(w.USER_ID,i.data.id),i.data.is_verified&&localStorage.setItem("PlayerLoginObj",JSON.stringify(i)),e.next=26,this.getWalletBalance();case 26:return this.timerBase.stopTimer(),i.data.is_verified?(_&&_.clearInstance(),T.loadScene("MultipleAuction")):this.updateProfileKYC.onClick(),e.abrupt("return",!0);case 31:return e.prev=31,e.t0=e.catch(10),console.error("Login or wallet fetch failed:",e.t0),e.abrupt("return",!1);case 35:return e.prev=35,this.isOtpClicked=!1,e.finish(35);case 38:case"end":return e.stop()}}),e,this,[[10,31,35,38]])})));return function(){return e.apply(this,arguments)}}(),a.loginWithOTP=function(e){return new Promise(o(s().mark((function t(n,i){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.request(x.LOGIN,E.POST,e);case 3:r=t.sent,n(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),i(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))))},a.getWalletBalance=function(){var e=o(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.loginDataResponse.data.id,e.prev=1,e.next=4,B.request(x.WALLET_BALANCE+t,E.GET,null,!0);case 4:n=e.sent,v.playerBalancesResponse=n,console.log("Wallet Balance:",n),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(1),console.error("Wallet Balance Error",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),a.otpTimeUp=function(){this.resendOTP.interactable=!0;var e=M.instance.t("didnt_receive_code"),t=M.instance.t("resend");this.resendOTP.node.getComponent(p).string="<color=#ffffff>"+e+" </color><color=#0000ff><u>"+t+"</u></color>"},a.offResend=function(){this.resendOTP.interactable=!1;var e=M.instance.t("didnt_receive_code"),t=M.instance.t("resend");this.resendOTP.node.getComponent(p).string="<color=#969696>"+e+" </color><color=#969696><u>"+t+"</u></color>"},a.iInvalidOTP=function(e){this.InvalidOTPMsg.string=e,this.showPopup("ALERT!!",e),this.isOTPBox.forEach((function(e){e.node.getComponentInChildren(c).color=f.RED}))},a.resetOTPLabel=function(){this.InvalidOTPMsg.string="",this.isOTPBox.forEach((function(e){e.node.getComponentInChildren(c).color=f.WHITE}))},a.getOtpAlertMessage=function(e){var t="Something went wrong.";e?4!==e.length&&(t="OTP must be 4 digits."):t="OTP cannot be empty.",this.showPopup("ALERT!!",t)},a.getLoginAlertMessage=function(e,t,n){var i="Something went wrong.";"email"==this.LoginWith?n&&""!==n.trim()?this.isValidEmail(n)||(i="Please enter a valid email address."):i="Please enter your email address.":"phone"==this.LoginWith&&(t&&""!==t.trim()?this.isValidPhoneNumber(t)||(i="Please enter a valid phone number."):i="Please enter your phone number."),N.getDispatcher().emit(S.ERROR_MSG_NOTIFY,i||"Please try again, something went wrong.")},a.showPopup=function(e,t){var n=this,i=g(this.customPopUp);i.setPosition(0,0),i.setScale(m.ZERO),this.node.addChild(i);i.getComponent(O).setCallback((function(){return n.setZoomOut(i)}),null),i.getComponent(O).Msg.string=t,i.getComponent(O).title.string=e,this.setZoom(i)},a.setZoom=function(e){b(e).to(.2,{scale:new m(1.2,1.2,1.2)}).to(.1,{scale:new m(1,1,1)}).start()},a.setZoomOut=function(e){b(e).to(.2,{scale:m.ZERO}).destroySelf().start()},a.onEditboxEditingBegan=function(){k.emit(y,!0)},a.onEditboxEditingEnd=function(){k.emit(y,!1)},a.onEditBoxBegan=function(e){this.onEditboxEditingBegan(),this.currentIndex=e,this.resetOTPLabel()},a.onTextChanged=function(e){var t=this.isOTPBox[e].string;3===e&&0!=t.length?(this.isOTPBox[e].string=t.charAt(0),this.focusPrevEditBox(e+1)):2===t.length?(this.isOTPBox[e].string=t.charAt(0),this.focusNextEditBox(e,t.charAt(1))):0===t.length?this.focusPrevEditBox(e):t.length>1&&this.focusPrevEditBox(e+1)},a.focusNextEditBox=function(e,t){e<this.isOTPBox.length-1&&(this.isOTPBox[e+1].string=t,this.isOTPBox[e+1].focus())},a.focusPrevEditBox=function(e){e>0&&this.isOTPBox[e-1].focus()},a.isValidPhoneNumber=function(e){return/^\d{10}$/.test(e)},a.isValidEmail=function(e){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)},a.isRealCountryCode=function(e){return le.has(e)},a.getOTPCode=function(){return this.isOTPBox.map((function(e){return e.string.trim()})).join("")},a.onEditEnd=function(){this.onEditboxEditingEnd()},t}(P)).prototype,"countryCode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(J.prototype,"phoneNumber",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(J.prototype,"emailEditBox",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(J.prototype,"isOTPBox",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=t(J.prototype,"customPopUp",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(J.prototype,"updateProfileKYC",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(J.prototype,"timerBase",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(J.prototype,"InvalidOTPMsg",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(J.prototype,"submitButton",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(J.prototype,"resendOTP",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(J.prototype,"codeSentWith",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=J))||j)),new Set(["+1","+44","+91","+81","+61","+49","+33","+971","+86","+7"]));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./BigDealGameModel.ts","./AllBidHistoryManager.ts","./AuctionListManager.ts","./AuctionManager.ts","./BidStorageManager.ts","./BuyPlaysManager.ts","./BuyXPManager.ts","./DetailsPanelManager.ts","./GameFlowManager.ts","./GameFotterManager.ts","./HowToPlayPanelManager.ts","./LoginPopupManager.ts","./MenuPanel.ts","./MyAuctionHistoryPrefab.ts","./MyAuctionManager.ts","./NodeNameHighlightManager.ts","./PayPalButtonManager.ts","./ShippingStatus.ts","./ShowProfile.ts","./SlotBaseTutorial.ts","./SocketEventHandler.ts","./TextHighlightManager.ts","./TransferXPManager.ts","./UniqueBidStorageManager.ts","./UpdateProfileKYC.ts","./WinAuctionStatusConfirm.ts","./XPHistoryManager.ts","./ClaimRewardPrize.ts","./EditProfilePicture.ts","./GamePlay.ts","./AvatarIconsManager.ts","./BigDealEvents.ts","./BigDealLayoutManager.ts","./CustomPopUp.ts","./Dropdown.ts","./EncryptionHelper.ts","./ErrorCustomPopUp.ts","./EventEmitter.ts","./EventManager.ts","./MyAudioManager.ts","./NotificationManager.ts","./TimerBase.ts","./TutorialItem.ts","./loadingFram.ts","./msgBox.ts","./msgBoxItem.ts","./IndexedDBManager.ts","./UserInterface.ts","./LanguageManager.ts","./LocalizedLabel.ts","./LoginScreen.ts","./BigDealSocketManager.ts","./MyWalletScreen.ts","./PlayerKeyboardHandler.ts","./ProfileUpdated.ts","./RewardScene.ts","./SpinningGradientNode.ts","./ShowWining.ts","./UniqueBidsAndCounts.ts","./UniqueHistory.ts","./APIManager.ts","./ApiUrls.ts","./BrowserBackButtonHandler.ts","./CookieUtils.ts","./ErrorHandler.ts","./Socket_Io.mjs_cjs=&original=.js"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MenuPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ShowProfile.ts","./APIManager.ts","./ApiUrls.ts","./BigDealGameModel.ts","./BigDealEvents.ts","./EventManager.ts","./BigDealSocketManager.ts","./LoginPopupManager.ts","./XPHistoryManager.ts","./BuyXPManager.ts","./TransferXPManager.ts","./GamePlay.ts","./MyAudioManager.ts","./CookieUtils.ts","./IndexedDBManager.ts","./MyAuctionManager.ts","./LanguageManager.ts"],(function(e){"use strict";var n,t,o,i,a,r,u,s,l,c,g,p,f,d,h,M,P,b,y,m,S,L,O,v,w,k,C,N,B,A,D,T,U,_,x,X,z,I,R,E;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){u=e.cclegacy,s=e._decorator,l=e.Node,c=e.Label,g=e.Sprite,p=e.UIOpacity,f=e.Vec3,d=e.tween,h=e.Component,M=e.Size,P=e.Tween,b=e.director},function(e){y=e.ShowProfile},function(e){m=e.resetStaticProperties,S=e.getPlayarToken,L=e.APIManager,O=e.MethodType},function(e){v=e.API_URLS},function(e){w=e.BigDealGameModel},function(e){k=e.BigDealEvents,C=e.StaticProperties},function(e){N=e.default},function(e){B=e.BigDealSocketManager},function(e){A=e.LoginPopupManager},function(e){D=e.XPHistoryManager},function(e){T=e.BuyXPManager},function(e){U=e.TransferXPManager},function(e){_=e.setImageSize,x=e.RemoteAvatar},function(e){X=e.MyAudioManager},function(e){z=e.CookieUtils},function(e){I=e.IndexedDBManager},function(e){R=e.MyAuctionManager},function(e){E=e.LanguageManager}],execute:function(){var H,G,F,V,j,q,Y,J,K,Q,W,Z,$,ee,ne,te,oe,ie,ae,re,ue,se,le,ce,ge;u._RF.push({},"31aeezV0YRDOLpn1URmNB5F","MenuPanel",void 0);var pe=s.ccclass,fe=s.property;e("MenuPanel",(H=pe("MenuPanel"),G=fe(l),F=fe(l),V=fe(l),j=fe(c),q=fe(y),Y=fe(g),J=fe(A),K=fe(D),Q=fe(T),W=fe(U),Z=fe(R),H((ne=n((ee=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n=e.call.apply(e,[this].concat(a))||this,o(n,"uiNode",ne,i(n)),o(n,"bgNode",te,i(n)),o(n,"soundToggleNode",oe,i(n)),o(n,"userNameleLabel",ie,i(n)),o(n,"showProfile",ae,i(n)),o(n,"gameLogo",re,i(n)),o(n,"loginPopupManager",ue,i(n)),o(n,"xPHistoryManager",se,i(n)),o(n,"buyXPManager",le,i(n)),o(n,"transferXPManager",ce,i(n)),o(n,"myAuctionManager",ge,i(n)),n.isMenuOpen=!1,n.buttonClicked=!1,n.isSoundOn=!0,n}t(n,e);var u=n.prototype;return u.start=function(){this.bgNode.getComponent(p).opacity=0,this.uiNode.setPosition(new f(810,0,0)),this.bgNode.active=!1,this.uiNode.active=!1,this.loadSoundState(),this.updateSoundToggleUI(),N.getDispatcher().on("openMenu",this.openMenu,this),N.getDispatcher().on("closeMenu",this.closeMenu,this)},u.openMenu=function(){var e=a(r().mark((function e(){var n,t,o,i,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=null==(n=w.auctionHouseResponse)?void 0:n.data.currentAuctionHouse.medias.local_path)){e.next=4;break}return e.next=4,x(""+C.apiBaseURL+i,this.gameLogo);case 4:if(a=(null==(t=w.loginDataResponse)||null==(o=t.data)?void 0:o.first_name)||"Guest",this.userNameleLabel.string=E.instance.t("logged_in_as",{name:a}),_(new M(325,130),this.gameLogo.node),C.isLogin){e.next=10;break}return this.loginPopupManager.init(),e.abrupt("return");case 10:if(!this.isMenuOpen){e.next=12;break}return e.abrupt("return");case 12:this.isMenuOpen=!0,this.buttonClicked=!1,this.bgNode.active=!0,this.uiNode.active=!0,d(this.bgNode.getComponent(p)).to(.2,{opacity:150}).start(),d(this.uiNode).to(.2,{position:new f(0,0,0)}).start();case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.closeMenu=function(){var e=this;this.isMenuOpen&&(this.isMenuOpen=!1,d(this.bgNode.getComponent(p)).to(.2,{opacity:0}).call((function(){e.bgNode.active=!1})).start(),d(this.uiNode).to(.2,{position:new f(810,0,0)}).call((function(){e.uiNode.active=!1})).start())},u.handleButtonClick=function(e){this.buttonClicked||(this.buttonClicked=!0,e())},u.onClickProfile=function(){var e=this;this.handleButtonClick((function(){N.getDispatcher().emit(k.CLOSE_ALL_POPUPS),console.log("Open My Profile"),e.showProfile.showProfile(),e.closeMenu()}))},u.onClickBuyXP=function(){var e=this;this.handleButtonClick((function(){N.getDispatcher().emit(k.CLOSE_ALL_POPUPS),console.log("Open Buy XP"),e.buyXPManager.showBuyXPPanel(),e.closeMenu()}))},u.onClickTransactions=function(){var e=this;this.handleButtonClick((function(){N.getDispatcher().emit(k.CLOSE_ALL_POPUPS),console.log("Open Transactions"),e.xPHistoryManager.openUI(),e.closeMenu()}))},u.onClickMyAuction=function(){var e=this;this.handleButtonClick((function(){N.getDispatcher().emit(k.CLOSE_ALL_POPUPS),console.log("Open Transactions"),e.myAuctionManager.onAuctionClicked(),e.closeMenu()}))},u.onClickTransferXP=function(){var e=this;this.handleButtonClick((function(){N.getDispatcher().emit(k.CLOSE_ALL_POPUPS),console.log("Open Transfer XP"),e.transferXPManager.showBuyXPPanel(),e.closeMenu()}))},u.onClickLogout=function(){var e=this;this.handleButtonClick((function(){console.log("Logging Out..."),e.closeMenu(),e.userLogUot()}))},u.toggleSound=function(){this.isSoundOn=!this.isSoundOn,localStorage.setItem("soundOn",this.isSoundOn+""),X.inst.toggleSound(),this.updateSoundToggleUI()},u.updateSoundToggleUI=function(){this.soundToggleNode&&(this.soundToggleNode.getChildByName("SoundOff").active=!this.isSoundOn,this.soundToggleNode.getChildByName("SoundOn").active=this.isSoundOn),console.log("Sound is now",this.isSoundOn?"ON":"OFF")},u.loadSoundState=function(){"false"===localStorage.getItem("soundOn")&&(this.isSoundOn=!1)},u.userLogUot=function(){var e=a(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(a(r().mark((function e(n,t){var o,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,N.getDispatcher().emit(k.IS_LOADER_ON),o=!1,!S()){e.next=9;break}return e.next=6,L.request(v.LOGOUT,O.PUT,null,!0,!1);case 6:i=e.sent,console.log("userLogUot",i),o=!0;case 9:return localStorage.clear(),e.next=12,z.clearAllCookies();case 12:return m(),P.stopAll(),e.next=16,B.clearInstance();case 16:I.inst.clear(),w.setallData(),o&&b.loadScene("MultipleAuction"),n(),e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(0),console.error("userLogUot",e.t0),e.abrupt("return",t(e.t0));case 26:case"end":return e.stop()}}),e,null,[[0,22]])})))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n}(h)).prototype,"uiNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=n(ee.prototype,"bgNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=n(ee.prototype,"soundToggleNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=n(ee.prototype,"userNameleLabel",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=n(ee.prototype,"showProfile",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=n(ee.prototype,"gameLogo",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=n(ee.prototype,"loginPopupManager",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=n(ee.prototype,"xPHistoryManager",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=n(ee.prototype,"buyXPManager",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=n(ee.prototype,"transferXPManager",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=n(ee.prototype,"myAuctionManager",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=ee))||$));u._RF.pop()}}}));

System.register("chunks:///_virtual/msgBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./msgBoxItem.ts"],(function(t){"use strict";var e,o,i,s,n,m,r,g,p,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){n=t.cclegacy,m=t._decorator,r=t.Node,g=t.Vec3,p=t.Component},function(t){h=t.msgBoxItem}],execute:function(){var d,l,c,a,f;n._RF.push({},"3e529d6Op5J+4GI4Mai0R/B","msgBox",void 0);var u,I=m.ccclass,b=m.property;!function(t){t[t.bottomRight=0]="bottomRight",t[t.bottomLeft=1]="bottomLeft",t[t.topRight=2]="topRight",t[t.topLeft=3]="topLeft",t[t.topMiddle=4]="topMiddle",t[t.bottomMiddle=5]="bottomMiddle"}(u||(u={}));t("msgBox",(d=I("msgBox"),l=b(r),d((f=e((a=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),m=0;m<o;m++)n[m]=arguments[m];return e=t.call.apply(t,[this].concat(n))||this,i(e,"msgItem",f,s(e)),e}o(e,t);var n=e.prototype;return n.start=function(){},n.setDefault=function(){for(var t=0;t<this.msgItem.length;t++)this.msgItem[t].active=!1,this.msgItem[t].getComponent(h).setDefaultView()},n.setinitView=function(t,e,o){this.setDefault();var i=t.y;"bottomRight"===o?(this.msgItem[u.bottomRight].active=!0,this.msgItem[u.bottomRight].getComponent(h).setinitView(e),i=t.y,this.node.setWorldPosition(new g(t.x,i,0))):"bottomLeft"===o?(this.msgItem[u.bottomLeft].active=!0,i=t.y,this.node.setWorldPosition(new g(t.x,i,0)),this.msgItem[u.bottomLeft].getComponent(h).setinitView(e)):"topLeft"===o?(this.msgItem[u.topRight].active=!0,this.msgItem[u.topRight].getComponent(h).setinitView(e),i=t.y,this.node.setWorldPosition(new g(t.x,i,0))):"topRight"===o?(this.msgItem[u.topLeft].active=!0,this.msgItem[u.topLeft].getComponent(h).setinitView(e),i=t.y,this.node.setWorldPosition(new g(t.x,i,0))):"topMiddle"===o?(this.msgItem[u.topMiddle].active=!0,this.msgItem[u.topMiddle].getComponent(h).setinitView(e),i=t.y+45,this.node.setWorldPosition(new g(t.x,i,0))):"bottomMiddle"===o&&(this.msgItem[u.bottomMiddle].active=!0,this.msgItem[u.bottomMiddle].getComponent(h).setinitView(e),i=t.y-45,this.node.setWorldPosition(new g(t.x,i,0)))},e}(p)).prototype,"msgItem",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=a))||c));n._RF.pop()}}}));

System.register("chunks:///_virtual/msgBoxItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,o,s,a,r,c,l,h,u,m,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,r=t.Node,c=t.tween,l=t.Vec3,h=t.UITransform,u=t.Size,m=t.Label,p=t.Component}],execute:function(){var d,g,f,N,v,z,w,S,b;s._RF.push({},"5720davMkhFyrv0q6JS+DQg","msgBoxItem",void 0);var y=a.ccclass,C=a.property;t("msgBoxItem",(d=y("msgBoxItem"),g=C(r),f=C(r),N=C(r),d((w=e((z=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,n(e,"arrowNode",w,o(e)),n(e,"poniNode",S,o(e)),n(e,"msgNode",b,o(e)),e.contantSizeY=0,e.potraitSizeY=130,e.landscapeSizeY=166,e.isActive=!0,e}i(e,t);var s=e.prototype;return s.setZoom=function(t){c(t).to(.5,{scale:new l(1.02,1.02,0)},{easing:"backIn"}).to(.5,{scale:new l(1,1,0)},{easing:"backIn"}).start()},s.setDefaultView=function(){this.contantSizeY=0,this.arrowNode.getComponent(h).setContentSize(new u(110,this.contantSizeY)),this.msgNode.getChildByName("Label").getComponent(m).string="",this.poniNode.active=!1,this.msgNode.active=!1},s.setinitView=function(t){this.setDefaultView(),this.isActive=!0,this.msgNode.getChildByName("Label").getComponent(m).string=t,this.schedule(this.activeAnimation,1e-6)},s.activeAnimation=function(){this.isActive&&(this.contantSizeY+=15,this.potraitAnimation())},s.potraitAnimation=function(){this.contantSizeY>=this.potraitSizeY?(this.poniNode.active=!0,this.msgNode.active=!0,this.unschedule(this.activeAnimation),this.setZoom(this.msgNode.getChildByName("Label"))):this.arrowNode.getComponent(h).setContentSize(new u(110,this.contantSizeY))},s.landscapeAnimation=function(){this.contantSizeY>=this.landscapeSizeY?(this.poniNode.active=!0,this.unschedule(this.activeAnimation),this.setZoom(this.msgNode.getChildByName("Label"))):this.arrowNode.getComponent(h).setContentSize(new u(110,this.contantSizeY))},e}(p)).prototype,"arrowNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(z.prototype,"poniNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(z.prototype,"msgNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=z))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/MyAuctionHistoryPrefab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(t){"use strict";var i,e,n,a,r,l,s,u,o,c,b;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,s=t.Label,u=t.Node,o=t.Button,c=t.Component},function(t){b=t.default}],execute:function(){var h,p,d,f,g,m,y,C,v,S,L,B,_,P,k,w,z,N,I,A,M,W,D,O,T,H,x;t("ShippingClaimStatus",void 0),r._RF.push({},"bcfdadoMgNNfozW1rBSGDAa","MyAuctionHistoryPrefab",void 0);var F,R=l.ccclass,U=l.property;!function(t){t.Clam_Winging_Price="Clam:Winging:Price",t.Winging_Price_Status="Winging:Price:Status",t.WIN_AUCTION_STATUS_CONFIRM="WIN_AUCTION_STATUS_CONFIRM"}(F||(F=t("ShippingClaimStatus",{})));t("MyAuctionHistoryPrefab",(h=R("MyAuctionHistoryPrefab"),p=U(s),d=U(s),f=U(s),g=U(s),m=U(s),y=U(s),C=U(s),v=U(u),S=U(u),L=U(u),B=U(u),_=U(s),h((w=i((k=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),l=0;l<e;l++)r[l]=arguments[l];return i=t.call.apply(t,[this].concat(r))||this,n(i,"auctionLabel",w,a(i)),n(i,"myBidsLabel",z,a(i)),n(i,"xpConsumedLabel",N,a(i)),n(i,"player",I,a(i)),n(i,"resultLabel",A,a(i)),n(i,"typeLabel",M,a(i)),n(i,"productNameLabel",W,a(i)),n(i,"ClaimButton",D,a(i)),n(i,"declined",O,a(i)),n(i,"Status",T,a(i)),n(i,"noanyone",H,a(i)),n(i,"statusButtonLabel",x,a(i)),i.isClickd=!1,i.auctionId=null,i.is_Status=null,i}e(i,t);var r=i.prototype;return r.setData=function(t,i,e,n,a,r,l,s,u,c,b,h){if(this.auctionLabel.string=i,this.auctionId=t,this.is_Status=h,this.myBidsLabel.string=e+" / "+r,this.player.string=a+" ",this.xpConsumedLabel.string=""+n,this.resultLabel.string=l+" / "+s,this.typeLabel.string=u,this.productNameLabel.string=c,this.isClickd=!1,"won"==b)switch(this.is_Status){case"claim":this.ClaimButton.active=!0;break;case"inProcess":this.statusButtonLabel.string="inProcess",this.ClaimButton.active=!1,this.Status.active=!0;break;case"orderPlaced":this.ClaimButton.active=!1,this.Status.active=!0,this.statusButtonLabel.string="OrderPlaced";break;case"delivered":this.ClaimButton.active=!1,this.Status.active=!0,this.statusButtonLabel.string="Delivered";break;case"confirmed":this.statusButtonLabel.string="Confirmed",this.ClaimButton.active=!1,this.Status.getComponent(o).interactable=!1,this.Status.active=!0;break;case"declined":this.ClaimButton.active=!1,this.declined.active=!0,this.Status.active=!1;break;default:this.noanyone.active=!0,this.ClaimButton.active=!1,this.Status.active=!1,this.declined.active=!1}else this.ClaimButton.active=!1,this.Status.active=!1,this.noanyone.active=!0},r.claim=function(){var t=this;this.isClickd||(this.isClickd=!0,b.getDispatcher().emit(F.Clam_Winging_Price,this.auctionId),this.scheduleOnce((function(){t.isClickd=!1}),2))},r.othorStatus=function(){var t=this;this.isClickd||(this.isClickd=!0,b.getDispatcher().emit(F.Winging_Price_Status,this.is_Status,this.auctionId),this.scheduleOnce((function(){t.isClickd=!1}),2))},i}(c)).prototype,"auctionLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(k.prototype,"myBidsLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(k.prototype,"xpConsumedLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(k.prototype,"player",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(k.prototype,"resultLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(k.prototype,"typeLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(k.prototype,"productNameLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(k.prototype,"ClaimButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(k.prototype,"declined",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(k.prototype,"Status",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(k.prototype,"noanyone",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(k.prototype,"statusButtonLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=k))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/MyAuctionManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./APIManager.ts","./BigDealEvents.ts","./BigDealGameModel.ts","./MyAuctionHistoryPrefab.ts","./EventManager.ts"],(function(t){"use strict";var e,n,i,a,o,r,u,c,l,s,d,p,f,h,g,y,b,v,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){u=t.cclegacy,c=t._decorator,l=t.Node,s=t.Prefab,d=t.ScrollView,p=t.Component,f=t.instantiate},function(t){h=t.APIManager,g=t.MethodType},function(t){y=t.BigDealEvents},function(t){b=t.BigDealGameModel},function(t){v=t.MyAuctionHistoryPrefab},function(t){_=t.default}],execute:function(){var m,N,A,P,w,M,D,z,C,T,k,x,F,R,B,E,H;u._RF.push({},"fec95D35PtNCqvQjJmfcYqm","MyAuctionManager",void 0);var G=c.ccclass,I=c.property;t("MyAuctionManager",(m=G("MyAuctionManager"),N=I(l),A=I(l),P=I(s),w=I(l),M=I(d),D=I(l),z=I(l),m((k=e((T=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"uiNode",k,a(e)),i(e,"auctionParent",x,a(e)),i(e,"auctionPrefab",F,a(e)),i(e,"loadingNode",R,a(e)),i(e,"scroll2",B,a(e)),i(e,"hading",E,a(e)),i(e,"noDataFound",H,a(e)),e.auctionNodes=[],e}n(e,t);var u=e.prototype;return u.start=function(){_.getDispatcher().on(y.AUCTION_Claim,this.onAuctionClicked,this)},u.onAuctionClicked=function(){var t=o(r().mark((function t(){var e,n,i,a,o,u,c,l,s,d,p,f,y,v;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setPanelActive(),this.auctionParent.children.length<1&&(this.loadingNode.active=!0),t.prev=2,u=null==(e=b.loginDataResponse)||null==(n=e.data)?void 0:n.id,c=null==(i=b.auctionHouseResponse)||null==(a=i.data)||null==(o=a.currentAuctionHouse)?void 0:o.id,l="v1/auction/player-auction/"+u+"?limit=50&page=0&auction_house_id="+c+"&state=completed",t.next=8,h.request(l,g.GET,null,!0);case 8:for(s=t.sent,b.myAuctionResponse=s,this.loadingNode.active=!1,s.data.length<=0?this.noDataFound.active=!0:this.noDataFound.active=!1,d=0;d<this.auctionNodes.length&&d<s.data.length;d++)p=s.data[d],f=this.auctionNodes[this.auctionNodes.length-(d+1)],this.updateAuctionNode(f,p);if(s.data.length>this.auctionNodes.length)for(y=this.auctionNodes.length;y<s.data.length;y++)v=s.data[y],this.newAuctionNode(v);t.next=20;break;case 16:t.prev=16,t.t0=t.catch(2),this.loadingNode.active=!1,console.error("Auction fetch error:",t.t0);case 20:case"end":return t.stop()}}),t,this,[[2,16]])})));return function(){return t.apply(this,arguments)}}(),u.setPanelActive=function(){this.scroll2.scrollToTopLeft(0,!0),this.uiNode.active=!0,this.ScrollUpdate()},u.setPanelOff=function(){this.uiNode.active=!1},u.updateAuctionNode=function(t,e){t.getComponent(v).setData(e.auction_id,e.title,e.total_bids,e.total_bid_consumed,e.total_player,e.total_auction_bids,e.winner_player_name,e.winner_bid_value||"",e.auction_type,e.product_name,e.status,e.delivery_status)},u.newAuctionNode=function(){var t=o(r().mark((function t(e){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n=f(this.auctionPrefab),this.auctionParent.addChild(n),n.getComponent(v).setData(e.auction_id,e.title,e.total_bids,e.total_bid_consumed,e.total_player,e.total_auction_bids,e.winner_player_name,e.winner_bid_value||"",e.auction_type,e.product_name,e.status,e.delivery_status),this.auctionNodes.unshift(n)}catch(t){console.error("Error creating auction node",t)}case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.ScrollUpdate=function(){var t=this.auctionParent.getPosition();this.hading.setPosition(t.x,0)},e}(p)).prototype,"uiNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(T.prototype,"auctionParent",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(T.prototype,"auctionPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(T.prototype,"loadingNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(T.prototype,"scroll2",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(T.prototype,"hading",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(T.prototype,"noDataFound",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=T))||C));u._RF.pop()}}}));

System.register("chunks:///_virtual/MyAudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var i,t,n,u,e,s,r;return{setters:[function(o){i=o.createClass},function(o){t=o.cclegacy,n=o.AudioClip,u=o.resources,e=o.Node,s=o.director,r=o.AudioSource}],execute:function(){t._RF.push({},"1c8fegG9xRLnJ4qI2PxCBRR","MyAudioManager",void 0),o("MyAudioManager",function(){function o(){this._audioSource=void 0,this._isSoundOn=!0,this.SOUND_KEY="soundOn";var o=new e;o.name="__audioMgr__",s.getScene().addChild(o),s.addPersistRootNode(o),this._audioSource=o.addComponent(r);var i=localStorage.getItem(this.SOUND_KEY);this._isSoundOn=null===i||"true"===i}o.getInstance=function(){throw new Error("Method not implemented.")};var t=o.prototype;return t.toggleSound=function(){this._isSoundOn=!this._isSoundOn,localStorage.setItem(this.SOUND_KEY,this._isSoundOn.toString()),this._isSoundOn||this.stop()},t.playOneShot=function(o,i){var t=this;void 0===i&&(i=1),this._isSoundOn&&(o instanceof n?this._audioSource.playOneShot(o,i):u.load("Sounds/"+o,(function(o,n){o?console.log(o):t._audioSource.playOneShot(n,i)})))},t.play=function(o,i){var t=this;void 0===i&&(i=1),this._isSoundOn&&(o instanceof n?(this._audioSource.stop(),this._audioSource.clip=o,this._audioSource.play(),this.audioSource.volume=i):u.load("Sounds/"+o,(function(o,n){o?console.log(o):(t._audioSource.stop(),t._audioSource.clip=n,t._audioSource.play(),t.audioSource.volume=i)})))},t.stop=function(){this._audioSource.stop()},t.pause=function(){this._audioSource.pause()},t.resume=function(){this._isSoundOn&&this._audioSource.play()},i(o,[{key:"audioSource",get:function(){return this._audioSource}},{key:"isSoundOn",get:function(){return this._isSoundOn}}],[{key:"inst",get:function(){return null==this._inst&&(this._inst=new o),this._inst}}]),o}())._inst=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/MyWalletScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./APIManager.ts","./ApiUrls.ts","./BigDealSocketManager.ts","./EventManager.ts","./BigDealEvents.ts","./BigDealGameModel.ts","./CookieUtils.ts","./IndexedDBManager.ts"],(function(e){"use strict";var t,n,r,i,a,o,l,c,u,s,p,f,g,d,y,b,h,U,M,v,D,m,w,I,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){l=e.cclegacy,c=e._decorator,u=e.Label,s=e.Node,p=e.EditBox,f=e.Component,g=e.director,d=e.Tween},function(e){y=e.resetStaticProperties,b=e.APIManager,h=e.MethodType},function(e){U=e.API_URLS},function(e){M=e.BigDealSocketManager},function(e){v=e.default},function(e){D=e.BigDealEvents,m=e.getPlayarToken},function(e){w=e.BigDealGameModel},function(e){I=e.CookieUtils},function(e){S=e.IndexedDBManager}],execute:function(){var k,x,B,L,T,A,E,O,P,W,_,C,z;l._RF.push({},"a1501ZOtWdGyIIYVf7snTCg","MyWalletScreen",void 0);var G=c.ccclass,R=c.property;e("MyWalletScreen",(k=G("MyWalletScreen"),x=R(u),B=R(s),L=R(s),T=R(p),A=R(u),k((P=t((O=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"referralCode",P,i(t)),r(t,"gameWallet",W,i(t)),r(t,"winningWallet",_,i(t)),r(t,"UpiIdEditBox",C,i(t)),r(t,"walletUpiIdMessege",z,i(t)),t}n(t,e);var l=t.prototype;return l.init=function(){v.getDispatcher().on("USER_LOGOUT",this.userLogUot,this)},l.start=function(){},l.onDestroy=function(){v.getDispatcher().off("USER_LOGOUT",this.userLogUot,this)},l.onClickBack=function(){this.node.active=!1},l.userLogUot=function(){var e=a(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(a(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,v.getDispatcher().emit(D.IS_LOADER_ON),!m()){e.next=7;break}return e.next=5,b.request(U.LOGOUT,h.PUT,null,!0,!1);case 5:r=e.sent,console.log("userLogUot",r);case 7:return localStorage.clear(),e.next=10,I.clearAllCookies();case 10:return y(),d.stopAll(),e.next=14,M.clearInstance();case 14:S.inst.clear(),w.setallData(),g.loadScene("MultipleAuction"),t(),e.next=24;break;case 20:return e.prev=20,e.t0=e.catch(0),console.error("userLogUot",e.t0),e.abrupt("return",n(e.t0));case 24:case"end":return e.stop()}}),e,null,[[0,20]])})))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t}(f)).prototype,"referralCode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(O.prototype,"gameWallet",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(O.prototype,"winningWallet",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(O.prototype,"UpiIdEditBox",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(O.prototype,"walletUpiIdMessege",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=O))||E));l._RF.pop()}}}));

System.register("chunks:///_virtual/NodeNameHighlightManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var e,t,n,p,i,a,r,s,d,u,h,l,c,v,g,N;return{setters:[function(o){e=o.inheritsLoose},function(o){t=o.cclegacy,n=o._decorator,p=o.find,i=o.Node,a=o.resources,r=o.Prefab,s=o.instantiate,d=o.Label,u=o.UITransform,h=o.Vec3,l=o.v3,c=o.Sprite,v=o.UIOpacity,g=o.tween,N=o.Component}],execute:function(){var f;t._RF.push({},"dfa58GzlVFDFZcjjY39EuxU","NodeNameHighlightManager",void 0);var m=n.ccclass;n.property,o("NodeNameHighlightManager",m("NodeNameHighlightManager")(f=function(o){function t(){for(var e,t=arguments.length,n=new Array(t),p=0;p<t;p++)n[p]=arguments[p];return(e=o.call.apply(o,[this].concat(n))||this).popupNode=null,e.showingPopup=!1,e.isEventOn=!1,e.canvas=null,e.nodeName="",e}e(t,o);var n=t.prototype;return n.onLoad=function(){this.canvas=p("Canvas/TextHighlight")},n.start=function(){var o=this;this.nodeName=this.node.name,this.isEventOn||(this.isEventOn=!0,this.node.on(i.EventType.TOUCH_START,this.onHoverEnter,this),this.node.on(i.EventType.TOUCH_END,this.onHoverLeave,this),this.node.on(i.EventType.TOUCH_CANCEL,this.onHoverLeave,this)),a.load("PopupAvatar",r,(function(e,t){if(e||!t)return console.error("Failed to load Popup prefab:",e),void(o.showingPopup=!1)}))},n.onHoverEnter=function(o){var e=this;!this.showingPopup&&this.canvas&&(this.showingPopup=!0,a.load("PopupAvatar",r,(function(o,t){if(o||!t)return console.error("Failed to load Popup prefab:",o),void(e.showingPopup=!1);e.popupNode=s(t);var n=e.popupNode.getComponentInChildren(d);n&&(n.string=e.nodeName),e.canvas.addChild(e.popupNode);var p=e.node.getWorldPosition(),i=e.canvas.getComponent(u).convertToNodeSpaceAR(new h(p.x,p.y+50,0));e.popupNode.setPosition(l(0,i.y,1)),e.popupNode.getChildByName("AvatarPrefab").getChildByName("Avatar").getComponent(c).spriteFrame=e.node.getChildByName("Avatar").getComponent(c).spriteFrame;var a=e.popupNode.getComponent(v);a||(a=e.popupNode.addComponent(v)),a.opacity=0,g(a).to(.3,{opacity:255}).start()})))},n.onHoverLeave=function(){var o=this;if(this.popupNode&&this.popupNode.isValid){var e=this.popupNode.getComponent(v);e?g(e).to(.2,{opacity:0}).call((function(){var e;null==(e=o.popupNode)||e.destroy(),o.canvas.destroyAllChildren(),o.popupNode=null,o.showingPopup=!1})).start():(this.popupNode.destroy(),this.popupNode=null,this.showingPopup=!1)}else this.showingPopup=!1},t}(N))||f);t._RF.pop()}}}));

System.register("chunks:///_virtual/NotificationManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,i,o,r,e,c;return{setters:[function(t){n=t.inheritsLoose,i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){r=t.cclegacy,e=t._decorator,c=t.Component}],execute:function(){var a;t("showNotification",(function(t,n){"granted"===Notification.permission&&new Notification(t,n)})),r._RF.push({},"244cc2CJRJBPbNXMAicvLl8","NotificationManager",void 0);var s=e.ccclass;t("NotificationManager",s("NotificationManager")(a=function(t){function r(){return t.apply(this,arguments)||this}return n(r,t),r.prototype.start=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r}(c))||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/PayPalButtonManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealEvents.ts"],(function(e){"use strict";var r,n,a,t;return{setters:[function(e){r=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){a=e.cclegacy},function(e){t=e.getPlayarToken}],execute:function(){a._RF.push({},"48e2f9Z2kxHNKuxoJ7gIC4u","PayPalButtonManager",void 0);var o=e("PayPalButtonManager",function(){function e(){}return e.launch=function(e,r,n,a,t,o,l){var c=this;this.BASE_URL=e.endsWith("/")?e:e+"/",this.playerId=r,this.amount=n,this.plays=a,this.auctionHouseId=t,this.onSuccessCallback=o,this.onErrorCallback=l,this.ensureContainer(),this.loadPayPalScript((function(){return c.initButtons()}))},e.ensureContainer=function(){var e=document.getElementById("paypal-overlay");e&&e.remove(),document.body.style.overflow="hidden";var r=function(e,r){var n=document.createElement(e);return Object.assign(n.style,r),n},n=r("div",{position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:"9998"});n.id="paypal-overlay";var a=r("div",{backgroundColor:"white",padding:"2.5rem",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",width:"90%",maxWidth:"400px",maxHeight:"80vh",overflowY:"auto",textAlign:"center",position:"relative",margin:"1rem"});a.id="paypal-popup";var t=r("button",{position:"absolute",top:"8px",right:"12px",border:"none",background:"transparent",fontSize:"20px",cursor:"pointer"});t.innerText="✖",t.onclick=function(){n.remove(),document.body.style.overflow=""},n.onclick=function(e){e.target===n&&(n.remove(),document.body.style.overflow="")};var o=document.createElement("div");o.id="paypal-button-container",a.append(t,o),n.appendChild(a),document.body.appendChild(n)},e.loadPayPalScript=function(e){var r=this;if(window.paypal)e();else{var n=document.querySelector('script[src*="paypal.com/sdk/js"]');if(n)n.addEventListener("load",e);else{var a=document.createElement("script");a.src="https://www.paypal.com/sdk/js?client-id=AeDelikdFzabP8JVrW7YL-3u2lAwAfruB4xDVNdQBa7jheDHR13pX8ggTeilBW5aHr77uXcvfxT9Bdsr&currency=USD&components=buttons,funding-eligibility&enable-funding=card",a.async=!0,a.onload=function(){console.log("✅ PayPal SDK loaded."),e()},a.onerror=function(){console.error("❌ Failed to load PayPal SDK."),alert("⚠️ PayPal SDK load failed. Please check your connection or refresh."),r.onErrorCallback&&r.onErrorCallback("PayPal SDK load failed")},document.head.appendChild(a)}}},e.initButtons=function(){var e,a,o=this,l=window.paypal;if(!l)return console.error("❌ PayPal SDK not available."),void(this.onErrorCallback&&this.onErrorCallback("PayPal SDK not available"));l.Buttons({style:{layout:"vertical",color:"blue",shape:"pill",label:"paypal"},createOrder:(a=r(n().mark((function e(){var r,a,l,c,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t(),e.prev=1,e.next=4,fetch(o.BASE_URL+"v1/transaction/buy-plays-paypal",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r},body:JSON.stringify({amount:o.amount,plays:o.plays,auction_house_id:o.auctionHouseId,player_id:o.playerId,currency_type:"USD"})});case 4:return l=e.sent,e.next=7,l.json();case 7:if(c=e.sent,i=null==c||null==(a=c.data)?void 0:a.client_txn_id){e.next=11;break}throw new Error("Missing order ID");case 11:return e.abrupt("return",i);case 14:throw e.prev=14,e.t0=e.catch(1),console.error("❌ createOrder error:",e.t0),o.onErrorCallback&&o.onErrorCallback(e.t0),e.t0;case 19:case"end":return e.stop()}}),e,null,[[1,14]])}))),function(){return a.apply(this,arguments)}),onApprove:(e=r(n().mark((function e(r,a){var t,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.order.capture();case 3:t=e.sent,console.log("✅ Payment successful:",t),o.onSuccessCallback&&o.onSuccessCallback(t),(l=document.getElementById("paypal-overlay"))&&l.remove(),document.body.style.overflow="",e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("❌ onApprove capture failed:",e.t0),o.onErrorCallback&&o.onErrorCallback(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(r,n){return e.apply(this,arguments)}),onError:function(e){console.error("❌ PayPal error:",e),alert("⚠️ Something went wrong with PayPal. Please try again."),o.onErrorCallback&&o.onErrorCallback(e)}}).render("#paypal-button-container")},e}());o.BASE_URL="",o.playerId="",o.plays=0,o.amount=0,o.auctionHouseId="",o.onSuccessCallback=void 0,o.onErrorCallback=void 0,a._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerKeyboardHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealGameModel.ts","./EventManager.ts","./BigDealEvents.ts","./SocketEventHandler.ts","./LoginPopupManager.ts"],(function(e){"use strict";var t,i,s,n,r,a,l,u,o,c,d,m,b,h,g,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Label,u=e.Node,o=e.Prefab,c=e.Component},function(e){d=e.BigDealGameModel},function(e){m=e.default},function(e){b=e.StaticProperties,h=e.BigDealEvents},function(e){g=e.SocketEventHandler},function(e){p=e.LoginPopupManager}],execute:function(){var f,N,v,y,M,_,P,D,L,B,x,w,H;r._RF.push({},"16e67mvbWdAwKpiur3eXQ7F","PlayerKeyboardHandler",void 0);var S=a.ccclass,C=a.property;e("PlayerKeyboardHandler",(f=S("PlayerKeyboardHandler"),N=C(l),v=C(u),y=C(o),M=C(g),_=C(p),f((L=t((D=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,s(t,"selectedDataLabel",L,n(t)),s(t,"ismsgParent",B,n(t)),s(t,"ismsgPrefab",x,n(t)),s(t,"socketEventHandler",w,n(t)),s(t,"loginPopupManager",H,n(t)),t.selectedNumber="",t.selectedCashOutAmount=0,t.cashoutArray=[],t.minBidNumber=1,t.maxBidNumber=100,t.setMsg="",t}i(t,e);var r=t.prototype;return r.init=function(){var e,t,i,s;this.minBidNumber=null==(e=d.auctionHouseListResponse)||null==(t=e.data[b.auctionIndex])?void 0:t.min_bid_price,this.maxBidNumber=null==(i=d.auctionHouseListResponse)||null==(s=i.data[b.auctionIndex])?void 0:s.max_bid_price,this.selectedNumber="",this.setMsg="Enter between "+(this.minBidNumber+b.is_MinPrice)+" - "+(this.maxBidNumber-b.is_MinPrice),""==this.selectedNumber?this.selectedDataLabel.string=this.setMsg:this.selectedDataLabel.string=this.selectedNumber.toString(),this.selectedCashOutAmount=0},r.selectAuctionLabel=function(e){var t,i,s,n;this.minBidNumber=null==(t=d.auctionHouseListResponse)||null==(i=t.data[b.auctionIndex])?void 0:i.min_bid_price,this.maxBidNumber=null==(s=d.auctionHouseListResponse)||null==(n=s.data[b.auctionIndex])?void 0:n.max_bid_price,this.selectedNumber="",this.setMsg="Enter between "+(this.minBidNumber+b.is_MinPrice)+" - "+(this.maxBidNumber-b.is_MinPrice),this.setMsg&&(this.selectedDataLabel.string=this.setMsg),this.selectedDataLabel=e},r.onKeyClick=function(e,t){if("x"===t)this.selectedNumber.length>0&&(this.selectedNumber=this.selectedNumber.substring(0,this.selectedNumber.length-1),this.setSelectedDataLabel(this.selectedNumber));else{var i=this.selectedNumber+t;if((i.includes(".")&&1==i.length||i.includes("0")&&1==i.length)&&this.minBidNumber>=1){return void this.newerromessege("Cannot add first digits is point and 0")}if(this.selectedNumber.includes(".")&&this.selectedNumber.split(".")[1].length>=b.is_Decimal_Count&&"."!==t){var s="Cannot add more than "+b.is_Decimal_Count+" digits after the decimal point";return void this.newerromessege(s)}if("."===t&&this.selectedNumber.includes(".")){this.newerromessege("Selected Number already contains a decimal point")}else if(parseFloat(i)>=this.maxBidNumber){var n="Maximum Selected Number is "+(this.maxBidNumber-b.is_MinPrice)+".";this.newerromessege(n)}else this.selectedNumber=this.selectedNumber+t;this.setSelectedDataLabel(this.selectedNumber)}},r.onDone=function(){if(b.isLogin){if(this.selectedCashOutAmount<=this.minBidNumber){var e="Selected Number must be greater than or equal to "+(this.minBidNumber+b.is_MinPrice);return this.selectedNumber="",this.selectedCashOutAmount=0,void this.newerromessege(e)}this.socketEventHandler.onEnterBid(),this.selectedNumber="",this.selectedCashOutAmount=0}else this.loginPopupManager.init()},r.setSelectedDataLabel=function(e){this.selectedDataLabel.string=""==e?this.setMsg:e.toString(),this.selectedCashOutAmount=parseFloat(this.selectedDataLabel.string)},r.newerromessege=function(e){m.getDispatcher().emit(h.ERROR_MSG_NOTIFY,e||"")},t}(c)).prototype,"selectedDataLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(D.prototype,"ismsgParent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(D.prototype,"ismsgPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(D.prototype,"socketEventHandler",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(D.prototype,"loginPopupManager",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=D))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/ProfileUpdated.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CustomPopUp.ts","./APIManager.ts","./ApiUrls.ts","./BigDealGameModel.ts","./BigDealSocketManager.ts","./EditProfilePicture.ts","./IndexedDBManager.ts"],(function(e){"use strict";var t,a,n,i,r,o,s,l,c,u,d,p,g,f,m,P,R,h,D,b,v,y,w,_,C,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,c=e.EditBox,u=e.Label,d=e.Prefab,p=e.Node,g=e.instantiate,f=e.v3,m=e.tween,P=e.Vec3,R=e.Component,h=e.director},function(e){D=e.CustomPopUp},function(e){b=e.APIManager,v=e.MethodType},function(e){y=e.API_URLS},function(e){w=e.BigDealGameModel},function(e){_=e.BigDealSocketManager},function(e){C=e.EditProfilePicture},function(e){S=e.IndexedDBManager}],execute:function(){var U,A,M,I,k,z,x,L,N,B,E,O,T,G,Z,j,V,F,q,H,J;s._RF.push({},"394d2L+xttIv5YZGLiAw9uG","ProfileUpdated",void 0);var Y=l.ccclass,$=l.property;e("ProfileUpdated",(U=Y("ProfileUpdated"),A=$(c),M=$(c),I=$(c),k=$(u),z=$(d),x=$(p),L=$(p),N=$(p),B=$(C),U((T=t((O=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"userName",T,i(t)),n(t,"referralCode",G,i(t)),n(t,"pinCode",Z,i(t)),n(t,"gender",j,i(t)),n(t,"customPopUp",V,i(t)),n(t,"gamePlayScreen",F,i(t)),n(t,"rewordPage",q,i(t)),n(t,"loginScreen",H,i(t)),n(t,"editProfilePicture",J,i(t)),t.isSendOtp=!1,t.isRewordPageActivate=!1,t}a(t,e);var s=t.prototype;return s.onEnable=function(){this.userName.string="",this.referralCode.string="",this.pinCode.string="",this.gender.string="MALE",w.loginDataResponse.data.first_name&&(this.userName.string=w.loginDataResponse.data.first_name),w.loginDataResponse.data.referral_code&&(this.referralCode.string=w.loginDataResponse.data.referral_code),w.loginDataResponse.data.gender&&(this.gender.string=w.loginDataResponse.data.gender),this.editProfilePicture.init()},s.onRegistrationClick=function(){var e=r(o().mark((function e(t,a){var n,i,r,s,l,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.userName.string,i=this.referralCode.string,r=this.pinCode.string,s=this.gender.string,!(""!=n&&n.length>5&&""!=r&&""!=s)){e.next=21;break}return e.prev=5,l={first_name:""+n,zipcode:""+r,gender:""+s,referral_code:""+i,avatar:""+this.editProfilePicture.selectAvatar},e.next=9,b.request(y.REGISTRATION+""+w.loginDataResponse.data.id,v.PUT,l,!0);case 9:c=e.sent,w.upDateProfileResponse=c,this.setData(),console.log("ProfileUpdated Res",c),this.isRewordPageActivate?(this.rewordPage.active=!0,this.node.active=!1):(_.clearInstance(),h.loadScene("MultipleAuction")),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),console.error("get ProfileUpdated Error",e.t0);case 19:e.next=22;break;case 21:this.getRegistrationAlertMessage(n,r);case 22:case"end":return e.stop()}}),e,this,[[5,16]])})));return function(t,a){return e.apply(this,arguments)}}(),s.setData=function(){w.loginDataResponse.data.email=w.upDateProfileResponse.data.email,w.loginDataResponse.data.first_name=w.upDateProfileResponse.data.first_name,w.loginDataResponse.data.last_name=w.upDateProfileResponse.data.last_name,w.loginDataResponse.data.mobile_no=w.upDateProfileResponse.data.mobile_no,w.loginDataResponse.data.avatar=w.upDateProfileResponse.data.avatar,w.loginDataResponse.data.referral_code=w.upDateProfileResponse.data.referral_code,w.loginDataResponse.data.wallet_address=w.upDateProfileResponse.data.wallet_address,w.loginDataResponse.data.gender=w.upDateProfileResponse.data.gender,w.loginDataResponse.data.country=w.upDateProfileResponse.data.country,w.loginDataResponse.data.city=w.upDateProfileResponse.data.city,w.loginDataResponse.data.is_verified=w.upDateProfileResponse.data.is_verified;var e=new Object(w.loginDataResponse),t=JSON.stringify(e,null);w.loginDataResponse.data.is_verified&&(localStorage.setItem("PlayerLoginObj",t),S.inst.setItem("PlayerLoginObj",t))},s.getRegistrationAlertMessage=function(e,t){var a=this,n=g(this.customPopUp);n.setPosition(0,0),this.node.addChild(n);n.setScale(f(0)),n.getComponent(D).setCallback((function(e){a.setZoomOut(n)}),null);var i="";i=""==e?"User Name should not be empty.":""!=e&&e.length<=5?"UserName should be minimum 6 characters.":""!=t&&this.isValidPincode(t)?"Invalid PinCode.":"Something went wrong.",n.getComponent(D).Msg.string=i,n.getComponent(D).title.string="ALERT!!",this.setZoom(n)},s.onClickConfirm=function(e,t){},s.setZoomOut=function(e){m(e).to(.2,{scale:new P(0,0,1)}).call((function(){return e.destroy()})).start()},s.setZoom=function(e){e.setScale(P.ZERO),m(e).to(.2,{scale:new P(1.2,1.2,1.2)}).to(.1,{scale:new P(1,1,1)}).start()},s.isValidPincode=function(e){return/^[1-9][0-9]{5}$/.test(e)},s.onClickBack=function(){this.node.active=!1,this.loginScreen.active=!0},t}(R)).prototype,"userName",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(O.prototype,"referralCode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(O.prototype,"pinCode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(O.prototype,"gender",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(O.prototype,"customPopUp",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(O.prototype,"gamePlayScreen",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(O.prototype,"rewordPage",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(O.prototype,"loginScreen",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(O.prototype,"editProfilePicture",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=O))||E));s._RF.pop()}}}));

System.register("chunks:///_virtual/RewardScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealGameModel.ts","./BigDealEvents.ts"],(function(e){"use strict";var t,r,n,a,i,l,o,u,c,p,s,f,d,b,m,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){o=e.cclegacy,u=e._decorator,c=e.Label,p=e.Button,s=e.Sprite,f=e.Prefab,d=e.Component},function(e){b=e.BigDealGameModel},function(e){m=e.StaticProperties,w=e.getPlayarToken}],execute:function(){var g,y,h,v,T,x,B,z,D,R,L,P,k,U,_,S,I,E,M,A,F,G,C,j,H,J,N;o._RF.push({},"0f3a1fDecJGCL9Rl+o259w3","RewardScene",void 0);var O=u.ccclass,q=u.property;e("RewardScene",(g=O("RewardScene"),y=q(c),h=q(c),v=q(p),T=q(c),x=q(p),B=q(p),z=q(p),D=q(c),R=q(c),L=q(s),P=q(c),k=q(f),g((S=t((_=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,n(t,"rewardTitleText",S,a(t)),n(t,"twitterTitleText",I,a(t)),n(t,"twitterButton",E,a(t)),n(t,"telegramTitleText",M,a(t)),n(t,"telegramButton",A,a(t)),n(t,"uploadProof",F,a(t)),n(t,"isDoItLater",G,a(t)),n(t,"creditMessege",C,a(t)),n(t,"walletBalance",j,a(t)),n(t,"uplodeImage",H,a(t)),n(t,"tempLabel",J,a(t)),n(t,"customPopUp",N,a(t)),t.formDataArr=[],t.formdata=null,t}r(t,e);var o=t.prototype;return o.onEnable=function(){var e,t;null!=(e=b.playerBalancesResponse)&&null!=(t=e.data)&&t.play_balance&&(this.walletBalance.string=b.playerBalancesResponse.data.play_balance)},o.uploadImageButtonTo=function(){var e=i(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.createElement("input")).type="file",t.accept="image/*",t.multiple=!0,t.style.display="none",t.addEventListener("change",i(l().mark((function e(r){var n,a,i,o,u,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=r.target.files)&&0!==n.length){e.next=4;break}return console.warn("No file selected."),e.abrupt("return");case 4:return a=new FormData,Array.from(n).forEach((function(e){a.append("media",e,e.name)})),e.prev=6,e.next=9,fetch(m.apiBaseURL+"v1/media/multiple",{method:"POST",headers:{Authorization:"Bearer "+w()},body:a});case 9:if((o=e.sent).ok){e.next=12;break}throw new Error("Upload failed: "+o.statusText);case 12:return e.next=14,o.json();case 14:u=e.sent,console.log("Uploaded successfully:",u),c=null==(i=u.data)?void 0:i.map((function(e){return e.uuid})),console.log("Uploaded UUIDs:",c),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(6),console.error("Upload failed:",e.t0);case 23:t.remove();case 24:case"end":return e.stop()}}),e,null,[[6,20]])})))),document.body.appendChild(t),t.click();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o.followTwitter=function(){var e=(screen.width-550)/2,t=(screen.height-420)/2;window.open("https://twitter.com/intent/follow?screen_name=auctionx_live","Follow @auctionx_live","width=550,height=420,top="+t+",left="+e)},t}(d)).prototype,"rewardTitleText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(_.prototype,"twitterTitleText",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(_.prototype,"twitterButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(_.prototype,"telegramTitleText",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(_.prototype,"telegramButton",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(_.prototype,"uploadProof",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(_.prototype,"isDoItLater",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(_.prototype,"creditMessege",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(_.prototype,"walletBalance",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(_.prototype,"uplodeImage",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(_.prototype,"tempLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(_.prototype,"customPopUp",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=_))||U));o._RF.pop()}}}));

System.register("chunks:///_virtual/ShippingStatus.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealEvents.ts","./EventManager.ts","./MyAuctionHistoryPrefab.ts","./APIManager.ts","./ApiUrls.ts","./MyAuctionManager.ts"],(function(e){"use strict";var i,t,n,r,a,o,s,l,c,u,h,d,b,m,p,g,f,v,L,y,P,k;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,c=e.Node,u=e.Label,h=e.Color,d=e.UIOpacity,b=e.tween,m=e.Vec3,p=e.Component},function(e){g=e.BigDealEvents},function(e){f=e.default},function(e){v=e.ShippingClaimStatus},function(e){L=e.APIManager,y=e.MethodType},function(e){P=e.API_URLS},function(e){k=e.MyAuctionManager}],execute:function(){var w,D,N,B,A,G,S,C,_,M,R,z,I,E,T,x,O,U,F,Y,H;s._RF.push({},"b6599R11LVOirslmfsrqYe9","ShippingStatus",void 0);var V=l.ccclass,q=l.property;e("ShippingStatus",(w=V("ShippingStatus"),D=q(c),N=q(c),B=q(u),A=q(u),G=q(u),S=q(u),C=q(u),_=q(c),M=q(k),w((I=i((z=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return i=e.call.apply(e,[this].concat(a))||this,n(i,"mainPanel",I,r(i)),n(i,"bgNode",E,r(i)),n(i,"claimLabel",T,r(i)),n(i,"inProgressLabel",x,r(i)),n(i,"orderPlacedLabel",O,r(i)),n(i,"deliveredLabel",U,r(i)),n(i,"confirmButton",F,r(i)),n(i,"declined",Y,r(i)),n(i,"myAuctionManager",H,r(i)),i.isAnimating=!1,i.auction_id="",i}t(i,e);var s=i.prototype;return s.onLoad=function(){f.getDispatcher().on(v.Winging_Price_Status,this.init,this)},s.onDestroy=function(){f.getDispatcher().off(v.Winging_Price_Status,this.init,this)},s.setShippingStep=function(e){switch(this.resetAll(),e){case"claim":this.markGreen(this.claimLabel);break;case"inProcess":this.markGreen(this.claimLabel),this.markGreen(this.inProgressLabel);break;case"orderPlaced":this.markGreen(this.claimLabel),this.markGreen(this.inProgressLabel),this.markGreen(this.orderPlacedLabel);break;case"delivered":this.markGreen(this.claimLabel),this.markGreen(this.inProgressLabel),this.markGreen(this.orderPlacedLabel),this.markGreen(this.deliveredLabel);break;case"confirmed":this.markGreen(this.claimLabel),this.markGreen(this.inProgressLabel),this.markGreen(this.orderPlacedLabel),this.markGreen(this.deliveredLabel),this.markGreen(this.confirmButton);break;case"declined":this.markGreen(this.claimLabel),this.markGreen(this.inProgressLabel),this.markGreen(this.orderPlacedLabel),this.markGreen(this.deliveredLabel),this.confirmButton.node.active=!1,this.declined.active=!0;break;default:console.warn("Invalid step:",e)}},s.isConfirmed=function(){var e=a(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.out(),this.myAuctionManager.onAuctionClicked();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.getAuctionHouse=function(){var e=a(o().mark((function e(){var i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(a(o().mark((function e(t,n){var r,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.auction_id){e.next=4;break}return r="Auction ID not available. Please try again.",f.getDispatcher().emit(g.ERROR_MSG_NOTIFY,r),e.abrupt("return",n(new Error(r)));case 4:return a={auction_id:i.auction_id,delivery_status:"confirmed"},e.prev=5,e.next=8,L.request(P.DELIVERY_STATUS,y.POST,a,!0);case 8:s=e.sent,console.log("✅ Delivery status response:",s),t(),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(5),console.error("❌ API Error:",e.t0),f.getDispatcher().emit(g.ERROR_MSG_NOTIFY,"Please try again, something went wrong."),n(e.t0);case 18:case"end":return e.stop()}}),e,null,[[5,13]])})))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.markGreen=function(e){e&&(e.color=new h(0,200,0),e.node&&e.node.getChildByName("Done")&&(e.node.getChildByName("Done").active=!0))},s.resetAll=function(){var e=new h(255,255,255);this.claimLabel&&(this.claimLabel.color=e,this.claimLabel.node&&this.claimLabel.node.getChildByName("Done")&&(this.claimLabel.node.getChildByName("Done").active=!1)),this.inProgressLabel&&(this.inProgressLabel.color=e,this.inProgressLabel.node&&this.inProgressLabel.node.getChildByName("Done")&&(this.inProgressLabel.node.getChildByName("Done").active=!1)),this.orderPlacedLabel&&(this.orderPlacedLabel.color=e,this.orderPlacedLabel.node&&this.orderPlacedLabel.node.getChildByName("Done")&&(this.orderPlacedLabel.node.getChildByName("Done").active=!1)),this.deliveredLabel&&(this.deliveredLabel.color=e,this.deliveredLabel.node&&this.deliveredLabel.node.getChildByName("Done")&&(this.deliveredLabel.node.getChildByName("Done").active=!1)),this.confirmButton&&(this.deliveredLabel.color=e,this.confirmButton.node&&this.confirmButton.node.getChildByName("Done")&&(this.confirmButton.node.getChildByName("Done").active=!1)),this.declined&&(this.confirmButton.node.active=!0,this.declined.active=!1)},s.init=function(e,i){this.mainPanel.active=!1,this.auction_id=i,this.bgNode.active=!1,this.setShippingStep(e);var t=this.bgNode.getComponent(d);t&&(t.opacity=0),this.inPopUp()},s.inPopUp=function(){var e=this;if(this.bgNode.active=!0,!this.isAnimating&&this.mainPanel&&this.bgNode){this.isAnimating=!0,this.mainPanel.active=!0;var i=this.bgNode.getComponent(d);i&&(i.opacity=0,b(i).to(.3,{opacity:180}).start()),b(this.mainPanel).to(.3,{position:new m(0,0,0)}).call((function(){e.isAnimating=!1})).start()}},s.out=function(){var e=this;if(this.mainPanel&&this.bgNode){var i=this.bgNode.getComponent(d);i&&b(i).to(.3,{opacity:0}).call((function(){e.bgNode.active=!1})).start(),b(this.mainPanel).to(.3,{position:new m(0,-2e3,0)}).call((function(){e.mainPanel.active=!1,e.isAnimating=!1})).start()}},i}(p)).prototype,"mainPanel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(z.prototype,"bgNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(z.prototype,"claimLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(z.prototype,"inProgressLabel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(z.prototype,"orderPlacedLabel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(z.prototype,"deliveredLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(z.prototype,"confirmButton",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(z.prototype,"declined",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(z.prototype,"myAuctionManager",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=z))||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/ShowProfile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealGameModel.ts","./UpdateProfileKYC.ts","./AvatarIconsManager.ts","./BigDealEvents.ts","./AllBidHistoryManager.ts","./EventManager.ts"],(function(e){"use strict";var i,t,a,l,n,r,o,u,s,c,f,p,b,d,h,g,y,P;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,o=e.Node,u=e.Label,s=e.Sprite,c=e.Component},function(e){f=e.BigDealGameModel},function(e){p=e.UpdateProfileKYC},function(e){b=e.AvatarIconsManager},function(e){d=e.BigDealClientEvents,h=e.BigDealEvents,g=e.StaticProperties},function(e){y=e.applyHighlight},function(e){P=e.default}],execute:function(){var m,C,L,v,w,B,_,z,A,I,M,D,E,N,U,k,R,S,Y,x,O,T,K,X,F,H,G;n._RF.push({},"53e87SC8OZCXafnuE1tZXgX","ShowProfile",void 0);var Z=r.ccclass,j=r.property;e("ShowProfile",(m=Z("ShowProfile"),C=j(o),L=j(u),v=j(u),w=j(u),B=j(u),_=j(u),z=j(u),A=j(u),I=j(u),M=j(p),D=j(b),E=j(s),m((k=i((U=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i=e.call.apply(e,[this].concat(n))||this,a(i,"UiNode",k,l(i)),a(i,"walletAddressLabel",R,l(i)),a(i,"referralCodeLabel",S,l(i)),a(i,"playerIdLabel",Y,l(i)),a(i,"zipcodeLabel",x,l(i)),a(i,"emailLabel",O,l(i)),a(i,"PhoneNumber",T,l(i)),a(i,"usernameLabel",K,l(i)),a(i,"walletBalanceLabel",X,l(i)),a(i,"updateProfileKYC",F,l(i)),a(i,"avatarIconsManager",H,l(i)),a(i,"profileImage",G,l(i)),i.isEditProfileClicked=!1,i.isBuyMorePxClicked=!1,i}t(i,e);var n=i.prototype;return n.start=function(){this.UiNode.active=!1;var e=P.getDispatcher();e.on(d.CLS_AUCTION_CURRENT_PLAY,this.onAuctionCurrentPlay,this),e.on(h.PROFILE_UPDATE,this.showProfile,this)},n.onDestroy=function(){P.getDispatcher().off(d.CLS_AUCTION_CURRENT_PLAY,this.onAuctionCurrentPlay,this)},n.showProfile=function(){var e,i,t,a=f.loginDataResponse.data.avatar?f.loginDataResponse.data.avatar:"assets/avatar/1.png",l=g.apiBaseURL+a;this.avatarIconsManager.setAvatarIcon(l,this.profileImage),this.UiNode.active=!0;var n=null==(e=f.loginDataResponse)?void 0:e.data,r=null==(i=f.playerBalancesResponse)||null==(t=i.data)?void 0:t.play_balance;y(this.usernameLabel,((n.first_name||"")+" "+(n.last_name||"")).trim()||"-"),y(this.walletAddressLabel,n.wallet_address||"-"),y(this.referralCodeLabel,n.referral_code||"-"),y(this.playerIdLabel,n.id||"-"),y(this.zipcodeLabel,n.zipcode||"-"),y(this.emailLabel,n.email||"-"),y(this.PhoneNumber,n.mobile_no||"-",15),y(this.walletBalanceLabel,r||"-")},n.shortenString=function(e){return""+e},n.closeProfile=function(){this.UiNode.active=!1},n.onAuctionCurrentPlay=function(e){f.auctionCurrentPlay=e,null!=e&&e.play_balance&&(this.walletBalanceLabel.string=e.play_balance+"")},n.onEditProfile=function(){var e=this;this.isEditProfileClicked||(this.isEditProfileClicked=!0,console.log("Edit Profile clicked"),this.updateProfileKYC.onClick(),this.scheduleOnce((function(){e.isEditProfileClicked=!1}),1))},n.onBuyMorePx=function(){var e=this;this.isBuyMorePxClicked||(this.isBuyMorePxClicked=!0,console.log("Buy More PX clicked"),this.scheduleOnce((function(){e.isBuyMorePxClicked=!1}),1))},i}(c)).prototype,"UiNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(U.prototype,"walletAddressLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=i(U.prototype,"referralCodeLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(U.prototype,"playerIdLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(U.prototype,"zipcodeLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(U.prototype,"emailLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(U.prototype,"PhoneNumber",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(U.prototype,"usernameLabel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=i(U.prototype,"walletBalanceLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(U.prototype,"updateProfileKYC",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(U.prototype,"avatarIconsManager",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(U.prototype,"profileImage",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=U))||N));n._RF.pop()}}}));

System.register("chunks:///_virtual/ShowWining.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealGameModel.ts","./ApiUrls.ts","./APIManager.ts","./ClaimRewardPrize.ts","./BigDealEvents.ts","./LanguageManager.ts","./EventManager.ts"],(function(n){"use strict";var i,e,t,r,a,o,u,l,s,c,d,p,g,b,f,w,h,m,y,v,_,B,H,L;return{setters:[function(n){i=n.applyDecoratedDescriptor,e=n.inheritsLoose,t=n.initializerDefineProperty,r=n.assertThisInitialized,a=n.asyncToGenerator,o=n.regeneratorRuntime},function(n){u=n.cclegacy,l=n._decorator,s=n.Label,c=n.Sprite,d=n.Button,p=n.Prefab,g=n.Node,b=n.instantiate,f=n.Component},function(n){w=n.BigDealGameModel},function(n){h=n.API_URLS},function(n){m=n.APIManager,y=n.MethodType},function(n){v=n.ClaimRewardPrize},function(n){_=n.BigDealEvents,B=n.StaticProperties},function(n){H=n.LanguageManager},function(n){L=n.default}],execute:function(){var A,P,I,W,z,R,N,C,D,S,M,x,E,q,T,U,k,O,G,F,j,Q,J,K,V,X,Y;u._RF.push({},"fe1750bRBtIfbwhOxmMbfUd","ShowWining",void 0);var Z=l.ccclass,$=l.property;n("ShowWining",(A=Z("ShowWining"),P=$(s),I=$(s),W=$(c),z=$(s),R=$(s),N=$(d),C=$(p),D=$(g),S=$(s),M=$(s),x=$(s),E=$(v),A((U=i((T=function(n){function i(){for(var i,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return i=n.call.apply(n,[this].concat(a))||this,t(i,"wininHaderLabel",U,r(i)),t(i,"winingLabel",k,r(i)),t(i,"winingBase",O,r(i)),t(i,"loseHaderLabel",G,r(i)),t(i,"buttonLable",F,r(i)),t(i,"submitButton",j,r(i)),t(i,"isHistoryPrefab",Q,r(i)),t(i,"isHistoryParent",J,r(i)),t(i,"winerName",K,r(i)),t(i,"winingAmount",V,r(i)),t(i,"winingAuction",X,r(i)),t(i,"claimRewardPrize",Y,r(i)),i.isWining=!1,i.auction_id="",i}e(i,n);var u=i.prototype;return u.start=function(){L.getDispatcher().on(_.AUCTION_Claim,this.newAuctionButton,this)},u.init=function(){var n,i,e,t,r,a,o,u,l;this.isWining=!1,this.wininHaderLabel.node.active=!1,this.loseHaderLabel.node.active=!1;var s,c,d,p,g,b,f,h,m,y,v,A,P=localStorage.getItem("auctionHouseId");P&&P==(null==(n=w.auctionHouseListResponse)||null==(i=n.data[B.auctionIndex])?void 0:i.id)||null==(e=w.auctionWinner)||null==(t=e.winnerInfo)||!t.auction_id||(this.auction_id=null==(s=w.auctionWinner)||null==(c=s.winnerInfo)?void 0:c.auction_id,this.getUniqueBidApi());(null==(r=w.loginDataResponse)?void 0:r.data.id)===(null==(a=w.auctionWinner)||null==(o=a.winnerInfo)?void 0:o.player_id)?(this.wininHaderLabel.node.active=!0,this.winerName.string="Winner Name : "+(null==(d=w.auctionWinner)||null==(p=d.winnerInfo)?void 0:p.player_name),this.winingAmount.string="Bid Price : "+(null==(g=w.auctionWinner)||null==(b=g.winnerInfo)?void 0:b.bid_price.toString()),this.winingLabel.string=H.instance.t("enter_sms_code"),this.wininHaderLabel.string=H.instance.t("hooray_you_win"),this.buttonLable.string=H.instance.t("claim_your_prize"),this.isWining=!0):(this.loseHaderLabel.node.active=!0,this.winerName.string="Winner Name : "+(null==(f=w.auctionWinner)||null==(h=f.winnerInfo)?void 0:h.player_name),this.winingAmount.string="Bid Price : "+(null==(m=w.auctionWinner)||null==(y=m.winnerInfo)?void 0:y.bid_price.toString()),this.loseHaderLabel.string=H.instance.t("hard_luck"),this.buttonLable.string=H.instance.t("participate_new_auction"));null!=(u=w.auctionWinner)&&null!=(l=u.winnerInfo)&&l.auction_id&&L.getDispatcher().emit(_.ON_AUCTION_COMPLETE,null==(v=w.auctionWinner)||null==(A=v.winnerInfo)?void 0:A.auction_id)},u.newAuctionButton=function(n){var i,e;n===(null==(i=w.auctionWinner)||null==(e=i.winnerInfo)?void 0:e.auction_id)&&this.isWining&&(this.isWining=!1),this.buttonLable.string=H.instance.t("participate_new_auction"),this.submitButton.interactable=!0},u.getUniqueBidApi=function(){var n=a(o().mark((function n(){var i=this;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(a(o().mark((function n(e,t){var r,a,u,l,s;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l=null==(r=w.auctionWinner)?void 0:r.winnerInfo.auction_id,i.auction_id=l,n.next=4,m.request(h.UNIQUE_BIDS+""+l,y.GET,null,!0);case 4:s=n.sent,console.log("uniquebidswin : ",s),w.uniqueBidApiResponse=s,(null==(a=w.uniqueBidApiResponse)||!a.data||(null==(u=w.uniqueBidApiResponse)?void 0:u.data.length)>0)&&i.setHistoryData(),e();case 9:case"end":return n.stop()}}),n)})))));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),u.onClickNextAuction=function(){this.submitButton.interactable=!1,this.isWining?this.claimRewardPrize.init(this.auction_id):(L.getDispatcher().emit(_.REDIRECT_TO_HOME),this.node.active=!1)},u.setHistoryData=function(){var n=a(o().mark((function n(){var i,e,t,r,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.isHistoryParent.removeAllChildren(),i=0;case 2:if(!(i<(null==(e=w.uniqueBidApiResponse)?void 0:e.data.length))){n.next=12;break}return r=null==(t=w.uniqueBidApiResponse)?void 0:t.data[i],n.next=6,this.newHistoryNode();case 6:(a=n.sent).getChildByName("Amount").getComponent(s).string=r.bid_price.toString(),a.getChildByName("PlayrName").getComponent(s).string=r.player_name.toString();case 9:i++,n.next=2;break;case 12:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),u.newHistoryNode=function(){var n=this;return new Promise((function(i,e){try{var t=b(n.isHistoryPrefab);n.isHistoryParent.addChild(t),i(t)}catch(n){console.error("newBidHistoryNode",n),e(n)}}))},i}(f)).prototype,"wininHaderLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(T.prototype,"winingLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(T.prototype,"winingBase",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(T.prototype,"loseHaderLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(T.prototype,"buttonLable",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(T.prototype,"submitButton",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=i(T.prototype,"isHistoryPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(T.prototype,"isHistoryParent",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(T.prototype,"winerName",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=i(T.prototype,"winingAmount",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=i(T.prototype,"winingAuction",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(T.prototype,"claimRewardPrize",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=T))||q));u._RF.pop()}}}));

System.register("chunks:///_virtual/SlotBaseTutorial.ts",["./rollupPluginModLoBabelHelpers.js","cc","./msgBox.ts","./TutorialItem.ts","./EventManager.ts"],(function(t){"use strict";var e,i,n,o,s,a,r,l,c,u,p,h,d,g,m,x,f,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,r=t.Node,l=t.Label,c=t.Vec3,u=t.Vec2,p=t.v2,h=t.tween,d=t.UITransform,g=t.Button,m=t.Component},function(t){x=t.msgBox},function(t){f=t.TutorialItem},function(t){w=t.default}],execute:function(){var k,y,b,M,N,B,T,R,v,z,S,P,L,D,I,C,V,A,F,U,X,H,O;s._RF.push({},"d1f12oYaWlHY6EKI4uNVVjb","SlotBaseTutorial",void 0);var W,_=a.ccclass,Y=a.property;!function(t){t[t.circle=0]="circle",t[t.rectangle=1]="rectangle"}(W||(W={}));t("SlotBaseTutorial",(k=_("SlotBaseTutorial"),y=Y(r),b=Y(l),M=Y(r),N=Y(r),B=Y(r),T=Y(r),R=Y(r),v=Y(r),z=Y(r),S=Y(r),k((D=e((L=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,n(e,"maskNode",D,o(e)),n(e,"BtnLbl",I,o(e)),n(e,"ndMsgBox",C,o(e)),n(e,"skipBtn",V,o(e)),n(e,"nextBtn",A,o(e)),n(e,"replayNode",F,o(e)),n(e,"skipBtnNode",U,o(e)),n(e,"NextBtnNode",X,o(e)),n(e,"skipBtnNodeTop",H,o(e)),n(e,"NextBtnNodeTop",O,o(e)),e.index=0,e.msgNode=null,e.isMoving=!1,e.msgPopUp=null,e.currentMaskType=W.circle,e.isFirstTime=!0,e.positionArray=["bottomRight","bottomLeft","topLeft","topRight","topMiddle","bottomMiddle"],e.tutorialStep=[{pos:new c(0,0,0),time:.5,tag:"R",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"L",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"R",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"R",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"R",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"L-1",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"R-1",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"R",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"L",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"L-1",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"L",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"R",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"R",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"R",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"L-1",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"R-1",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"R",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"L",text:"",size:new u(0,0),isMaskRect:!1}],e.tutorialData={AuctionPin:"Tap here to pin this auction for quick access later.",Auction:"Tap here to unpin this auction from your favorites.",KeyBord:"Use the keyboard to type in your bid or search queries.",Balance:"Your current wallet balance is shown here.",Login:"Use this button to log in and access your account.",Menu:"Tap here to open the main menu and access all options.",Home:"This button brings you back to the home screen.",MyBids:"View all the bids you've placed in different auctions.",Redeem:"Use this option to redeem your rewards or XP.","How to":"Tap here to learn how the game or auction system works.",LogOut:"Click here to log out of your account safely.",SoundNoOff:"Toggle the game sounds on or off using this button.",CloseButton:"Close the current panel or window using this button.",MyProfile:"View and edit your profile and personal details here.",BuyXP:"Use this option to purchase XP for additional features.",Transactions:"View your past transactions and history here.",TransferXP:"Transfer XP to other users from this section.",MyAuction:"See the auctions you have created or are participating in."},e}i(e,t);var s=e.prototype;return s.start=function(){},s.init=function(){this.index=0,this.BtnLbl.string="Next",this.gettingTutorialData(),this.node.active=!0},s.gettingTutorialData=function(t){void 0===t&&(t=!1);try{for(var e=0;e<this.replayNode.length;e++){this.replayNode[e].active=!1;var i=this.replayNode[e].getComponent(f);this.tutorialStep[e].pos=this.replayNode[e].getWorldPosition(),this.tutorialStep[e].text=this.tutorialData[""+i.key],this.tutorialStep[e].size=p(0,0),this.tutorialStep[e].isMaskRect=i.isMaskRect,this.tutorialStep[e].tag=this.positionArray[i.tag],this.tutorialStep[e].time=i.time?i.time:.5,console.log("this.tutorialStep",this.tutorialStep)}}catch(t){console.log("Tutorial error: ",t)}h(this.maskNode[this.currentMaskType]).to(.8,{scale:new c(1.2,1.2,0)},{easing:"backIn"}).to(.8,{scale:new c(1,1,0)},{easing:"backIn"}).start(),t||this.onNextBtn(null,null)},s.onNextBtn=function(t,e,i){var n=this;void 0===i&&(i=!1),this.isFirstTime||this.gettingTutorialData(!0),this.isFirstTime=!1;try{var o=this;if(this.replayNode[o.index-1]&&(this.replayNode[o.index-1].active=!1),10==o.index&&w.getDispatcher().emit("openMenu"),(o.index<1||10==o.index)&&(this.skipBtn.setPosition(this.skipBtnNode.position),this.nextBtn.setPosition(this.NextBtnNode.position)),6!=o.index&&17!=o.index||(this.skipBtn.setPosition(this.skipBtnNodeTop.position),this.nextBtn.setPosition(this.NextBtnNodeTop.position)),"Got It"==this.BtnLbl.string)return w.getDispatcher().emit("closeMenu"),void(this.node.active=!1);this.ndMsgBox.getComponent(x).setDefault(),3==this.index||4==this.index?this.tutorialStep[this.index].pos=this.replayNode[this.index].getWorldPosition().add(new c(0,-130,0)):this.tutorialStep[this.index].pos=this.replayNode[this.index].getWorldPosition(),this.tutorialStep[o.index].isMaskRect?(this.currentMaskType=W.rectangle,this.maskNode[W.circle].active=!1,this.maskNode[W.circle].worldPosition=this.tutorialStep[this.index].pos):(this.maskNode[W.rectangle].active=!1,this.maskNode[W.rectangle].worldPosition=this.tutorialStep[this.index].pos,this.currentMaskType=W.circle),this.maskNode[this.currentMaskType].active=!0,this.replayNode[o.index].active=!0,h(this.maskNode[this.currentMaskType]).to(.8,{scale:new c(1.2,1.2,0)},{easing:"backIn"}).to(.8,{scale:new c(1,1,0)},{easing:"backIn"}).start();var s=this.tutorialStep[this.index].size.x>0?this.tutorialStep[this.index].size:new u(0,0);if(o.maskNode[this.currentMaskType].getComponent(d).setContentSize(s.x,s.y),this.nextButtonInteractable(!1),this.isMoving)return;this.isMoving=!0;var a=this.tutorialStep[this.index];this.replayNode.length-1==this.index&&(this.BtnLbl.string="Got It"),h(this.maskNode[this.currentMaskType]).to(parseFloat(a.time.toString()),{worldPosition:a.pos},{easing:"backOut"}).call((function(){o.maskNode[n.currentMaskType].getComponent(d).setContentSize(s.x,s.y)})).call((function(){o.setDetailData(a)})).start(),i||this.index++}catch(t){console.log("Tutorial error: ",t)}},s.setDetailData=function(t){var e=this;this.ndMsgBox.getComponent(x).setinitView(t.pos,t.text,t.tag),this.isMoving=!1,this.scheduleOnce((function(){e.nextButtonInteractable(!0)}),1)},s.nextButtonInteractable=function(t){this.nextBtn.getComponent(g).interactable=t},s.onSkipClick=function(t,e){w.getDispatcher().emit("closeMenu"),this.node.active=!1},e}(m)).prototype,"maskNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=e(L.prototype,"BtnLbl",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(L.prototype,"ndMsgBox",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(L.prototype,"skipBtn",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(L.prototype,"nextBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(L.prototype,"replayNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=e(L.prototype,"skipBtnNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(L.prototype,"NextBtnNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(L.prototype,"skipBtnNodeTop",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(L.prototype,"NextBtnNodeTop",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=L))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/SocketEventHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ApiUrls.ts","./EventManager.ts","./BigDealSocketManager.ts","./UniqueHistory.ts","./UniqueBidsAndCounts.ts","./AvatarIconsManager.ts","./BigDealEvents.ts","./BigDealGameModel.ts","./ShowWining.ts","./MyAudioManager.ts","./APIManager.ts","./EncryptionHelper.ts","./LoginPopupManager.ts","./AllBidHistoryManager.ts","./AuctionManager.ts"],(function(i){"use strict";var e,t,n,a,r,o,s,u,l,c,d,h,g,b,p,f,v,m,_,B,A,y,N,M,P,C,L,S,x,w,R,H,I,E;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,a=i.assertThisInitialized,r=i.asyncToGenerator,o=i.regeneratorRuntime},function(i){s=i.cclegacy,u=i._decorator,l=i.Label,c=i.Prefab,d=i.Sprite,h=i.Node,g=i.tween,b=i.instantiate,p=i.v3,f=i.Component},function(i){v=i.API_URLS},function(i){m=i.default},function(i){_=i.BigDealSocketManager},function(i){B=i.UniqueHistory},function(i){A=i.UniqueBidsAndCounts},function(i){y=i.RemoteAvatar},function(i){N=i.BigDealClientEvents,M=i.BigDealEvents,P=i.StaticProperties},function(i){C=i.BigDealGameModel},function(i){L=i.ShowWining},function(i){S=i.MyAudioManager},function(i){x=i.APIManager,w=i.MethodType},function(i){R=i.encryptBid},function(i){H=i.LoginPopupManager},function(i){I=i.AllBidHistoryManager},function(i){E=i.getCurrentTime}],execute:function(){var T,U,D,O,k,q,z,F,V,G,W,Y,X,j,J,Z,K,Q,$,ii,ei,ti,ni,ai,ri,oi,si,ui,li,ci,di,hi,gi,bi,pi,fi,vi;s._RF.push({},"814b8Zxk3BJMbDw2cH1hnOA","SocketEventHandler",void 0);var mi=u.ccclass,_i=u.property;i("SocketEventHandler",(T=mi("SocketEventHandler"),U=_i(l),D=_i(c),O=_i(l),k=_i(l),q=_i(d),z=_i(h),F=_i(l),V=_i(A),G=_i(h),W=_i(c),Y=_i(h),X=_i(B),j=_i(I),J=_i(H),Z=_i(h),K=_i(h),Q=_i(l),T((ei=e((ii=function(i){function e(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=i.call.apply(i,[this].concat(r))||this,n(e,"bidNumberLabel",ei,a(e)),n(e,"isHistoryPrefab",ti,a(e)),n(e,"walletBalance",ni,a(e)),n(e,"percentageLabel",ai,a(e)),n(e,"bidSprite",ri,a(e)),n(e,"winingPage",oi,a(e)),n(e,"errorMessege",si,a(e)),n(e,"uniqueBidsAndCounts",ui,a(e)),n(e,"LoginScreen",li,a(e)),n(e,"avatarPrefab",ci,a(e)),n(e,"avatarParent",di,a(e)),n(e,"uniqueHistorymanager",hi,a(e)),n(e,"allBidHistoryManager",gi,a(e)),n(e,"loginPopupManager",bi,a(e)),n(e,"comingSoonPage",pi,a(e)),n(e,"isHistoryParent",fi,a(e)),n(e,"avatarCounter",vi,a(e)),e.bidHistoryData=[],e.avatarNodedata=[],e.isHistoryToggle=!0,e.minBidNumber=0,e.sendBidPrice=0,e.maxBidNumber=99.99,e.currentNumber=0,e.currentAvatar="",e.bidPriceForUniqe=0,e.bidBoxMsg="",e.isAuctionState=!1,e.setBitsinLocal=[],e.currentValue=99.9,e.minValue=1.1,e.step=.1,e}t(e,i);var s=e.prototype;return s.start=function(){var i=r(o().mark((function i(){return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}(),s.tickCountdown=function(){this.currentValue-=this.step,this.currentValue<this.minValue&&(this.unschedule(this.tickCountdown),this.currentValue=this.minValue),this.bidNumberLabel.string=this.currentValue.toFixed(1),this.onEnterBid()},s.init=function(){var i=r(o().mark((function i(){return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:this.onEvents();case 1:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}(),s.onEvents=function(){var i,e,t,n,a=m.getDispatcher();a.on(N.CLS_AUCTION_CURRENT_PLAY,this.onAuctionCurrentPlay,this),a.on(N.CLS_AUCTION_MIN_MAX_PERCENTAGE,this.onAuctionMinMaxPercentage,this),a.on(N.CLS_AUCTION_AVATARS,this.onAuctionAvatars,this),a.on(N.CLS_AUCTION_WINNER,this.onAuctionWinner,this),a.on(N.CLS_AUCTION_STATE,this.onAuctionState,this),a.on(N.CLS_AUCTION_ERROR,this.onAuctionError,this),a.on(N.CLS_Min_Max_Recent_Bid,this.onMinMaxRecentBid,this),a.on(N.CLS_MIN_MAX_BID_CANCEL,this.onMinMaxCancelBid,this),a.on(M.ON_SELECT_AUCTION,this.enterBetween,this),this.minBidNumber=(null==(i=C.auctionHouseListResponse)||null==(e=i.data[P.auctionIndex])?void 0:e.min_bid_price)||0,this.maxBidNumber=(null==(t=C.auctionHouseListResponse)||null==(n=t.data[P.auctionIndex])?void 0:n.max_bid_price)||99.99;var r="Enter between "+(this.minBidNumber+P.is_MinPrice)+" - "+(this.maxBidNumber-P.is_MinPrice);this.bidBoxMsg=r,this.bidNumberLabel.string=r,this.setMessegeinBox(r),this.allBidHistoryManager.setMyBidsInit()},s.enterBetween=function(){var i,e,t,n;this.minBidNumber=(null==(i=C.auctionHouseListResponse)||null==(e=i.data[P.auctionIndex])?void 0:e.min_bid_price)||0,this.maxBidNumber=(null==(t=C.auctionHouseListResponse)||null==(n=t.data[P.auctionIndex])?void 0:n.max_bid_price)||99.99;var a="Enter between "+(this.minBidNumber+P.is_MinPrice)+" - "+(this.maxBidNumber-P.is_MinPrice);this.bidBoxMsg=a},s.onDestroy=function(){var i=m.getDispatcher();i.off(N.CLS_AUCTION_CURRENT_PLAY,this.onAuctionCurrentPlay,this),i.off(N.CLS_AUCTION_MIN_MAX_PERCENTAGE,this.onAuctionMinMaxPercentage,this),i.off(N.CLS_AUCTION_AVATARS,this.onAuctionAvatars,this),i.off(N.CLS_AUCTION_WINNER,this.onAuctionWinner,this),i.off(N.CLS_AUCTION_STATE,this.onAuctionState,this),i.off(N.CLS_AUCTION_ERROR,this.onAuctionError,this),i.off(N.CLS_Min_Max_Recent_Bid,this.onMinMaxRecentBid,this),i.off(N.CLS_MIN_MAX_BID_CANCEL,this.onMinMaxCancelBid,this),i.off(M.ON_SELECT_AUCTION,this.enterBetween,this)},s.selectAuctionLabel=function(i){this.bidNumberLabel=i},s.onEnterBid=function(){var i,e,t,n,a=this;if(console.log("is in onEnterBid"),!P.isLogin)return this.bidNumberLabel.string=this.bidBoxMsg,void this.loginPopupManager.init();if(console.log("network check",P.isBidPlaced),P.isBidPlaced){S.inst.play("Click");var s=this.bidNumberLabel.string,u=Number(s);if(u<=this.minBidNumber||u>=this.maxBidNumber){var l="Enter between "+(this.minBidNumber+P.is_MinPrice)+" - "+(this.maxBidNumber-P.is_MinPrice);this.bidNumberLabel.string=l}else{var c="Enter between "+(this.minBidNumber+P.is_MinPrice)+" - "+(this.maxBidNumber-P.is_MinPrice);this.bidNumberLabel.string=c;var d=null==(i=C.auctionHouseListResponse)||null==(e=i.data[P.auctionIndex])?void 0:e.rsa_public_key;if(u&&d){var h,g;if(P.isBidPlaced=!1,this.sendBidPrice=u,this.bidPriceForUniqe=u,this.bidNumberLabel.string=this.bidBoxMsg,null!=(t=C.loginDataResponse)&&null!=(n=t.data)&&n.avatar)this.currentAvatar=null==(h=C.loginDataResponse)||null==(g=h.data)?void 0:g.avatar;else""==this.currentAvatar&&(this.currentAvatar="assets/avatar/1.png");r(o().mark((function i(){var e,t,n,r;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,R(u,d);case 2:e=i.sent,t=C.auctionHouseListResponse.data[P.auctionIndex].id,n=C.loginDataResponse.data,r={auction_id:t,player_id:n.id,bid_price:e,player_name:n.first_name,profile_image:""+P.apiBaseURL+a.currentAvatar},_.getInstance().sendMessage("min:max:auction",r);case 7:case"end":return i.stop()}}),i)})))()}}}else{m.getDispatcher().emit(M.ERROR_MSG_NOTIFY,"please check your network connection.");var b="Enter between "+(this.minBidNumber+P.is_MinPrice)+" - "+(this.maxBidNumber-P.is_MinPrice);this.bidNumberLabel.string=b}},s.onAuctionCurrentPlay=function(i){C.auctionCurrentPlay=i,m.getDispatcher().emit(M.IS_LOADER_OFF),console.log("onAuctionCurrentPlay",i),null!=i&&i.play_balance?(this.walletBalance.string=i.play_balance+"",C.playerBalancesResponse.data.play_balance=i.play_balance):(this.walletBalance.string="0",C.playerBalancesResponse.data.play_balance=i.play_balance?i.play_balance:0)},s.animateBidPercentage=function(i,e){this.currentNumber=i;var t=e-i>0?e-i:1;g({value:i}).delay(.286).to(t/50,{value:e},{onUpdate:this.updateBidPercentageLabel.bind(this)}).start()},s.updateBidPercentageLabel=function(i){this.currentNumber=Math.floor(i.value),this.bidSprite.fillRange=this.currentNumber/100,this.percentageLabel.string=this.currentNumber+"%"},s.onAuctionMinMaxPercentage=function(i){var e,t,n;if(null!=i&&null!=(e=i.data)&&e.auction_id&&(null==i||null==(t=i.data)?void 0:t.auction_id)===(null==(n=C.auctionHouseListResponse.data[P.auctionIndex])?void 0:n.id)){var a;C.auctionMinMaxPercentage=i;var r=null==i||null==(a=i.data)?void 0:a.bid_percentage;if(console.log(r),!r&&0!=r)return;this.animateBidPercentage(this.currentNumber,r)}},s.onAuctionAvatars=function(i){var e;if(null!=i&&i.auction_id&&(null==i?void 0:i.auction_id)===(null==(e=C.auctionHouseListResponse.data[P.auctionIndex])?void 0:e.id))if(C.auctionAvatars=i,this.avatarNodedata.length<=i.data.length){for(var t=0;t<this.avatarNodedata.length;t++)this.setUpdateAvatar(i.data[t].profile_image,t);for(var n=this.avatarNodedata.length;n<i.data.length;n++)this.setAvatar(i.data[n].profile_image,i.data[n].player_name)}else{this.avatarNodedata.length=0,this.avatarParent.removeAllChildren();for(var a=this.avatarNodedata.length;a<i.data.length;a++)this.setAvatar(i.data[a].profile_image,i.data[a].player_name)}},s.onAuctionWinner=function(i){var e,t,n;null!=i&&null!=(e=i.winnerInfo)&&e.auction_id&&(C.auctionWinner=i,this.winingPage.getComponent(L).init(),this.winingPage.active=!0,localStorage.removeItem(null==(t=C.auctionHouseListResponse)||null==(n=t.data[P.auctionIndex])?void 0:n.id))},s.onAuctionState=function(i){if(C.AuctionLiveState=i,!this.isAuctionState&&"Auction Live"===(null==i?void 0:i.message)){var e=C.AuctionLiveState.auctionId;this.comingSoonPage&&this.comingSoonPage.active&&(this.comingSoonPage.active=!1);try{this.getAuctionHouseListData().then((function(){console.log("Emit Auction ",e),m.getDispatcher().emit("onAuctionState:new:auction",e)}))}catch(i){}}},s.onAuctionError=function(i){var e;null!=i&&i.auction_id&&(null==i?void 0:i.auction_id)===(null==(e=C.auctionHouseListResponse.data[P.auctionIndex])?void 0:e.id)&&(this.sendBidPrice=0,P.isBidPlaced=!0,m.getDispatcher().emit(M.ERROR_MSG_NOTIFY,(null==i?void 0:i.message)||""))},s.onMinMaxRecentBid=function(i){var e;if(console.log("onMinMaxRecentBid solket event",i),null!=i&&i.auction_id&&(null==i?void 0:i.auction_id)===(null==(e=C.auctionHouseListResponse.data[P.auctionIndex])?void 0:e.id)){var t,n,a;C.MinMaxRecentBid=i;var r=null==i||null==(t=i.data)?void 0:t.is_unique,o=null!=i&&null!=(n=i.data)&&n.uuid?null==i||null==(a=i.data)?void 0:a.uuid:"",s=this.bidPriceForUniqe;m.getDispatcher().emit(M.SET_BID_HISTORY,C.MinMaxRecentBid,s);var u=s;if(P.isBidPlaced=!0,u&&u>0){var l=E(),c={bidPrice:u.toString(),isUnique:r,Time:l};this.allBidHistoryManager.addBid(o,c),r&&o?(this.bidPriceForUniqe=0,this.uniqueHistorymanager.addBid(o,c),this.uniqueBidsAndCounts.setUniqueData(!0),S.inst.play("Unique")):(this.bidPriceForUniqe=0,this.uniqueBidsAndCounts.setUniqueData(!1),S.inst.play("NotUnique"))}!function(i){void 0===i&&(i=200);"undefined"!=typeof navigator&&navigator.vibrate?navigator.vibrate(i):console.log("Vibration not supported.")}(300)}},s.onMinMaxCancelBid=function(i){console.log("onMinMaxCancelBid",i);var e=null==i?void 0:i.auction_id;null!=i&&i.uuid&&(this.uniqueHistorymanager.removeBid(i.uuid,e),this.allBidHistoryManager.removeBid(i.uuid))},s.historySetup=function(){var i=this,e=this.sendBidPrice;this.sendBidPrice=0;var t=C.auctionHouseListResponse.data[P.auctionIndex].id,n=localStorage.getItem(t),a=[];if(n&&(a=n.split(",")),0==e&&this.setBitsinLocal.length<a.length)this.setBitsinLocal=a,this.setBitsinLocal.forEach((function(e,t){t<=10&&(i.isHistoryParent.children[t]?i.resetBidHistoryNode(t,Number(e)):i.newBidHistoryNode(Number(e)))}));else if(e&&e>0){this.setBitsinLocal.length>=10&&this.setBitsinLocal.shift(),this.setBitsinLocal.push(e+""),this.setBitsinLocal.forEach((function(e,t){i.isHistoryParent.children[t]?i.resetBidHistoryNode(t,Number(e)):i.newBidHistoryNode(Number(e))}));this.setBitsinLocal.join(",")}},s.newBidHistoryNode=function(i){var e=this;return new Promise((function(t,n){try{if(i<=0)return t(null);var a=b(e.isHistoryPrefab);a.getChildByName("Amount").getComponent(l).string=i.toString(),e.isHistoryParent.addChild(a),a.setSiblingIndex(0),t(a)}catch(i){console.error("newBidHistoryNode",i),n(i)}}))},s.resetBidHistoryNode=function(i,e){if(!(e<=0)){var t=this.isHistoryParent.children[i];t.getChildByName("Amount").getComponent(l).string=e.toString(),this.isHistoryParent.addChild(t),t.setSiblingIndex(0)}},s.setMessegeinBox=function(i){var e=this;g(this.errorMessege.node).to(.2,{scale:p(0,0,0)},{easing:"backIn"}).call((function(){e.errorMessege.string=i})).to(.2,{scale:p(1,1,1)},{easing:"backOut"}).start()},s.getAuctionHouseListData=function(){return new Promise(r(o().mark((function i(e,t){var n,a,r;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,n=C.auctionHouseResponse.data.currentAuctionHouse.id,a=v.AUCTION_LIST+"?limit=30&page=0&state=live&auction_house_id="+n,i.next=5,x.request(a,w.GET,null);case 5:r=i.sent,C.auctionHouseListResponse=r,e(r),i.next=14;break;case 10:i.prev=10,i.t0=i.catch(0),console.error("Failed to get auction list",i.t0),t(i.t0);case 14:case"end":return i.stop()}}),i,null,[[0,10]])}))))},s.setAvatar=function(i,e){var t=b(this.avatarPrefab),n=t.getChildByName("Avatar").getComponent(d);if(y(i,n),this.avatarParent.addChild(t),t.setSiblingIndex(0),t.name=e,this.avatarNodedata.push(t),this.avatarNodedata.length>10){var a=this.avatarNodedata.length-10;this.avatarCounter.string="+"+a,this.avatarCounter.node.setPosition(315,40,0)}else this.avatarCounter.string=""},s.setUpdateAvatar=function(i,e){var t=this.avatarNodedata[e].getChildByName("Avatar").getComponent(d);y(i,t)},e}(f)).prototype,"bidNumberLabel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ti=e(ii.prototype,"isHistoryPrefab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ni=e(ii.prototype,"walletBalance",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ai=e(ii.prototype,"percentageLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ri=e(ii.prototype,"bidSprite",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oi=e(ii.prototype,"winingPage",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),si=e(ii.prototype,"errorMessege",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ui=e(ii.prototype,"uniqueBidsAndCounts",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),li=e(ii.prototype,"LoginScreen",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ci=e(ii.prototype,"avatarPrefab",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),di=e(ii.prototype,"avatarParent",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),hi=e(ii.prototype,"uniqueHistorymanager",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gi=e(ii.prototype,"allBidHistoryManager",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bi=e(ii.prototype,"loginPopupManager",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pi=e(ii.prototype,"comingSoonPage",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fi=e(ii.prototype,"isHistoryParent",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vi=e(ii.prototype,"avatarCounter",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=ii))||$));s._RF.pop()}}}));

System.register("chunks:///_virtual/SpinningGradientNode.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,r,o,a,l,s,d,u,h,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Color,s=t.UITransform,d=t.Graphics,u=t.Node,h=t.Label,c=t.tween,p=t.Component}],execute:function(){var f,g,b,w,C,m,y,v,S,z,R,G,P;o._RF.push({},"26a255aCFlGA629drfrahZE","SpinningGradientNode",void 0);var x=a.ccclass,N=a.property;t("SpinningGradientNode",(f=x("SpinningGradientNode"),g=N({type:l}),b=N({type:l}),f((m=e((C=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"width",m,r(e)),n(e,"height",y,r(e)),n(e,"borderRadius",v,r(e)),n(e,"animationDuration",S,r(e)),n(e,"startColor",z,r(e)),n(e,"endColor",R,r(e)),n(e,"gradientPercentage",G,r(e)),n(e,"glowOffset",P,r(e)),e}i(e,t);var o=e.prototype;return o.start=function(){var t,e;(null!=(t=this.node.getComponent(s))?t:this.node.addComponent(s)).setContentSize(this.width,this.height);var i=null!=(e=this.node.getComponent(d))?e:this.node.addComponent(d);this.drawGradientRoundedBox(i);var n=new u("GlowLayer");this.node.addChild(n),n.setSiblingIndex(0),n.addComponent(s).setContentSize(this.width+10,this.height+10),n.setPosition(0,-this.glowOffset);var r=n.addComponent(d);this.drawGlowBox(r);var o=new u("SpinnerText");o.setPosition(0,0),this.node.addChild(o);var a=o.addComponent(h);a.string="Spinning!",a.fontSize=24,a.color=l.WHITE,this.startSpinningAnimation()},o.drawGradientRoundedBox=function(t){t.clear();for(var e=this.height,i=this.width,n=i/2,r=e/2,o=e*this.gradientPercentage,a=0;a<e;a++){var s=a<o?0:(a-o)/(e-o),d=new l;l.lerp(d,this.startColor,this.endColor,s),t.fillColor=d,t.rect(-n,r-a-1,i,1),t.fill()}t.strokeColor=l.TRANSPARENT,t.lineWidth=0,t.roundRect(-n,-r,i,e,this.borderRadius),t.stroke()},o.drawGlowBox=function(t){t.clear(),t.fillColor=new l(this.startColor.r,this.startColor.g,this.startColor.b,80),t.roundRect(-this.width/2,-this.height/2,this.width,this.height,this.borderRadius),t.fill()},o.startSpinningAnimation=function(){c(this.node).by(this.animationDuration,{angle:360}).repeatForever().start()},e}(p)).prototype,"width",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 250}}),y=e(C.prototype,"height",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 250}}),v=e(C.prototype,"borderRadius",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 24}}),S=e(C.prototype,"animationDuration",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.7}}),z=e(C.prototype,"startColor",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(186,66,255)}}),R=e(C.prototype,"endColor",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(0,225,255)}}),G=e(C.prototype,"gradientPercentage",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.35}}),P=e(C.prototype,"glowOffset",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),w=C))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/TextHighlightManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var o,t,n,i,p,a,s,r,l,u,h,c,d,g,v,f,y;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){p=e.cclegacy,a=e._decorator,s=e.find,r=e.Label,l=e.Node,u=e.resources,h=e.Prefab,c=e.instantiate,d=e.UITransform,g=e.Vec3,v=e.UIOpacity,f=e.tween,y=e.Component}],execute:function(){var T,N,C;p._RF.push({},"c3bd7IuPupIEJ34hgkjutF4","TextHighlightManager",void 0);var P=a.ccclass,H=a.property;e("TextHighlightManager",P("TextHighlightManager")((C=o((N=function(e){function o(){for(var o,t=arguments.length,p=new Array(t),a=0;a<t;a++)p[a]=arguments[a];return o=e.call.apply(e,[this].concat(p))||this,n(o,"maxLength",C,i(o)),o.fullText="",o.popupNode=null,o.showingPopup=!1,o.isEventOn=!1,o.canvas=null,o}t(o,e);var p=o.prototype;return p.onLoad=function(){this.canvas=s("Canvas/TextHighlight")},p.initr=function(e){if(e&&0!==(null==e?void 0:e.length)){var o=this.getComponent(r);if(o){if(this.fullText=e,e.length>this.maxLength){var t=e.slice(0,3),n=e.slice(-3);o.string=t+"..."+n;var i=this.node;this.isEventOn||(this.isEventOn=!0,i.on(l.EventType.TOUCH_START,this.onHoverEnter,this),i.on(l.EventType.TOUCH_END,this.onHoverLeave,this),i.on(l.EventType.TOUCH_CANCEL,this.onHoverLeave,this))}else o.string=e;u.load("Popup",h,(function(e,o){!e&&o||console.error("Failed to load Popup prefab:",e)}))}else console.warn("Label component not found on this node")}},p.onHoverEnter=function(e){var o=this;this.showingPopup||(this.showingPopup=!0,u.load("Popup",h,(function(e,t){if(!e&&t){o.popupNode=c(t);var n=o.popupNode.getComponentInChildren(r);if(n&&(n.string=o.fullText),o.canvas=s("Canvas/TextHighlight"),o.canvas){o.canvas.addChild(o.popupNode);var i=o.node.getWorldPosition(),p=o.canvas.getComponent(d).convertToNodeSpaceAR(new g(i.x,i.y,0));p.y+=20,o.popupNode.setPosition(p);var a=o.popupNode.getComponent(v);a||(a=o.popupNode.addComponent(v)),a.opacity=0,f(a).to(.3,{opacity:255}).start()}else o.popupNode.destroy()}else console.error("Failed to load Popup prefab:",e)})))},p.onHoverLeave=function(){var e=this;if(this.popupNode&&this.popupNode.isValid){var o=this.popupNode.getComponent(v);o?f(o).to(.2,{opacity:0}).call((function(){e.canvas.destroyAllChildren(),e.popupNode=null,e.showingPopup=!1})).start():(this.popupNode.destroy(),this.popupNode=null,this.showingPopup=!1)}else this.showingPopup=!1},o}(y)).prototype,"maxLength",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),T=N))||T);p._RF.pop()}}}));

System.register("chunks:///_virtual/TimerBase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,r,s,o,c,a,u;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,r=t.macro,s=t.Label,o=t.tween,c=t.Vec3,a=t.Tween,u=t.Component}],execute:function(){var h;i._RF.push({},"71e59zsJUlC/IVqCKsah/Yo","TimerBase",void 0);var l=n.ccclass;n.property,t("TimerBase",l("TimerBase")(h=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).duration=0,e.effect=new a,e.TimerText=void 0,e}e(i,t);var n=i.prototype;return n.start=function(){},n.initializeTime=function(t){this.duration=t,this.checkRequiredComponents(),this.UpdateTimerUI(),this.startTimer()},n.startTimer=function(){var t=this;this.schedule((function(){return t.countDown()}),1,r.REPEAT_FOREVER,0)},n.stopTimer=function(){this.unscheduleAllCallbacks()},n.countDown=function(){this.duration-=1,this.pulseEffect(),this.UpdateTimerUI(),this.duration<=0&&(this.unscheduleAllCallbacks(),this.node.emit("TimerFinished"))},n.UpdateTimerUI=function(){var t=this.duration/60,e=Math.floor(t),i=(60*(t-e)).toFixed(0).toString(),n=e.toString();"0"==i&&(i="00");var r=n+":"+i;n.length<=1&&(r=(n="0"+n)+":"+i),i.length<=1&&(r=n+":"+(i="0"+i)),this.TimerText.string=r},n.checkRequiredComponents=function(){this.TimerText=this.getComponentInChildren(s),null==this.TimerText&&(this.TimerText=this.addComponent(s),this.UpdateTimerUI(),this.TimerText.fontSize=50)},n.pulseEffect=function(){var t;null==(t=this.effect)||t.stop(),this.effect=o(this.node).to(.1,{scale:new c(1.1,1.1,1.1)}).to(.1,{scale:new c(1,1,1)}).start()},i}(u))||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/TransferXPManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TimerBase.ts","./APIManager.ts","./ApiUrls.ts","./BigDealEvents.ts","./BigDealGameModel.ts","./CustomPopUp.ts","./EventManager.ts","./LanguageManager.ts"],(function(e){"use strict";var t,n,i,o,r,a,s,l,u,c,h,d,p,f,g,b,m,B,x,P,T,E,O,y,C,v,N,R,w,_,S,z,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,u=e.Node,c=e.Label,h=e.EditBox,d=e.Prefab,p=e.Button,f=e.RichText,g=e.UIOpacity,b=e.Sprite,m=e.color,B=e.Color,x=e.tween,P=e.Vec3,T=e.instantiate,E=e.Component},function(e){O=e.TimerBase},function(e){y=e.APIManager,C=e.MethodType},function(e){v=e.API_URLS},function(e){N=e.BigDealEvents,R=e.Edit_Box_Event,w=e.Edit_Box_Event_Name},function(e){_=e.BigDealGameModel},function(e){S=e.CustomPopUp},function(e){z=e.default},function(e){k=e.LanguageManager}],execute:function(){var I,D,M,L,U,A,X,V,F,W,Z,Y,q,G,H,j,$,K,Q,J,ee,te,ne,ie,oe,re,ae,se,le,ue,ce,he,de,pe,fe,ge,be,me,Be,xe,Pe,Te,Ee;s._RF.push({},"043fcGYY5tKEaYZeH5LQD52","TransferXPManager",void 0);var Oe=l.ccclass,ye=l.property,Ce=(e("TransferXPManager",(I=Oe("TransferXPManager"),D=ye(u),M=ye(u),L=ye(c),U=ye(h),A=ye(h),X=ye(h),V=ye(u),F=ye(u),W=ye(c),Z=ye(c),Y=ye([h]),q=ye(d),G=ye(O),H=ye(p),j=ye(p),$=ye(p),K=ye(f),Q=ye(u),J=ye(u),ee=ye(p),I((ie=t((ne=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"bgNode",ie,o(t)),i(t,"uiNode",oe,o(t)),i(t,"countryCode",re,o(t)),i(t,"phoneNumber",ae,o(t)),i(t,"emailEditBox",se,o(t)),i(t,"TransferXP",le,o(t)),i(t,"popUp1",ue,o(t)),i(t,"popUp2",ce,o(t)),i(t,"balanceLabel",he,o(t)),i(t,"updateWalletBalance",de,o(t)),i(t,"isOTPBox",pe,o(t)),i(t,"customPopUp",fe,o(t)),i(t,"timerBase",ge,o(t)),i(t,"sendOtpButton",be,o(t)),i(t,"resendOTP",me,o(t)),i(t,"VerifyOtp",Be,o(t)),i(t,"codeSentWith",xe,o(t)),i(t,"emailBox",Pe,o(t)),i(t,"phoneBox",Te,o(t)),i(t,"countryCodeBox",Ee,o(t)),t.SenOtpRes=null,t.isSendOtp=!1,t.isOtpClicked=!1,t.currentIndex=0,t.isButtonLocked=!1,t.balance=0,t.isTextChange=!0,t}n(t,e);var s=t.prototype;return s.start=function(){var e=this;this.bgNode.getComponent(g).opacity=0,this.uiNode.active=!1,this.timerBase.node.on("TimerFinished",this.otpTimeUp,this),this.phoneNumber.node.on("editing-did-began",(function(){return e.phoneEditingDidBegan()}),this),this.phoneNumber.node.on("text-changed",(function(){return e.phoneNumberChanged()}),this),this.phoneNumber.node.on("editing-did-ended",(function(){return e.phoneEditingDidEnd()}),this),this.emailEditBox.node.on("editing-did-began",(function(){return e.emailEditingDidBegan()}),this),this.emailEditBox.node.on("text-changed",(function(){return e.emailChanged()}),this),this.emailEditBox.node.on("editing-did-ended",(function(){return e.emailEditingDidEnd()}),this),this.isOTPBox.forEach((function(t,n){t.node.on("editing-did-began",(function(){return e.onEditBoxBegan(n)}),e),t.node.on("text-changed",(function(){return e.onTextChanged(n)}),e),t.node.on("editing-did-ended",e.onEditEnd,e)}))},s.phoneEditingDidBegan=function(){this.emailBox.getComponent(b).color=m(158,158,158),this.emailEditBox.enabled=!1},s.emailEditingDidBegan=function(){this.phoneBox.getComponent(b).color=m(158,158,158),this.phoneNumber.enabled=!1,this.countryCodeBox.interactable=!1},s.phoneEditingDidEnd=function(){this.isTextChange&&(this.emailBox.getComponent(b).color=B.WHITE,this.emailEditBox.enabled=!0)},s.emailEditingDidEnd=function(){this.isTextChange&&(this.phoneBox.getComponent(b).color=B.WHITE,this.phoneNumber.enabled=!0,this.countryCodeBox.interactable=!0)},s.phoneNumberChanged=function(){this.phoneNumber.string.length>1?this.isTextChange=!1:this.isTextChange=!0},s.emailChanged=function(){this.emailEditBox.string.length>1?this.isTextChange=!1:this.isTextChange=!0},s.showBuyXPPanel=function(){this.uiNode.active=!0,this.bgNode.active=!0,x(this.bgNode.getComponent(g)).to(.2,{opacity:255}).start(),x(this.uiNode).to(.2,{position:new P(0,0,0)}).start(),this.init()},s.init=function(){var e,t;this.popUp1.active=!0,this.popUp2.active=!1,this.phoneNumber.string="",this.emailEditBox.string="",this.TransferXP.string="",this.isOTPBox.forEach((function(e){e.string="",e.getComponentInChildren(c).string=""})),this.timerBase.stopTimer(),this.sendOtpButton.interactable=!0,this.isSendOtp=!1,this.balance=Number(null==(e=_.playerBalancesResponse)||null==(t=e.data)?void 0:t.play_balance)||0;var n=this.balance||0;this.balanceLabel.string=k.instance.t("balance",{amount:n}),this.isTextChange=!0,this.isTextChange&&(this.emailBox.getComponent(b).color=B.WHITE,this.emailEditBox.enabled=!0,this.phoneBox.getComponent(b).color=B.WHITE,this.phoneNumber.enabled=!0,this.countryCodeBox.interactable=!0)},s.hideBuyXPPanel=function(){var e=this;x(this.bgNode.getComponent(g)).to(.2,{opacity:0}).call((function(){e.bgNode.active=!1})).start(),x(this.uiNode).to(.2,{position:new P(0,-1500,0)}).call((function(){e.uiNode.active=!1})).start()},s.onTransferXPClick=function(){var e=r(a().mark((function e(){var t,n,i,o,r,s,l,u=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isButtonLocked){e.next=2;break}return e.abrupt("return");case 2:if(this.isButtonLocked=!0,t=this.countryCode.string,n=this.phoneNumber.string,i=this.emailEditBox.string,o=this.TransferXP.string,r=this.createOtpRequest(t,n,i,o),console.log("validations",r),console.log("cc, phone, email, transferXP",t,n,i,o),r){e.next=17;break}return this.getLoginAlertMessage(t,n,i,o),this.sendOtpButton.interactable=!0,this.isButtonLocked=!1,e.abrupt("return");case 17:this.sendOtpButton.interactable=!1;case 18:return e.prev=18,this.offResend(),e.next=22,y.request(v.SEND_OTP_XP_TRANSFER,C.POST,r,!0);case 22:this.SenOtpRes=e.sent,s=k.instance.t("enter_code_sent_to"),l=this.SenOtpRes.data.identifier||"",this.codeSentWith.string="<color=#ffffff>"+s+" </color><color=#00FFA3>"+l+"</color>",this.timerBase.stopTimer(),this.timerBase.initializeTime(20),this.isSendOtp=!0,this.isOtpClicked=!1,this.isOTPBox[0].focus(),this.popUp1.active=!1,this.popUp2.active=!0,e.next=40;break;case 35:e.prev=35,e.t0=e.catch(18),this.sendOtpButton.interactable=!0,this.otpTimeUp(),console.error("Send OTP Error:",e.t0);case 40:this.scheduleOnce((function(){u.isButtonLocked=!1}),1);case 41:case"end":return e.stop()}}),e,this,[[18,35]])})));return function(){return e.apply(this,arguments)}}(),s.resendOtp=function(){this.offResend(),this.isSendOtp=!1,this.onTransferXPClick(),this.isOTPBox.forEach((function(e){return e.string=""})),this.resetOTPLabel()},s.createOtpRequest=function(e,t,n,i){return!i||isNaN(Number(i))||Number(i)<=0?null:e&&this.isRealCountryCode(e)&&t&&this.isValidPhoneNumber(t)?{xp:Number(i),mobile_no:""+e+t}:n&&this.isValidEmail(n)?{xp:Number(i),email:n}:null},s.onClickOtp=function(){var e=r(a().mark((function e(){var t,n,i,o,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isOtpClicked){e.next=2;break}return e.abrupt("return");case 2:if(this.isOtpClicked=!0,this.VerifyOtp.interactable=!1,4===(t=this.getOTPCode()).length){e.next=10;break}return this.getOtpAlertMessage(t),this.isOtpClicked=!1,this.VerifyOtp.interactable=!0,e.abrupt("return");case 10:return n={otpRequestId:""+this.SenOtpRes.data.otpRequestId,otp:""+t},e.prev=11,e.next=14,y.request(v.VERIFY_OTP_XP_TRANSFER,C.POST,n,!0);case 14:r=e.sent,this.hideBuyXPPanel(),console.log("OTP Verification Response:",r),this.timerBase.stopTimer(),this.showPopup("Success","Your XP transfer was completed successfully!"),null!=(i=_.playerBalancesResponse)&&null!=(o=i.data)&&o.play_balance&&(_.playerBalancesResponse.data.play_balance=(this.balance-r.data.plays||0).toString(),this.updateWalletBalance.string=""+_.playerBalancesResponse.data.play_balance),e.next=27;break;case 22:e.prev=22,e.t0=e.catch(11),console.error("OTP Verification Error:",e.t0),this.isOtpClicked=!1,this.VerifyOtp.interactable=!0;case 27:case"end":return e.stop()}}),e,this,[[11,22]])})));return function(){return e.apply(this,arguments)}}(),s.otpTimeUp=function(){this.resendOTP.interactable=!0;var e=k.instance.t("didnt_receive_code"),t=k.instance.t("resend");this.resendOTP.node.getComponent(f).string="<color=#000000>"+e+" </color><color=#0000ff><u>"+t+"</u></color>"},s.offResend=function(){this.resendOTP.interactable=!1;var e=k.instance.t("didnt_receive_code"),t=k.instance.t("resend");this.resendOTP.node.getComponent(f).string="<color=#969696>"+e+" </color><color=#969696><u>"+t+"</u></color>"},s.iInvalidOTP=function(e){this.isOTPBox.forEach((function(e){e.node.getComponentInChildren(c).color=B.RED}))},s.resetOTPLabel=function(){this.isOTPBox.forEach((function(e){e.node.getComponentInChildren(c).color=B.WHITE}))},s.getOtpAlertMessage=function(e){var t="Something went wrong.";e?4!==e.length&&(t="OTP must be 4 digits."):t="OTP cannot be empty.",z.getDispatcher().emit(N.ERROR_MSG_NOTIFY,t||"")},s.getLoginAlertMessage=function(e,t,n,i){var o="Something went wrong.";(!i||isNaN(Number(i))||Number(i)<=0)&&(o="Please enter a valid amount to transfer."),""!=n?n&&""!==n.trim()?this.isValidEmail(n)||(o="Please enter a valid email address."):o="Please enter your email address.":""!=t?t&&""!==t.trim()?this.isValidPhoneNumber(t)?e&&this.isRealCountryCode(e)||(o="Invalid country code format."):o="Please enter a valid phone number.":o="Please enter your phone number.":t||n?e&&this.isRealCountryCode(e)||(o="Invalid country code format."):o="Phone Number OR Email required!",z.getDispatcher().emit(N.ERROR_MSG_NOTIFY,o||"")},s.showPopup=function(e,t){var n=this,i=T(this.customPopUp);i.setPosition(0,0),i.setScale(P.ZERO),this.node.addChild(i);i.getComponent(S).setCallback((function(){return n.setZoomOut(i)}),null),i.getComponent(S).Msg.string=t,i.getComponent(S).title.string=e,this.setZoom(i)},s.setZoom=function(e){x(e).to(.2,{scale:new P(1.2,1.2,1.2)}).to(.1,{scale:new P(1,1,1)}).start()},s.setZoomOut=function(e){x(e).to(.2,{scale:P.ZERO}).destroySelf().start()},s.onEditboxEditingBegan=function(){R.emit(w,!0)},s.onEditboxEditingEnd=function(){R.emit(w,!1)},s.onEditBoxBegan=function(e){this.onEditboxEditingBegan(),this.currentIndex=e,this.resetOTPLabel()},s.onTextChanged=function(e){var t=this.isOTPBox[e].string;3===e&&0!=t.length?(this.isOTPBox[e].string=t.charAt(0),this.focusPrevEditBox(e+1)):2===t.length?(this.isOTPBox[e].string=t.charAt(0),this.focusNextEditBox(e,t.charAt(1))):0===t.length?this.focusPrevEditBox(e):t.length>1&&this.focusPrevEditBox(e+1)},s.showError=function(e){z.getDispatcher().emit(N.ERROR_MSG_NOTIFY,e||"")},s.focusNextEditBox=function(e,t){e<this.isOTPBox.length-1&&(this.isOTPBox[e+1].string=t,this.isOTPBox[e+1].focus())},s.focusPrevEditBox=function(e){e>0&&this.isOTPBox[e-1].focus()},s.isValidPhoneNumber=function(e){return/^\d{10}$/.test(e)},s.isValidEmail=function(e){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)},s.isRealCountryCode=function(e){return Ce.has(e)},s.getOTPCode=function(){return this.isOTPBox.map((function(e){return e.string.trim()})).join("")},s.onEditEnd=function(){this.onEditboxEditingEnd()},t}(E)).prototype,"bgNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(ne.prototype,"uiNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(ne.prototype,"countryCode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(ne.prototype,"phoneNumber",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(ne.prototype,"emailEditBox",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(ne.prototype,"TransferXP",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(ne.prototype,"popUp1",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(ne.prototype,"popUp2",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(ne.prototype,"balanceLabel",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(ne.prototype,"updateWalletBalance",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(ne.prototype,"isOTPBox",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fe=t(ne.prototype,"customPopUp",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(ne.prototype,"timerBase",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(ne.prototype,"sendOtpButton",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(ne.prototype,"resendOTP",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(ne.prototype,"VerifyOtp",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(ne.prototype,"codeSentWith",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(ne.prototype,"emailBox",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(ne.prototype,"phoneBox",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(ne.prototype,"countryCodeBox",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=ne))||te)),new Set(["+1","+44","+91","+81","+61","+49","+33","+971","+86","+7"]));s._RF.pop()}}}));

System.register("chunks:///_virtual/TutorialItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,o,n,a,l,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,l=t.Enum,u=t.Vec2,c=t.Component}],execute:function(){var p,s,b,m,f,y,g,h,d,z,v,w,R;n._RF.push({},"00738mbj0NJh548Knwft51/","TutorialItem",void 0);var I=a.ccclass,M=a.property,k=l({bottomRight:0,bottomLeft:1,topLeft:2,topRight:3,topMiddle:4,bottomMiddle:5});t("TutorialItem",(p=I("TutorialItem"),s=M(String),b=M({type:u,tooltip:"ItemSize",visible:!0}),m=M({type:Number,tooltip:"animation time",visible:!0}),f=M(Boolean),y=M({type:k,tooltip:"Message Show Side",visible:!0}),p((d=e((h=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,r(e,"key",d,o(e)),r(e,"size",z,o(e)),r(e,"time",v,o(e)),r(e,"isMaskRect",w,o(e)),r(e,"tag",R,o(e)),e}return i(e,t),e}(c)).prototype,"key",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z=e(h.prototype,"size",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(0,0)}}),v=e(h.prototype,"time",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),w=e(h.prototype,"isMaskRect",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=e(h.prototype,"tag",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.bottomRight}}),g=h))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/UniqueBidsAndCounts.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var i,n,t,r,u,o,l,s,a,c,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){u=e.cclegacy,o=e._decorator,l=e.Sprite,s=e.SpriteFrame,a=e.Label,c=e.Color,p=e.Component}],execute:function(){var b,q,h,U,f,d,L,y,g,m,w,C,v;u._RF.push({},"d73f0ZNG/BFrLVLbWGkFVZq","UniqueBidsAndCounts",void 0);var z=o.ccclass,F=o.property;e("UniqueBidsAndCounts",(b=z("UniqueBidsAndCounts"),q=F(l),h=F(s),U=F(s),f=F(a),d=F(a),b((g=i((y=function(e){function i(){for(var i,n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return i=e.call.apply(e,[this].concat(u))||this,t(i,"showUnique",g,r(i)),t(i,"isUniqueIcon",m,r(i)),t(i,"isNotUniqueIcon",w,r(i)),t(i,"uniqueCountLabel",C,r(i)),t(i,"isUniqueLabel",v,r(i)),i}n(i,e);var u=i.prototype;return u.setUniqueData=function(e){e?(this.showUnique.spriteFrame=this.isUniqueIcon,this.isUniqueLabel.color=c.GREEN,this.isUniqueLabel.node.children[0].active=!1):(this.showUnique.spriteFrame=this.isNotUniqueIcon,this.isUniqueLabel.color=c.RED,this.isUniqueLabel.node.children[0].active=!0)},u.setUniqueCount=function(e){this.uniqueCountLabel.string=e},i}(p)).prototype,"showUnique",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=i(y.prototype,"isUniqueIcon",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(y.prototype,"isNotUniqueIcon",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(y.prototype,"uniqueCountLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(y.prototype,"isUniqueLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=y))||L));u._RF.pop()}}}));

System.register("chunks:///_virtual/UniqueBidStorageManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IndexedDBManager.ts"],(function(e){"use strict";var t,i,a,n;return{setters:[function(e){t=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){a=e.cclegacy},function(e){n=e.IndexedDBManager}],execute:function(){a._RF.push({},"9e70axMdh1GjpH7RczxEXAh","UniqueBidStorageManager",void 0);e("UniqueBidStorageManager",function(){function e(e){this.bidMap=new Map,this.localKey="",this.setLocalKey(e)}var a=e.prototype;return a.setLocalKey=function(e){var t=e;this.localKey="UniqueBidMap"+t},a.init=function(e){this.setLocalKey(e),this.loadFromStorage()},a.addBid=function(e,t){console.log("public addBid ",this.bidMap),this.bidMap.set(e,t),this.saveToStorage()},a.removeBid=function(e){console.log("this.bidMap befor uuuuu ->"+this.bidMap.size),this.bidMap.delete(e)&&(console.log("this.bidMap aaaaaa uuuu ->"+this.bidMap.size),this.saveToStorage())},a.getBidCount=function(){return this.bidMap.size},a.getAllBids=function(){return Array.from(this.bidMap.entries())},a.loadFromStorage=function(){var e=t(i().mark((function e(){var t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.inst.getItem(this.localKey)){e.next=5;break}return e.next=3,n.inst.getItem(this.localKey);case 3:if(t=e.sent)try{a=JSON.parse(t),this.bidMap=new Map(a)}catch(e){console.error("Failed to parse bid data from localStorage",e),this.bidMap.clear()}case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.saveToStorage=function(){n.inst.setItem(this.localKey,JSON.stringify(Array.from(this.bidMap.entries())))},e}());a._RF.pop()}}}));

System.register("chunks:///_virtual/UniqueHistory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealGameModel.ts","./UniqueBidsAndCounts.ts","./BigDealEvents.ts","./IndexedDBManager.ts"],(function(e){"use strict";var i,t,n,r,o,s,a,u,d,l,c,p,f,h,y,b,g;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy,u=e._decorator,d=e.Prefab,l=e.Node,c=e.instantiate,p=e.Label,f=e.Component},function(e){h=e.BigDealGameModel},function(e){y=e.UniqueBidsAndCounts},function(e){b=e.StaticProperties},function(e){g=e.IndexedDBManager}],execute:function(){var v,M,B,m,q,H,C,U,x;a._RF.push({},"1227f0w1V1JII5W0IxHOG1c","UniqueHistory",void 0);var P=u.ccclass,w=u.property;e("UniqueHistory",(v=P("UniqueHistory"),M=w(d),B=w(l),m=w(y),v((C=i((H=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o))||this,n(i,"isHistoryPrefab",C,r(i)),n(i,"isUniqueHistoryParent",U,r(i)),n(i,"uniqueBidsAndCounts",x,r(i)),i.bidMap=new Map,i.localKey="UniqueBidMap",i.nodeMap=new Map,i}t(i,e);var a=i.prototype;return a.init=function(){var e=o(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isUniqueHistoryParent.removeAllChildren(),this.nodeMap.clear(),this.bidMap.clear(),e.next=5,this.loadFromStorage();case 5:this.renderAllBids();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.addBid=function(e,i){var t,n;if(this.localKey=null==(t=h.auctionHouseListResponse)||null==(n=t.data[b.auctionIndex])?void 0:n.id,!this.bidMap.has(e)){this.bidMap.set(e,i),this.createBidNode(e,i.bidPrice);var r=this.nodeMap.size;this.uniqueBidsAndCounts.setUniqueCount(r.toString())}},a.removeBid=function(e,i){if(console.log("this.bidMap befor ->"+this.bidMap.size),this.bidMap.delete(e)){console.log("this.bidMap affff ->"+this.bidMap.size),this.removeBidNode(e);var t=this.nodeMap.size;this.uniqueBidsAndCounts.setUniqueCount(t.toString())}},a.loadFromStorage=function(){var e=o(s().mark((function e(){var i,t,n,r,o,a,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.localKey!=(null==(i=h.auctionHouseListResponse)||null==(t=i.data[b.auctionIndex])?void 0:t.id)&&(this.localKey=null==(n=h.auctionHouseListResponse)||null==(r=n.data[b.auctionIndex])?void 0:r.id),!g.inst.getItem(this.localKey)){e.next=6;break}return e.next=4,g.inst.getItem(this.localKey);case 4:if(o=e.sent)try{a=JSON.parse(o),u=a.filter((function(e){e[0];return!0===e[1].isUnique})),this.bidMap=new Map(u)}catch(e){console.error("Error parsing or filtering bid data from localStorage:",e),this.bidMap.clear()}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.createBidNode=function(e,i){var t;if(i){var n=c(this.isHistoryPrefab),r=null==(t=n.getChildByName("Amount"))?void 0:t.getComponent(p);r&&(r.string=null==i?void 0:i.toString()),this.isUniqueHistoryParent.addChild(n),n.setSiblingIndex(0),this.nodeMap.set(e,n)}},a.removeBidNode=function(e){var i=this.nodeMap.get(e);console.log(i,"removeBidNode unniqe history"),i&&i.isValid&&i.destroy(),this.nodeMap.delete(e)},a.renderAllBids=function(){var e=this;this.bidMap.forEach((function(i,t){e.createBidNode(t,i.bidPrice)}));var i=this.nodeMap.size;this.uniqueBidsAndCounts.setUniqueCount(i.toString())},i}(f)).prototype,"isHistoryPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(H.prototype,"isUniqueHistoryParent",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(H.prototype,"uniqueBidsAndCounts",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=H))||q));a._RF.pop()}}}));

System.register("chunks:///_virtual/UpdateProfileKYC.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealGameModel.ts","./APIManager.ts","./ApiUrls.ts","./BigDealSocketManager.ts","./EditProfilePicture.ts","./BigDealEvents.ts","./EventManager.ts","./IndexedDBManager.ts","./LanguageManager.ts","./loadingFram.ts"],(function(e){"use strict";var t,i,r,n,o,a,l,u,s,c,p,f,b,g,m,d,h,y,v,w,P,C,B,_,z,N,I,D,L,M,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){l=e.cclegacy,u=e._decorator,s=e.Node,c=e.EditBox,p=e.Label,f=e.Button,b=e.Sprite,g=e.Color,m=e.UIOpacity,d=e.tween,h=e.Vec3,y=e.Component,v=e.director},function(e){w=e.BigDealGameModel},function(e){P=e.APIManager,C=e.MethodType},function(e){B=e.API_URLS},function(e){_=e.BigDealSocketManager},function(e){z=e.EditProfilePicture},function(e){N=e.BigDealEvents,I=e.StaticProperties},function(e){D=e.default},function(e){L=e.IndexedDBManager},function(e){M=e.LanguageManager},function(e){E=e.showApiError}],execute:function(){var x,R,F,k,U,S,A,O,T,j,G,V,Y,K,W,q,H,J,$,Z,Q,X,ee,te,ie,re,ne,oe,ae,le,ue,se,ce,pe,fe,be,ge,me,de,he,ye,ve,we,Pe,Ce,Be,_e,ze,Ne,Ie,De;l._RF.push({},"0861fRx3C9E14H9Zj16Pezk","UpdateProfileKYC",void 0);var Le=u.ccclass,Me=u.property;e("UpdateProfileKYC",(x=Le("UpdateProfileKYC"),R=Me(s),F=Me(c),k=Me(p),U=Me(p),S=Me(c),A=Me(c),O=Me(c),T=Me(c),j=Me(f),G=Me(p),V=Me(p),Y=Me(b),K=Me(s),W=Me(s),q=Me(s),H=Me(s),J=Me(s),$=Me(p),Z=Me(p),Q=Me(z),X=Me(s),ee=Me(f),te=Me(b),ie=Me(b),x((oe=t((ne=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"profilePicButton",oe,n(t)),r(t,"userName",ae,n(t)),r(t,"gender",le,n(t)),r(t,"country",ue,n(t)),r(t,"email",se,n(t)),r(t,"zipCode",ce,n(t)),r(t,"referralCode",pe,n(t)),r(t,"phoneNumber",fe,n(t)),r(t,"finishLoginBtn",be,n(t)),r(t,"countryCode",ge,n(t)),r(t,"loggedInWith",me,n(t)),r(t,"profileImage",de,n(t)),r(t,"emailBox",he,n(t)),r(t,"phoneNumberBox",ye,n(t)),r(t,"popupBg",ve,n(t)),r(t,"UiNode",we,n(t)),r(t,"errorPopup",Pe,n(t)),r(t,"errorMessageLabel",Ce,n(t)),r(t,"buttonLabel",Be,n(t)),r(t,"editProfilePicture",_e,n(t)),r(t,"closeButton",ze,n(t)),r(t,"ccDownButton",Ne,n(t)),r(t,"emailFrame",Ie,n(t)),r(t,"mobileFrame",De,n(t)),t.isButtonClicked=!1,t}i(t,e);var l=t.prototype;return l.onClick=function(){var e=w.loginDataResponse.data;this.userName.string=e.first_name||"",this.gender.string=e.gender||"MALE";var t=e.mobile_no?this.splitMobileNumber(e.mobile_no):null;e.is_verified||(e.email?(this.loggedInWith.string=e.email,this.emailBox.active=!1,this.phoneNumberBox.active=!0):(this.loggedInWith.string=e.mobile_no||"",this.emailBox.active=!0,this.phoneNumberBox.active=!1)),this.email.string=e.email||"",this.zipCode.string=e.zipcode||"",this.referralCode.string="",this.phoneNumber.string=(null==t?void 0:t.mobileNo)||"",this.countryCode.string=(null==t?void 0:t.countryCode)||"+91",e.is_verified?(this.referralCode.node.parent.active=!1,this.buttonLabel.string="Update Profile",this.email.enabled=!1,this.phoneNumber.enabled=!1,this.email.textLabel.color=new g(180,180,180),this.phoneNumber.textLabel.color=new g(180,180,180),this.mobileFrame.color=new g(180,180,180),this.emailFrame.color=new g(180,180,180),this.countryCode.color=new g(180,180,180),this.ccDownButton.interactable=!1,this.buttonLabel.string=M.instance.t("update_profile")):(this.buttonLabel.string=M.instance.t("finish_login"),this.closeButton.active=!1),this.editProfilePicture.init(),this.showPopup(this.UiNode)},l.splitMobileNumber=function(e){var t=null==e?void 0:e.slice(-10);return{countryCode:null==e?void 0:e.slice(0,length-10),mobileNo:t}},l.onFinishLoginClick=function(){var e=o(a().mark((function e(){var t,i,r,n,o,l,u,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("fgfbdhnxjs"),t=w.loginDataResponse.data,i=t.mobile_no?t.mobile_no:this.countryCode.string+this.phoneNumber.string,""!=this.phoneNumber.string&&(i=this.countryCode.string+this.phoneNumber.string),r={first_name:this.userName.string.trim(),gender:this.gender.string.trim(),country:this.country.string.trim(),email:this.email.string.trim(),mobile_no:i,zipcode:this.zipCode.string.trim(),referral_code:this.referralCode.string.trim(),avatar:""+this.editProfilePicture.selectAvatar},!(n=this.validateInputs(r))){e.next=10;break}return this.showError(n),console.error(n),e.abrupt("return");case 10:return e.prev=10,u=w.loginDataResponse.data.id,e.next=14,P.request(""+B.REGISTRATION+u,C.PUT,r,!0);case 14:s=e.sent,w.upDateProfileResponse=s,this.updateLocalProfile(),E(s),D.getDispatcher().emit(N.PROFILE_UPDATE),null!=(o=this.editProfilePicture)&&null!=(l=o.isSelected)&&l.getChildByName("Icon")&&(this.profileImage.spriteFrame=this.editProfilePicture.isSelected.getChildByName("Icon").getComponent(b).spriteFrame),I.is_verified?this.onClickCloseButton():(_.clearInstance(),v.loadScene("MultipleAuction")),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(10),console.error("❌ Profile update failed",e.t0),this.showError("Failed to update profile. Try again.");case 27:case"end":return e.stop()}}),e,this,[[10,23]])})));return function(){return e.apply(this,arguments)}}(),l.validateInputs=function(e){return!e.first_name||e.first_name.length<3?"Username must be at least 3 characters.":!e.first_name||e.first_name.length>14?"Username must be at upto 14 characters.":e.mobile_no&&this.isValidFullMobileNumber(e.mobile_no)?!e.zipcode||e.zipcode.length<3?"Enter a valid zip code.":e.gender?e.country?e.email&&this.isValidEmail(e.email)?null:"Enter a valid email address.":"Country is required.":"Gender is required.":"Enter a valid 10-digit phone number."},l.isValidFullMobileNumber=function(e){if(!e||"string"!=typeof e)return!1;return/^\+(\d{1,4})(\d{10})$/.test(e)},l.isValidEmail=function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.toLowerCase())},l.updateLocalProfile=function(){var e=w.upDateProfileResponse.data,t=w.loginDataResponse.data;Object.assign(t,{first_name:e.first_name,last_name:e.last_name,email:e.email,mobile_no:e.mobile_no,avatar:e.avatar,referral_code:e.referral_code,wallet_address:e.wallet_address,gender:e.gender,country:e.country,city:e.city,zipcode:e.zipcode,is_verified:e.is_verified}),e.is_verified&&(localStorage.setItem("PlayerLoginObj",JSON.stringify(w.loginDataResponse)),L.inst.setItem("PlayerLoginObj",JSON.stringify(w.loginDataResponse)))},l.showError=function(e){D.getDispatcher().emit(N.ERROR_MSG_NOTIFY,e||"")},l.showPopup=function(e){var t=this;this.popupBg.active=!0;var i=this.popupBg.getComponent(m);i.opacity=0,d(i).to(.3,{opacity:255}).start(),e.active=!0,e.setScale(new h(0,0,1)),d(e).to(.3,{scale:new h(1.1,1.1,1)},{easing:"backOut",onComplete:function(){t.isButtonClicked=!1}}).start()},l.onClickCloseButton=function(){this.closePopup(this.UiNode),this.editProfilePicture.onClose()},l.closePopup=function(e){var t=this;d(e).to(.2,{scale:new h(0,0,1)},{easing:"backIn",onComplete:function(){e.active=!1}}).start();var i=this.popupBg.getComponent(m);d(i).to(.3,{opacity:0},{onComplete:function(){t.popupBg.active=!1}}).start(),this.isButtonClicked=!1},t}(y)).prototype,"profilePicButton",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(ne.prototype,"userName",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(ne.prototype,"gender",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(ne.prototype,"country",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(ne.prototype,"email",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(ne.prototype,"zipCode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(ne.prototype,"referralCode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(ne.prototype,"phoneNumber",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(ne.prototype,"finishLoginBtn",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(ne.prototype,"countryCode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(ne.prototype,"loggedInWith",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(ne.prototype,"profileImage",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(ne.prototype,"emailBox",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(ne.prototype,"phoneNumberBox",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(ne.prototype,"popupBg",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(ne.prototype,"UiNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(ne.prototype,"errorPopup",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(ne.prototype,"errorMessageLabel",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(ne.prototype,"buttonLabel",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(ne.prototype,"editProfilePicture",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(ne.prototype,"closeButton",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(ne.prototype,"ccDownButton",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t(ne.prototype,"emailFrame",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(ne.prototype,"mobileFrame",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=ne))||re));l._RF.pop()}}}));

System.register("chunks:///_virtual/UserInterface.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"b3f94qdAeZEyoNYrKENpLbv","UserInterface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/WinAuctionStatusConfirm.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./BigDealEvents.ts","./ApiUrls.ts","./APIManager.ts","./MyAuctionHistoryPrefab.ts"],(function(t){"use strict";var e,n,r,i,o,a,c,s,u,l,p,f,h,d,g,v,w,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){c=t.cclegacy,s=t._decorator,u=t.Node,l=t.tween,p=t.Vec3,f=t.Component},function(t){h=t.default},function(t){d=t.BigDealEvents},function(t){g=t.API_URLS},function(t){v=t.APIManager,w=t.MethodType},function(t){m=t.ShippingClaimStatus}],execute:function(){var y,_,k,b,A,S,C;c._RF.push({},"1746fCa3uBG8YPMUPEcBlqZ","WinAuctionStatusConfirm",void 0);var P=s.ccclass,R=s.property;t("WinAuctionStatusConfirm",(y=P("WinAuctionStatusConfirm"),_=R(u),k=R(u),y((S=e((A=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"UiNode",S,i(e)),r(e,"BlockBg",C,i(e)),e.isClicked=!1,e.auction_id="",e}n(e,t);var c=e.prototype;return c.onLoad=function(){h.getDispatcher().on(m.WIN_AUCTION_STATUS_CONFIRM,this.init,this)},c.init=function(t){t&&(this.auction_id=t,this.setZoom(this.UiNode))},c.onclickYes=function(){var t=o(a().mark((function t(){var e,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isClicked){t.next=2;break}return t.abrupt("return");case 2:this.isClicked=!0;try{e=new URL(window.parent.location.href),n=""+e.origin,window.parent.location.href=n}catch(t){console.error("Please try again.")}this.setZoomOut(this.UiNode);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onclickNo=function(){var t=o(a().mark((function t(){var e,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isClicked){t.next=2;break}return t.abrupt("return");case 2:this.isClicked=!0;try{e=new URL(window.parent.location.href),n=""+e.origin,window.parent.location.href=n}catch(t){console.error("Please try again.")}this.setZoomOut(this.UiNode);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.getAuctionHouse=function(){var t=o(a().mark((function t(e){var n=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(o(a().mark((function t(r,i){var o,c,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.auction_id){t.next=4;break}return o="Auction ID not available. Please try again.",h.getDispatcher().emit(d.ERROR_MSG_NOTIFY,o),t.abrupt("return",i(new Error(o)));case 4:return c={auction_id:n.auction_id,delivery_status:e},t.prev=5,t.next=8,v.request(g.DELIVERY_STATUS,w.POST,c,!0);case 8:s=t.sent,console.log("✅ Delivery status response:",s),r(),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(5),console.error("❌ API Error:",t.t0),h.getDispatcher().emit(d.ERROR_MSG_NOTIFY,"Please try again, something went wrong."),i(t.t0);case 18:case"end":return t.stop()}}),t,null,[[5,13]])})))));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c.setZoom=function(t){this.BlockBg.active=!0,t.setScale(0,0,0),t.active=!0,l(t).to(.2,{scale:new p(1.2,1.2,1.2)}).to(.1,{scale:new p(1,1,1)}).start()},c.setZoomOut=function(t){var e=this;l(t).to(.2,{scale:p.ZERO}).call((function(){e.BlockBg.active=!1,t.active=!1})).start()},c.chatOnTelegram=function(){var t=(screen.width-550)/2,e=(screen.height-600)/2;window.open("https://t.me/auctionx_support_bot","Chat on Telegram","width=550,height=600,top="+e+",left="+t)},c.update=function(t){},e}(f)).prototype,"UiNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(A.prototype,"BlockBg",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=A))||b));c._RF.pop()}}}));

System.register("chunks:///_virtual/XPHistoryManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./APIManager.ts","./BigDealEvents.ts","./ApiUrls.ts","./BigDealGameModel.ts","./AllBidHistoryManager.ts","./EventManager.ts"],(function(e){"use strict";var t,n,r,a,o,i,s,c,u,l,d,p,h,f,g,y,m,N,b,v,C,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,u=e.Node,l=e.Prefab,d=e.ScrollView,p=e.Component,h=e.instantiate,f=e.Label,g=e.Color},function(e){y=e.APIManager,m=e.MethodType},function(e){N=e.BigDealEvents},function(e){b=e.API_URLS},function(e){v=e.BigDealGameModel},function(e){C=e.applyHighlight},function(e){w=e.default}],execute:function(){var P,B,S,H,x,T,D,k,R,_,E,A,I,z,F,M,X,O,U,G,q,L,Y,J,j,V,W,Z,K,Q,$,ee,te;s._RF.push({},"d9528q65zdNOLNOOwr74qZW","XPHistoryManager",void 0);var ne=c.ccclass,re=c.property;e("XPHistoryManager",(P=ne("XPHistoryManager"),B=re(u),S=re(l),H=re(l),x=re(l),T=re(u),D=re(u),k=re(u),R=re(u),_=re(u),E=re(u),A=re(d),I=re(d),z=re(d),F=re(u),M=re(u),P((U=t((O=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,r(t,"uiNode",U,a(t)),r(t,"buyPrefab",G,a(t)),r(t,"spendPrefab",q,a(t)),r(t,"transferPrefab",L,a(t)),r(t,"buyParent",Y,a(t)),r(t,"spendParent",J,a(t)),r(t,"transferParent",j,a(t)),r(t,"buyPanel",V,a(t)),r(t,"spendPanel",W,a(t)),r(t,"transferPanel",Z,a(t)),r(t,"buyScroll",K,a(t)),r(t,"spendScroll",Q,a(t)),r(t,"transferScroll",$,a(t)),r(t,"loadingNode",ee,a(t)),r(t,"noDataFound",te,a(t)),t.buyHistoryNodes=[],t.spendHistoryNodes=[],t.transferHistoryNodes=[],t.transactionSpendResponse=null,t.transactionBuyResponse=null,t}n(t,e);var s=t.prototype;return s.openUI=function(){this.uiNode.active=!0,this.onBuyClicked()},s.closeUI=function(){this.loadingNode.active=!1,this.uiNode.active=!1},s.setPanelActive=function(e,t,n){this.buyPanel.active=e,this.spendPanel.active=t,this.transferPanel.active=n,this.buyScroll.scrollToTop(.1),this.spendScroll.scrollToTop(.1),this.transferScroll.scrollToTop(.1)},s.onBuyClicked=function(){var e=o(i().mark((function e(){var t,n,r,a,o,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setPanelActive(!0,!1,!1),this.buyParent.children.length<1&&(this.loadingNode.active=!0),t=v.loginDataResponse.data.id,e.prev=3,e.next=6,this.getUserBuyTransactions(t);case 6:for(n=e.sent,this.loadingNode.active=!1,n.data.length<=0?this.noDataFound.active=!0:this.noDataFound.active=!1,r=0;r<this.buyHistoryNodes.length;r++)a=n.data[r],o=this.buyHistoryNodes[this.buyHistoryNodes.length-(r+1)],this.upDateBuyNode(o,{sno:(r+1).toString(),date:a.created_at||"-",xp:a.plays||"0",remarks:a.spend_on||"-"});if(n.data.length>this.buyHistoryNodes.length)for(s=this.buyHistoryNodes.length;s<n.data.length;s++)c=n.data[s],this.newBuyNode({sno:(s+1).toString(),date:c.created_at||"-",xp:c.plays||"0",remarks:c.spend_on||"-"});e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("Error fetching user buy transactions:",e.t0);case 16:case"end":return e.stop()}}),e,this,[[3,13]])})));return function(){return e.apply(this,arguments)}}(),s.onSpendClicked=function(){var e=o(i().mark((function e(){var t,n,r,a,o,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setPanelActive(!1,!0,!1),this.spendParent.children.length<1&&(this.loadingNode.active=!0),e.prev=2,t=v.loginDataResponse.data.id,e.next=6,this.getUserSpendTransactions(t);case 6:for(n=e.sent,this.loadingNode.active=!1,n.data.length<=0?this.noDataFound.active=!0:this.noDataFound.active=!1,r=0;r<this.spendHistoryNodes.length;r++)a=n.data[r],o=this.spendHistoryNodes[this.spendHistoryNodes.length-(r+1)],this.upDateSpendNode(o,{sno:(r+1).toString(),auctionHouse:a.auction_house_name||"-",auctionId:a.auction_code||"-",xp:a.plays||"0"});if(n.data.length>this.spendHistoryNodes.length)for(s=this.spendHistoryNodes.length;s<n.data.length;s++)c=n.data[s],this.newSpendNode({sno:(s+1).toString(),auctionHouse:c.auction_house_name||"-",auctionId:c.auction_code||"-",xp:c.plays||"0"});e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.error("Error fetching user spend transactions:",e.t0);case 16:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),s.onTransferClicked=function(){var e=o(i().mark((function e(){var t,n,r,a,o,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setPanelActive(!1,!1,!0),this.transferParent.children.length<1&&(this.loadingNode.active=!0),e.prev=2,t=v.loginDataResponse.data.id,e.next=6,this.getUserTransferTransactions(t);case 6:for(n=e.sent,this.loadingNode.active=!1,n.data.length<=0?this.noDataFound.active=!0:this.noDataFound.active=!1,r=0;r<this.transferHistoryNodes.length;r++)a=n.data[r],o=this.transferHistoryNodes[this.transferHistoryNodes.length-(r+1)],this.upDateTransferNode(o,{sno:(r+1).toString(),date:a.created_at||"-",xp:a.plays||"0",address:a.user_name||"-",iscredited:a.is_credited});if(n.data.length>this.transferHistoryNodes.length)for(s=this.transferHistoryNodes.length;s<n.data.length;s++)c=n.data[s],this.newTransferNode({sno:(s+1).toString(),date:c.created_at||"-",xp:c.plays||"0",address:c.user_name||"-",iscredited:c.is_credited});e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.error("Error fetching user transfer transactions:",e.t0);case 16:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),s.newBuyNode=function(){var e=o(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=h(this.buyPrefab),this.buyParent.addChild(n),C(n.getChildByName("S. No.").getComponent(f),t.sno),r=ae(t.date),C(n.getChildByName("Date").getComponent(f),r,15),C(n.getChildByName("XP").getComponent(f),t.xp),C(n.getChildByName("Remarks").getComponent(f),t.remarks),this.buyHistoryNodes.unshift(n)}catch(e){console.error("Error creating buy history node",e)}case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.upDateBuyNode=function(){var e=o(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{C(t.getChildByName("S. No.").getComponent(f),n.sno),r=ae(n.date),C(t.getChildByName("Date").getComponent(f),r,15),C(t.getChildByName("XP").getComponent(f),n.xp),C(t.getChildByName("Remarks").getComponent(f),n.remarks)}catch(e){console.error("Error creating buy history node",e)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s.newSpendNode=function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=h(this.spendPrefab),this.spendParent.addChild(n),C(n.getChildByName("S. No.").getComponent(f),t.sno),C(n.getChildByName("auction House").getComponent(f),t.auctionHouse),C(n.getChildByName("Auction ID").getComponent(f),t.auctionId),C(n.getChildByName("XP").getComponent(f),t.xp),this.spendHistoryNodes.unshift(n)}catch(e){console.error("Error creating spend history node",e)}case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.upDateSpendNode=function(){var e=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{C(t.getChildByName("S. No.").getComponent(f),n.sno),C(t.getChildByName("auction House").getComponent(f),n.auctionHouse),C(t.getChildByName("Auction ID").getComponent(f),n.auctionId),C(t.getChildByName("XP").getComponent(f),n.xp)}catch(e){console.error("Error creating buy history node",e)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s.newTransferNode=function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=h(this.transferPrefab),this.transferParent.addChild(n),C(n.getChildByName("S. No.").getComponent(f),t.sno),C(n.getChildByName("Date").getComponent(f),ae(t.date),15),C(n.getChildByName("XP").getComponent(f),t.iscredited?"+"+t.xp:"-"+t.xp),t.iscredited?n.getChildByName("XP").getComponent(f).color=g.GREEN:n.getChildByName("XP").getComponent(f).color=g.RED,C(n.getChildByName("Address").getComponent(f),t.address),this.transferHistoryNodes.unshift(n)}catch(e){console.error("Error creating transfer history node",e)}case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.upDateTransferNode=function(){var e=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{C(t.getChildByName("S. No.").getComponent(f),n.sno),C(t.getChildByName("Date").getComponent(f),ae(n.date),15),C(t.getChildByName("XP").getComponent(f),(n.iscredited,""+n.xp)),n.iscredited?t.getChildByName("XP").getComponent(f).color=g.GREEN:t.getChildByName("XP").getComponent(f).color=g.RED,C(t.getChildByName("Address").getComponent(f),n.address)}catch(e){console.error("Error creating buy history node",e)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s.init=function(){this.setPanelActive(!0,!1,!1),this.onBuyClicked()},s.getBuyHistory=function(){return this.buyHistoryNodes},s.getSpendHistory=function(){return this.spendHistoryNodes},s.getTransferHistory=function(){return this.transferHistoryNodes},s.getUserSpendTransactions=function(){var e=o(i().mark((function e(t){var n,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b.TRANSACTION_HISTORY(t,"debit"),e.abrupt("return",new Promise(o(i().mark((function e(t,a){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.request(n,m.GET,null,!0);case 3:o=e.sent,console.log("Spend Transactions:",o),r.transactionSpendResponse=o,t(o),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Failed to fetch spend transactions:",e.t0),a(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.getUserBuyTransactions=function(){var e=o(i().mark((function e(t){var n,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b.TRANSACTION_HISTORY(t,"credit"),e.abrupt("return",new Promise(o(i().mark((function e(t,a){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.request(n,m.GET,null,!0);case 3:o=e.sent,console.log("Buy Transactions:",o),r.transactionBuyResponse=o,t(o),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Failed to fetch buy transactions:",e.t0),a(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.getUserTransferTransactions=function(){var e=o(i().mark((function e(t){var n,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b.TRANSACTION_HISTORY(t,"transfer"),e.abrupt("return",new Promise(o(i().mark((function e(t,a){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.request(n,m.GET,null,!0);case 3:o=e.sent,console.log("Buy Transactions:",o),r.transactionBuyResponse=o,t(o),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),r.showError(e.t0.message||"Failed to update profile. Try again."),a(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.showError=function(e){w.getDispatcher().emit(N.ERROR_MSG_NOTIFY,e||"")},t}(p)).prototype,"uiNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(O.prototype,"buyPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(O.prototype,"spendPrefab",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(O.prototype,"transferPrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(O.prototype,"buyParent",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(O.prototype,"spendParent",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(O.prototype,"transferParent",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(O.prototype,"buyPanel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(O.prototype,"spendPanel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(O.prototype,"transferPanel",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(O.prototype,"buyScroll",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(O.prototype,"spendScroll",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(O.prototype,"transferScroll",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(O.prototype,"loadingNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(O.prototype,"noDataFound",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=O))||X));function ae(e){var t=new Date(e);return String(t.getDate()).padStart(2,"0")+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]+" "+(t.getFullYear()-2e3)}s._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});