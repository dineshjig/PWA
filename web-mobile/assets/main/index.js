System.register("chunks:///_virtual/AllBidHistoryManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealGameModel.ts","./BigDealEvents.ts","./TextHighlightManager.ts","./IndexedDBManager.ts","./EventManager.ts","./APIManager.ts","./ApiUrls.ts","./BlockchainLogPrefab.ts"],(function(t){var i,e,n,o,a,r,s,l,u,c,h,d,p,g,m,b,f,v,B,y,C,M,P,N,w,L,k,S,x,A;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){s=t.cclegacy,l=t._decorator,u=t.Prefab,c=t.Node,h=t.ScrollView,d=t.Label,p=t.Toggle,g=t.instantiate,m=t.Color,b=t.UIOpacity,f=t.tween,v=t.Vec3,B=t.Component,y=t.log},function(t){C=t.BigDealGameModel},function(t){M=t.StaticProperties,P=t.BigDealEvents},function(t){N=t.TextHighlightManager},function(t){w=t.IndexedDBManager},function(t){L=t.default},function(t){k=t.APIManager,S=t.MethodType},function(t){x=t.API_URLS},function(t){A=t.BlockchainLog}],execute:function(){var H,_,I,z,T,D,U,E,R,q,O,K,V,F,G,J,j,Y,Q,W,X,Z,$,tt,it,et,nt,ot,at,rt,st,lt,ut,ct,ht,dt,pt,gt,mt,bt,ft,vt,Bt;t("applyHighlight",(function(t,i,e,n,o){void 0===e&&(e=8);void 0===n&&(n=3);void 0===o&&(o=3);if(!t||!t.node)return void console.warn("Invalid Label passed to applyHighlight");t.string=i;var a=t.node.getComponent(N);a||((a=t.node.addComponent(N)).maxLength=e);a.initr(i,n,o)})),s._RF.push({},"d09b9g+0VdE4acF9w7HDk08","AllBidHistoryManager",void 0);var yt=l.ccclass,Ct=l.property;t("AllBidHistoryManager",(H=yt("AllBidHistoryManager"),_=Ct(u),I=Ct(u),z=Ct(c),T=Ct(c),D=Ct(c),U=Ct(c),E=Ct(c),R=Ct(h),q=Ct(c),O=Ct(c),K=Ct(d),V=Ct(c),F=Ct(c),G=Ct(u),J=Ct(c),j=Ct(c),Y=Ct(c),Q=Ct(p),W=Ct(c),X=Ct(c),H((tt=i(($=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return i=t.call.apply(t,[this].concat(a))||this,n(i,"bidHistoryPrefab",tt,o(i)),n(i,"myBidHistoryPrefab",it,o(i)),n(i,"bidHistoryParent",et,o(i)),n(i,"myBidHistoryParent",nt,o(i)),n(i,"showMoreButton",ot,o(i)),n(i,"bgNode",at,o(i)),n(i,"mainPanel",rt,o(i)),n(i,"bidScoll",st,o(i)),n(i,"noBidsLabel",lt,o(i)),n(i,"noBidsLabel2",ut,o(i)),n(i,"ProductName",ct,o(i)),n(i,"no_Data_found",ht,o(i)),n(i,"Loading_",dt,o(i)),n(i,"blockchainLogPrefab",pt,o(i)),n(i,"blockchainLogParent",gt,o(i)),n(i,"blockchainLoghading",mt,o(i)),n(i,"blockchainScrollView",bt,o(i)),n(i,"toggle1",ft,o(i)),n(i,"getMoreButton",vt,o(i)),n(i,"getPrevButton",Bt,o(i)),i.isAnimating=!1,i.localKey="",i.bidMap=new Map,i.nodeMap=new Map,i.myBidNodeMap=new Map,i.allBidEntries=[],i.displayIndex=0,i.lastTransection=30,i.displayChunkSize=20,i.isOpen=!1,i.limit=20,i.currentPage=0,i.totalPage=0,i.isLoading=!1,i.allData=[],i.moreButtonComp=null,i.prevButtonComp=null,i.logNodes=[],i}e(i,t);var s=i.prototype;return s.init=function(){var t=a(r().mark((function t(){var i,e,n,o,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isAnimating&&!this.isOpen){t.next=3;break}return this.out(),t.abrupt("return");case 3:if(this.localKey=null==(i=C.auctionHouseListResponse)||null==(i=i.data[M.auctionIndex])?void 0:i.id,this.localKey){t.next=9;break}return y("Auction ID is not set, cannot initialize AllBidHistoryManager"),L.getDispatcher().emit(P.ERROR_MSG_NOTIFY,"Auction is not live right now!"),t.abrupt("return");case 9:return this.isOpen=!0,this.bidHistoryParent.removeAllChildren(),this.myBidHistoryParent.removeAllChildren(),this.nodeMap.clear(),this.bidMap.clear(),this.myBidNodeMap.clear(),o=null==(e=C.auctionHouseListResponse)||null==(e=e.data[M.auctionIndex])?void 0:e.products.title,"BNB Smart Chain Testnet"==(a=null==(n=C.auctionHouseListResponse)||null==(n=n.data[M.auctionIndex])?void 0:n.chain.name)?a="BNB":"Hedera Testnet"==a&&(a="Hedera"),this.ProductName.string=o+" ("+a+")",t.next=21,this.loadFromStorage();case 21:return this.allBidEntries=Array.from(this.bidMap.entries()),this.displayIndex=0,this.allBidEntries.length>0?this.noBidsLabel.active=!1:this.noBidsLabel.active=!0,this.renderNextChunk(),t.next=27,this.setMyBidsInit(this.localKey);case 27:this.toggle1.isChecked=!0,this.toglleButton(null,"1"),this.in();case 30:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.setMyBidsInit=function(){var t=a(r().mark((function t(i){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.localKey=null==(e=C.auctionHouseListResponse)||null==(e=e.data[M.auctionIndex])?void 0:e.id,this.localKey==i){t.next=3;break}return t.abrupt("return");case 3:return this.localKey=i,this.bidHistoryParent.removeAllChildren(),this.myBidHistoryParent.removeAllChildren(),this.nodeMap.clear(),this.bidMap.clear(),this.myBidNodeMap.clear(),t.next=11,this.loadFromStorage();case 11:this.allBidEntries=Array.from(this.bidMap.entries()),this.displayIndex=0,this.allBidEntries.length>0?this.noBidsLabel2.active=!1:this.noBidsLabel2.active=!0,this.renderNextChunk(),this.renderMyLast10Bids();case 16:case"end":return t.stop()}}),t,this)})));return function(i){return t.apply(this,arguments)}}(),s.addBid=function(t,i){var e=this.bidMap.has(t);this.bidMap.set(t,i),e?(this.updateNode(t,i),this.updateMyBidNode(t,i)):(this.noBidsLabel2.active=!1,this.createBidNode(t,i,this.nodeMap.size),this.createMyBidNode(t,i))},s.removeBid=function(t){if(console.log("this.bidMap befor AAAAA->"+this.bidMap.size),this.bidMap.get(t)){var i=this.bidMap.get(t);i&&(i.isUnique=!1,this.bidMap.set(t,i)),console.log("data remove data ",i),console.log("this.bidMap aaa AAAA ->"+this.bidMap.size),this.removeBidNode(t),this.removeMyBidNode(t),this.saveToStorage()}},s.loadFromStorage=function(){var t=a(r().mark((function t(){var i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!w.inst.getItem(this.localKey)){t.next=5;break}return t.next=3,w.inst.getItem(this.localKey);case 3:if(i=t.sent)try{this.bidMap=new Map(JSON.parse(i))}catch(t){console.error("Error parsing bid storage",t),this.bidMap.clear()}case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.saveToStorage=function(){w.inst.setItem(this.localKey,JSON.stringify(Array.from(this.bidMap.entries())))},s.getLengthBids=function(){return this.bidMap.size},s.createBidNode=function(t,i,e,n){var o,a,r;void 0===n&&(n=!0);var s=g(this.bidHistoryPrefab),l=null==(o=s.getChildByName("S. No."))?void 0:o.getComponent(d);l&&(l.string=(e+1).toString());var u=null==(a=s.getChildByName("Bid"))?void 0:a.getComponent(d);u&&(u.string=Number(i.bidPrice).toString(),u.color=i.isUnique?new m(0,255,0):new m(255,255,255));var c=null==(r=s.getChildByName("Time"))?void 0:r.getComponent(d);c&&(c.string=i.Time);var h=s.getChildByName("Unique");h&&h.children.length>=2&&(h.children[0].active=i.isUnique,h.children[1].active=!i.isUnique),this.bidHistoryParent.addChild(s),n&&s.setSiblingIndex(0),this.nodeMap.set(t,s)},s.updateNode=function(t,i){var e,n,o=this.nodeMap.get(t);if(o&&o.isValid){var a=null==(e=o.getChildByName("Bid"))?void 0:e.getComponent(d);a&&(a.string=Number(i.bidPrice).toString(),a.color=i.isUnique?new m(0,255,0):new m(255,255,255));var r=null==(n=o.getChildByName("Time"))?void 0:n.getComponent(d);r&&(r.string=i.Time);var s=o.getChildByName("Unique");s&&s.children.length>=2&&(s.children[0].active=i.isUnique,s.children[1].active=!i.isUnique)}},s.removeBidNode=function(t){var i=this.nodeMap.get(t);if(i){var e,n=null==(e=i.getChildByName("Bid"))?void 0:e.getComponent(d);n&&(n.color=new m(255,255,255))}},s.renderNextChunk=function(){var t,i=this,e=this.allBidEntries.length,n=!1;if(0===this.displayIndex){var o=Math.max(e-this.displayChunkSize,0),a=e;t=this.allBidEntries.slice(o,a),n=!0}else{var r=e-this.displayChunkSize-this.displayIndex,s=e-this.displayIndex;(t=this.allBidEntries.slice(Math.max(0,r),Math.max(0,s))).reverse(),n=!1}t.forEach((function(t,o){var a=t[0],r=t[1];i.nodeMap.has(a)||i.createBidNode(a,r,e-(i.displayIndex+o),n)})),this.displayIndex+=this.displayChunkSize,this.displayIndex>=e&&this.showMoreButton?this.showMoreButton.active=!1:this.showMoreButton.active=!0},s.createMyBidNode=function(t,i){var e,n=g(this.myBidHistoryPrefab),o=null==(e=n.getChildByName("Amount"))?void 0:e.getComponent(d);o&&(o.string=Number(i.bidPrice).toString(),o.color=i.isUnique?new m(0,255,0):new m(255,255,255)),this.myBidHistoryParent.insertChild(n,0),this.myBidNodeMap.set(t,n)},s.updateMyBidNode=function(t,i){var e,n=this.myBidNodeMap.get(t);if(n&&n.isValid){var o=null==(e=n.getChildByName("Amount"))?void 0:e.getComponent(d);o&&(o.string=Number(i.bidPrice).toString(),o.color=i.isUnique?new m(0,255,0):new m(255,255,255))}},s.removeMyBidNode=function(t){var i=this.myBidNodeMap.get(t);if(i){var e,n=null==(e=i.getChildByName("Amount"))?void 0:e.getComponent(d);n&&(n.color=new m(255,255,255))}},s.renderMyLast10Bids=function(){var t=this;this.myBidHistoryParent.removeAllChildren(),this.myBidNodeMap.clear(),this.allBidEntries.forEach((function(i){var e=i[0],n=i[1];t.createMyBidNode(e,n)}))},s.onShowMoreClicked=function(){this.renderNextChunk()},s.toglleButton=function(t,i){"1"===i?(this.blockchainScrollView.active=!1,this.bidScoll.node.active=!0,this.bidScoll.scrollToTop(0)):"2"===i&&(this.blockchainLogParent.removeAllChildren(),this.blockchainScrollView.active=!0,this.blockchainScrollView.getComponent(h).scrollToBottomLeft(0),this.bidScoll.node.active=!1,this.Loading_.active=!1,this.currentPage=0,this.totalPage=0,this.moreButtonComp&&this.moreButtonComp.destroy(),this.moreButtonComp=null,this.no_Data_found.active=!1,this.fetchUpBlockchainTransaction(),this.ScrollUpdate())},s.fetchUpBlockchainTransaction=function(){var t=a(r().mark((function t(i){var e,n,o,a,s;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===i&&(i=!0),!this.isLoading){t.next=3;break}return t.abrupt("return");case 3:return this.isLoading=!0,this.Loading_.active=!0,t.prev=5,n=null==(e=C.auctionHouseListResponse)||null==(e=e.data[M.auctionIndex])?void 0:e.id,o=""+x.BLOCKCHAIN_TRANSACTION+n+"?limit="+this.limit+"&page="+this.currentPage,t.next=10,k.request(o,S.GET);case 10:a=t.sent,i&&(this.allData.length=0),this.totalPage=a.metadata.totalPage?a.metadata.totalPage:0,a&&a.success&&a.data?(s=a.data,i&&0===s.length?this.no_Data_found.active=!0:this.no_Data_found.active=!1,this.allData=s,this.updateLogs(s,i),s.length<this.limit?this.setMoreButtonState(!1):this.setMoreButtonState(!0)):(i&&(this.no_Data_found.active=!0),this.setMoreButtonState(!1)),t.next=21;break;case 16:t.prev=16,t.t0=t.catch(5),console.error("Error fetching blockchain transactions:",t.t0),i&&(this.no_Data_found.active=!0),this.setMoreButtonState(!1);case 21:return t.prev=21,this.isLoading=!1,this.Loading_.active=!1,t.finish(21);case 25:case"end":return t.stop()}}),t,this,[[5,16,21,25]])})));return function(i){return t.apply(this,arguments)}}(),s.updateLogs=function(t,i){this.blockchainLogParent.removeAllChildren(),this.logNodes.length=0,this.prevButtonComp=null;for(var e=0;e<t.length;e++){var n=t[e],o=g(this.blockchainLogPrefab);this.blockchainLogParent.addChild(o);var a=o.getComponent(A);a&&a.init(n.bid_number,n),this.logNodes.push(o)}this.blockchainScrollView.getComponent(h).scrollToTopLeft(0)},s.onMoreButtonClick=function(){this.isLoading||(this.currentPage+=1,this.moreButtonComp.destroy(),this.moreButtonComp=null,this.fetchUpBlockchainTransaction(!1))},s.onBeforButtonClick=function(){this.isLoading||(this.currentPage-=1,this.moreButtonComp.destroy(),this.moreButtonComp=null,this.fetchUpBlockchainTransaction(!1))},s.setBlockchainData=function(t,i){var e,n,o;if(void 0===i&&(i=!0),!t||!t.success)return i&&(this.no_Data_found.active=!0),void this.setMoreButtonState(!1);var a=t.data||[];i&&(this.allData.length=0,this.currentPage=0),(e=this.allData).push.apply(e,a),this.updateLogs(a,i),i&&0===a.length?this.no_Data_found.active=!0:this.no_Data_found.active=!1;var r=null!=(n=null==(o=t.metadata)?void 0:o.limit)?n:this.limit;a.length<r?this.setMoreButtonState(!1):this.setMoreButtonState(!0)},s.setMoreButtonState=function(t){var i=this,e=this.currentPage<this.totalPage-1;if(!this.moreButtonComp&&e){var n=g(this.getMoreButton);this.blockchainLogParent.addChild(n),this.moreButtonComp=n,this.moreButtonComp.on("touch-end",(function(){return i.onMoreButtonClick()}),this)}if(this.moreButtonComp&&!e&&(this.moreButtonComp.destroy(),this.moreButtonComp=null),this.moreButtonComp){var o=this.moreButtonComp.getComponent(b);o&&(o.opacity=t?255:120),this.moreButtonComp.active=e&&t}var a=this.currentPage>0;if(!this.prevButtonComp&&a){var r=g(this.getPrevButton);this.blockchainLogParent.addChild(r),r.setSiblingIndex(0),this.prevButtonComp=r,this.prevButtonComp.on("touch-end",(function(){return i.onBeforButtonClick()}),this)}if(this.prevButtonComp&&!a&&(this.prevButtonComp.destroy(),this.prevButtonComp=null),this.prevButtonComp){var s=this.prevButtonComp.getComponent(b);s&&(s.opacity=a?255:120),this.prevButtonComp.active=a}},s.in=function(){if(!this.isAnimating&&this.mainPanel&&this.bgNode){this.isAnimating=!0,this.mainPanel.active=!0,this.mainPanel.setPosition(0,-2e3,0),this.bidScoll.scrollToTop(.1);var t=this.bgNode.getComponent(b);t&&(t.opacity=0,this.bgNode.active=!0,f(t).to(.3,{opacity:180}).start()),f(this.mainPanel).to(.3,{position:new v(0,0,0)}).call((function(){})).start()}},s.ScrollUpdate=function(){var t=this.blockchainLogParent.getPosition();this.blockchainLoghading.setPosition(t.x,0)},s.out=function(){var t=this;if(this.isOpen&&this.isAnimating&&this.mainPanel&&this.bgNode){this.isAnimating=!1;var i=this.bgNode.getComponent(b);i&&f(i).to(.3,{opacity:0}).call((function(){t.bgNode.active=!1})).start(),f(this.mainPanel).to(.3,{position:new v(0,-2e3,0)}).call((function(){t.mainPanel.active=!1,t.isOpen=!1})).start()}},i}(B)).prototype,"bidHistoryPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=i($.prototype,"myBidHistoryPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=i($.prototype,"bidHistoryParent",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=i($.prototype,"myBidHistoryParent",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=i($.prototype,"showMoreButton",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=i($.prototype,"bgNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=i($.prototype,"mainPanel",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=i($.prototype,"bidScoll",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=i($.prototype,"noBidsLabel",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=i($.prototype,"noBidsLabel2",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=i($.prototype,"ProductName",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=i($.prototype,"no_Data_found",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=i($.prototype,"Loading_",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=i($.prototype,"blockchainLogPrefab",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=i($.prototype,"blockchainLogParent",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=i($.prototype,"blockchainLoghading",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=i($.prototype,"blockchainScrollView",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=i($.prototype,"toggle1",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=i($.prototype,"getMoreButton",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=i($.prototype,"getPrevButton",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=$))||Z));s._RF.pop()}}}));

System.register("chunks:///_virtual/APIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ErrorHandler.ts","./BigDealEvents.ts","./CookieUtils.ts","./BigDealSocketManager.ts","./BigDealGameModel.ts","./EventManager.ts","./IndexedDBManager.ts"],(function(e){var r,t,n,a,s,o,c,i,u,l,p,f,g;return{setters:[function(e){r=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){n=e.cclegacy,a=e.Tween},function(e){s=e.ErrorHandler},function(e){o=e.CookieKey,c=e.StaticProperties,i=e.BigDealEvents},function(e){u=e.CookieUtils},function(e){l=e.BigDealSocketManager},function(e){p=e.BigDealGameModel},function(e){f=e.default},function(e){g=e.IndexedDBManager}],execute:function(){e({getPlayarToken:k,getRefreshToken:S,logoutUser:m,refreshAccessToken:v,resetStaticProperties:R,setAccessToken:T}),n._RF.push({},"0ad70Z+091JKokrXUrrfuXD","APIManager",void 0);e("MethodType",{GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",PATCH:"PATCH"});var d=window.location.host,h="https://api.auctionx.dev/";d.includes("auctionx.dev")?h="https://api.auctionx.dev/":d.includes("auctionx.live")&&(h="https://api.auctionx.live/");var E=e("isJson",(function(e){try{JSON.parse(e)}catch(e){return!1}return!0}));function k(){return localStorage.getItem("accessToken")||u.getCookie(o.ACCESS_TOKEN)}function S(){return localStorage.getItem("refreshToken")||u.getCookie(o.REFRESH_TOKEN)}function T(e){localStorage.setItem("accessToken",e),u.setCookie(o.ACCESS_TOKEN,e,30),g.inst.setItem(o.ACCESS_TOKEN,e)}function m(){return x.apply(this,arguments)}function x(){return(x=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.getDispatcher().emit(i.IS_LOADER_ON),e.next=3,localStorage.removeItem("accessToken");case 3:return e.next=5,localStorage.removeItem("PlayerLoginObj");case 5:return e.next=7,localStorage.removeItem("PLAYER_BIDS_INFO");case 7:return localStorage.clear(),e.next=10,u.clearAllCookies();case 10:return R(),e.next=13,a.stopAll();case 13:return e.next=15,l.clearInstance();case 15:return g.inst.clear(),e.next=18,p.setallData();case 18:f.getDispatcher().emit(i.LOGOUT_ONDISCONNECTCLICK),f.getDispatcher().emit(i.IS_LOADER_OFF);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return y.apply(this,arguments)}function y(){return(y=r(t().mark((function e(){var r,n,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=S()){e.next=3;break}return e.abrupt("return",!1);case 3:return e.prev=3,k(),e.next=7,fetch(h+"v1/user/refresh-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:r})});case 7:if((n=e.sent).ok){e.next=10;break}return e.abrupt("return",!1);case 10:return e.next=12,n.json();case 12:if(null==(a=e.sent)||!a.accessToken){e.next=17;break}return T(a.accessToken),console.log("Token refreshed successfully"),e.abrupt("return",!0);case 17:return e.abrupt("return",!1);case 20:return e.prev=20,e.t0=e.catch(3),console.error("Token refresh failed",e.t0),e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e,null,[[3,20]])})))).apply(this,arguments)}e("APIManager",function(){function e(){}return e.request=function(){var n=r(t().mark((function n(a,o,c,i,u,l){var p,f,g;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===c&&(c=null),void 0===i&&(i=!1),void 0===u&&(u=!0),void 0===l&&(l=!0),n.prev=4,a){n.next=7;break}throw new Error("API name is required");case 7:if(p=h+a,console.log("Requesting:",p),(f=new XMLHttpRequest).open(o,p,!0),u&&f.setRequestHeader("Content-Type","application/json"),f.setRequestHeader("accept","application/json"),f.setRequestHeader("Vary","Origin"),f.setRequestHeader("Vary","Access-Control-Request-Method"),f.setRequestHeader("Vary","Access-Control-Request-Headers"),f.setRequestHeader("Strict-Transport-Security","max-age=15724800; includeSubDomains"),!i){n.next=25;break}if(!(g=k())){n.next=23;break}f.setRequestHeader("Authorization","Bearer "+g),n.next=25;break;case 23:return console.error("Authorization is null"),n.abrupt("return");case 25:return n.next=27,new Promise((function(n,p){f.onreadystatechange=r(t().mark((function r(){var g,d,h,k,S,T;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(4!==f.readyState){r.next=38;break}if(r.prev=1,g=f.responseText,d=f.status>=200&&f.status<300,401!==f.status||!i||!l){r.next=29;break}return console.warn("401 Unauthorized. Trying to refresh token..."),r.next=8,v();case 8:if(!r.sent){r.next=24;break}return console.log("Retrying request after token refresh..."),r.prev=11,r.next=14,e.request(a,o,c,i,u,!1);case 14:h=r.sent,n(h),r.next=21;break;case 18:r.prev=18,r.t0=r.catch(11),p(r.t0);case 21:return r.abrupt("return");case 24:return m(),k={code:401,message:"Session expired. Please log in again."},e.showApiError(k),p(k),r.abrupt("return");case 29:g&&E(g)?(S=JSON.parse(g),d?n(S):(e.showApiError(S),p(S))):d?n(g):(e.showApiError(g),p(g)),d||new s({ErrorCodeData:{code:f.status,message:g},ErrorType:a}).showErrorPopup(),r.next=38;break;case 33:r.prev=33,r.t1=r.catch(1),T={code:f.status,message:"Parsing failed",details:r.t1},e.showApiError(T),p(T);case 38:case"end":return r.stop()}}),r,null,[[1,33],[11,18]])}))),null!=c?f.send(JSON.stringify(c)):f.send()}));case 27:return n.abrupt("return",n.sent);case 30:return n.prev=30,n.t0=n.catch(4),e.showApiError(n.t0),new s({ErrorCodeData:{code:0,message:n.t0 instanceof Error?n.t0.message:String(n.t0)},ErrorType:a}).showErrorPopup(),n.abrupt("return",Promise.reject(n.t0));case 36:case"end":return n.stop()}}),n,null,[[4,30]])})));return function(e,r,t,a,s,o){return n.apply(this,arguments)}}(),e.getBaseUrl=function(){return h},e.showApiSuccess=function(e){console.log("âœ… SUCCESS: "+e),f.getDispatcher().emit(i.ERROR_MSG_NOTIFY,e)},e.showApiError=function(e){var r="Something went wrong. Please try again.";null!=e&&e.message?r=e.message:"string"==typeof e?r=e:null!=e&&e.code&&(r="Error Code "+e.code),console.error("âŒ ERROR: "+r),f.getDispatcher().emit(i.ERROR_MSG_NOTIFY,r)},e}());function R(){c.isLogin=!1,c.hostname="",c.apiBaseURL="",c.publicKeyPem="",c.is_verified=!1,c.auctionIndex=0,c.isBidPlaced=!0,c.is_Decimal_Count=1,c.is_MinPrice=.1}n._RF.pop()}}}));

System.register("chunks:///_virtual/ApiUrls.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"6fa1ef6WetOj6Rjs46ccHjh","ApiUrls",void 0);t("API_URLS",{LOGIN:"v2/user/login",SEND_OTP:"v2/user/send-otp",SEND_OTP_FOR_SHIPPING:"v2/user/send-otp-for-shipping",REGISTRATION:"v1/user/",AUCTION_HOUSE:"v1/auction-house/auction-house-id?subdomain=",WALLET_BALANCE:"v1/user/wallet/balance/",UPLOAD_IMAGE:"v1/media/multiple",AUCTION_LIST:"v1/auction-house/auction/list",SHIPPING_INFO_emai_vrf:"v1/shipping-info",SHIPPING_INFO:"v1/shipping-info/product-payment",LOGOUT:"v1/user/logout",UNIQUE_BIDS:"v1/auction/unique-bids/",TRANSFER:"ransfer/plays",PIN_TOGGLE:"v1/auction/pin-toggle/",SEND_OTP_XP_TRANSFER:"v1/user/send-otp-xptransfer",VERIFY_OTP_XP_TRANSFER:"v1/user/verify-otp-xptransfer",AUCTION_HOUSE_CONFIGS:"v1/auction-house/",TRANSACTION_HISTORY:"v1/user/player-transaction/",DELIVERY_STATUS:"v1/auction/update-delivery-status",COUNTRY_DETAILS:"v1/location/countries/list",VERIFY_DELIVERY_STATUS:"v1/auction/verify-delivery-status",BLOCKBOLT_PAYMENT:"v1/transaction/blockbolt-payment",UPCOMING_AUCTION:"v1/auction/upcoming-auction?auction_house_id=",BLOCKCHAIN_TRANSACTION:"v1/auction/blockchain-transaction/",PRODUCT_DELIVERY_CONFLICT:"v1/product-delivery-conflict",DAILY_BONUS_GET:"v1/user/claim-reward/get?userId=",DAILY_BONUS_CLAIM:"v1/user/claim-reward",FOLLOW_STATUS:"v1/x/follow-status",X_AUTH_URL:"v1/x/auth-url",X_CALLBACK:"v1/x/callback"});e._RF.pop()}}}));

System.register("chunks:///_virtual/AuctionListManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AuctionManager.ts","./BigDealGameModel.ts","./PlayerKeyboardHandler.ts","./SocketEventHandler.ts","./GamePlay.ts","./EventManager.ts","./DetailsPanelManager.ts","./BigDealEvents.ts","./CookieUtils.ts","./ApiUrls.ts","./APIManager.ts"],(function(e){var t,n,a,i,o,r,c,s,u,l,g,h,d,p,f,m,A,b,v,M,P,y,I,k,L,w,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){c=e.cclegacy,s=e._decorator,u=e.Prefab,l=e.Node,g=e.Label,h=e.instantiate,d=e.Component},function(e){p=e.AuctionManager},function(e){f=e.BigDealGameModel},function(e){m=e.PlayerKeyboardHandler},function(e){A=e.SocketEventHandler},function(e){b=e.GamePlay},function(e){v=e.default},function(e){M=e.DetailsPanelManager},function(e){P=e.BigDealEvents,y=e.StaticProperties,I=e.CookieKey},function(e){k=e.CookieUtils},function(e){L=e.API_URLS},function(e){w=e.APIManager,N=e.MethodType}],execute:function(){var x,C,E,H,S,T,_,z,B,D,G,K,R,O,U,F,j,q,X,Z,J;c._RF.push({},"cee92rwc91Lhaj+ehnZx3MX","AuctionListManager",void 0);var Q=s.ccclass,V=s.property;e("AuctionListManager",(x=Q("AuctionListManager"),C=V(u),E=V(l),H=V(m),S=V(A),T=V(M),_=V(b),z=V(g),B=V(l),D=V(l),x((R=t((K=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,a(t,"AuctionManager",R,i(t)),a(t,"AuctionManagerParent",O,i(t)),a(t,"playerKeyboardHandler",U,i(t)),a(t,"socketEventHandler",F,i(t)),a(t,"detailsPanel",j,i(t)),a(t,"gameManager",q,i(t)),a(t,"bidPriceLabel",X,i(t)),a(t,"comingSoonPage",Z,i(t)),a(t,"moreButtonNode",J,i(t)),t.moreInstance=null,t.auctionLimit=20,t.auctionPage=0,t.auctionTotalPage=0,t.AuctionManagerNodes=[],t.saveAuctionId=[],t}n(t,e);var c=t.prototype;return c.start=function(){var e=v.getDispatcher();e.on("onAuctionState:new:auction",this.AddNewAuction,this),e.on(P.ON_AUCTION_COMPLETE,this.removeAuction,this)},c.getAuctionHouseList=function(){var e=o(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadAuctionPage(0);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.initFromGameFlow=function(){var e=o(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null==(t=f.auctionHouseListResponse)||t.data,this.auctionPage=0,this.auctionTotalPage=0,this.saveAuctionId=[],this.AuctionManagerNodes.forEach((function(e){return e.destroy()})),this.AuctionManagerNodes=[],this.moreInstance&&(this.moreInstance.off("click"),this.moreInstance.destroy(),this.moreInstance=null),e.next=10,this.loadAuctionPage(this.auctionPage);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error in AuctionListManager:",e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),c.loadAuctionPage=function(){var e=o(r().mark((function e(t){var n,a,i,o,c,s,u,l,g,d,m;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=null==(n=f.auctionHouseResponse)||null==(n=n.data)||null==(n=n.currentAuctionHouse)?void 0:n.id,i=k.getCookie(I.ACCESS_TOKEN)?k.getCookie(I.ACCESS_TOKEN):localStorage.getItem("accessToken"),o=!!i,c=L.AUCTION_LIST+"?limit="+this.auctionLimit+"&page="+t+"&state=live&auction_house_id="+a,e.next=7,w.request(c,N.GET,null,o);case 7:s=e.sent,f.auctionHouseListResponse=s,this.auctionTotalPage=s.metadata.totalPage,u=(null==s?void 0:s.data)||[],l=0;case 12:if(!(l<u.length)){e.next=25;break}if(g=u[l],!this.saveAuctionId.includes(g.id)){e.next=16;break}return e.abrupt("continue",22);case 16:d=h(this.AuctionManager),this.AuctionManagerParent.addChild(d),d.getComponent(p).init(g,l,this.playerKeyboardHandler,this.socketEventHandler,this.gameManager,this.bidPriceLabel),this.AuctionManagerNodes.unshift(d),this.saveAuctionId.push(g.id);case 22:l++,e.next=12;break;case 25:this.auctionPage+1<this.auctionTotalPage||u.length===this.auctionLimit?this.createMoreButton():this.moreInstance&&(this.moreInstance.off("click"),this.moreInstance.destroy(),this.moreInstance=null),y.is_insideGame&&(m=y.auctionIndex)>=0&&m<this.AuctionManagerNodes.length&&this.AuctionManagerNodes[0].getComponent(p).onGamePLay(),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),console.error("Error loading auction page",e.t0);case 32:case"end":return e.stop()}}),e,this,[[0,29]])})));return function(t){return e.apply(this,arguments)}}(),c.createMoreButton=function(){var e=this;this.moreInstance||this.moreButtonNode&&(this.moreInstance=h(this.moreButtonNode),this.AuctionManagerParent.addChild(this.moreInstance),this.moreInstance.active=!0,this.moreInstance.on("click",o(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.moreInstance.active=!1,e.auctionPage+=1,t.next=4,e.loadAuctionPage(e.auctionPage);case 4:e.moreInstance&&(e.moreInstance.active=!0);case 5:case"end":return t.stop()}}),t)}))),this))},c.AddNewAuction=function(){var e=o(r().mark((function e(t){var n,a,i,o,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,console.log("getAuctionHouseListData",t),a=null==(n=f.auctionHouseListResponse)?void 0:n.data,i=0;case 4:if(!(i<a.length)){e.next=13;break}if(o=a[i],console.log("AuctionListManager",o),!this.saveAuctionId.includes(o.id)){e.next=9;break}return e.abrupt("continue",10);case 9:t==o.id&&(c=h(this.AuctionManager),this.AuctionManagerParent.addChild(c),c.getComponent(p).init(o,i,this.playerKeyboardHandler,this.socketEventHandler,this.gameManager,this.bidPriceLabel),this.AuctionManagerNodes.unshift(c),this.saveAuctionId.push(o.id));case 10:i++,e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Error in AuctionListManager:",e.t0);case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),c.removeAuction=function(e){var t=this;if(0!==this.AuctionManagerNodes.length){var n=!1;this.AuctionManagerNodes.forEach((function(a,i){var o=a.getComponent(p);o.getAuctionid()===e?(a.destroy(),t.AuctionManagerNodes.splice(i,1)):n||(n=!0,o.onSelect())})),0===this.AuctionManagerNodes.length&&!1===n?(this.comingSoonPage.active=!0,f.auctionHouseListResponse=null):this.AuctionManagerNodes[0].getComponent(p).onSelect()}},t}(d)).prototype,"AuctionManager",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(K.prototype,"AuctionManagerParent",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(K.prototype,"playerKeyboardHandler",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(K.prototype,"socketEventHandler",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(K.prototype,"detailsPanel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(K.prototype,"gameManager",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(K.prototype,"bidPriceLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(K.prototype,"comingSoonPage",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(K.prototype,"moreButtonNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=K))||G));c._RF.pop()}}}));

System.register("chunks:///_virtual/AuctionManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./BigDealEvents.ts","./BigDealGameModel.ts","./BidStorageManager.ts","./MyAudioManager.ts","./ApiUrls.ts","./APIManager.ts","./IndexedDBManager.ts","./LanguageManager.ts"],(function(e){var i,t,n,r,a,o,l,s,u,c,d,h,b,g,p,m,f,v,M,y,N,P,L,_,S,B,I,E,w,C,x,A,D,R,H;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,u=e.Node,c=e.Label,d=e.ProgressBar,h=e.Slider,b=e.Button,g=e.SpriteFrame,p=e.Sprite,m=e.ScrollView,f=e.Prefab,v=e.ParticleSystem2D,M=e.color,y=e.Color,N=e.tween,P=e.instantiate,L=e.Component},function(e){_=e.default},function(e){S=e.BigDealEvents,B=e.StaticProperties,I=e.BigDealClientEvents},function(e){E=e.BigDealGameModel},function(e){w=e.BidStorageManager},function(e){C=e.MyAudioManager},function(e){x=e.API_URLS},function(e){A=e.APIManager,D=e.MethodType},function(e){R=e.IndexedDBManager},function(e){H=e.LanguageManager}],execute:function(){var T,z,U,q,k,O,G,F,K,X,V,W,Y,j,Z,J,Q,$,ee,ie,te,ne,re,ae,oe,le,se,ue,ce,de,he,be,ge,pe,me,fe,ve,Me,ye,Ne,Pe,Le,_e,Se,Be,Ie,Ee,we,Ce,xe,Ae,De,Re,He,Te;e("getCurrentTime",ke),l._RF.push({},"a81fe4wKZZAiqxgXMjcEskb","AuctionManager",void 0);var ze=s.ccclass,Ue=s.property,qe=e("ChainType",function(e){return e[e.Skale=1]="Skale",e[e.BSC=2]="BSC",e[e.Hedera=3]="Hedera",e}({}));e("AuctionManager",(T=ze("AuctionManager"),z=Ue(u),U=Ue(u),q=Ue(c),k=Ue(c),O=Ue(c),G=Ue(c),F=Ue(c),K=Ue(u),X=Ue(u),V=Ue(d),W=Ue(h),Y=Ue(c),j=Ue(u),Z=Ue(u),J=Ue(b),Q=Ue(b),$=Ue(b),ee=Ue(g),ie=Ue(g),te=Ue(p),ne=Ue(p),re=Ue(m),ae=Ue(u),oe=Ue(f),le=Ue(v),se=Ue({type:[u]}),T((de=i((ce=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return i=e.call.apply(e,[this].concat(a))||this,n(i,"onDisableNode",de,r(i)),n(i,"onEnableNode",he,r(i)),n(i,"userNameLabel",be,r(i)),n(i,"winAmountLabel",ge,r(i)),n(i,"bidPriceLabel",pe,r(i)),n(i,"uniqueLabel",me,r(i)),n(i,"msgLabel",fe,r(i)),n(i,"thombNode",ve,r(i)),n(i,"emogiNode",Me,r(i)),n(i,"progressBar",ye,r(i)),n(i,"slider",Ne,r(i)),n(i,"percentageLabel",Pe,r(i)),n(i,"setPinNode",Le,r(i)),n(i,"isPinNode",_e,r(i)),n(i,"selectButton",Se,r(i)),n(i,"openAuction",Be,r(i)),n(i,"placeBids",Ie,r(i)),n(i,"thombNodeImage",Ee,r(i)),n(i,"emogiNodeImage",we,r(i)),n(i,"bidProgressM1",Ce,r(i)),n(i,"bidProgressM2",xe,r(i)),n(i,"historyScrollView",Ae,r(i)),n(i,"historyParent",De,r(i)),n(i,"bidHistoryPrefab",Re,r(i)),n(i,"particleSystem2D",He,r(i)),n(i,"chainNode",Te,r(i)),i.playerKeyboardHandler=null,i.socketEventHandler=null,i.bidStorageManager=null,i.gameManager=null,i.bidMap=new Map,i.allBidEntries=[],i.isPinned=!1,i.currentNumber=0,i.auctionId=null,i.auctionIndex=0,i.isUniquebidPrice=0,i}t(i,e);var l=i.prototype;return l.start=function(){_.getDispatcher().on(S.AUCTION_SELECTION,this.onUnselect,this),this.onEvents(),console.warn("on action satart")},l.onEnable=function(){var e;this.auctionId==(null==(e=E.auctionHouseListResponse)||null==(e=e.data[B.auctionIndex])?void 0:e.id)&&(this.playerKeyboardHandler.selectAuctionLabel(this.bidPriceLabel),this.socketEventHandler.selectAuctionLabel(this.bidPriceLabel))},l.onDestroy=function(){this.onEventsOff()},l.onEvents=function(){console.warn("on action event");var e=_.getDispatcher();e.on(I.CLS_AUCTION_MIN_MAX_PERCENTAGE,this.onAuctionMinMaxPercentage,this),e.on(I.CLS_MIN_MAX_BID_CANCEL,this.onMinMaxCancelBid,this),e.on(S.SET_BID_HISTORY,this.onMinMaxRecentBid,this)},l.onEventsOff=function(){var e=_.getDispatcher();e.off(I.CLS_AUCTION_MIN_MAX_PERCENTAGE,this.onAuctionMinMaxPercentage,this),e.off(I.CLS_MIN_MAX_BID_CANCEL,this.onMinMaxCancelBid,this),e.off(S.SET_BID_HISTORY,this.onMinMaxRecentBid,this)},l.onSelect=function(){var e;console.log("onSelect"),B.auctionIndex=this.auctionIndex,this.userNameLabel.color=M("#FF9CFB"),this.winAmountLabel.color=y.WHITE,""==this.msgLabel.string?(this.uniqueLabel.color=y.WHITE,this.msgLabel.color=y.WHITE):"Wow!"==this.msgLabel.string?(this.uniqueLabel.color=y.GREEN,this.msgLabel.color=y.GREEN):(this.uniqueLabel.color=y.RED,this.msgLabel.color=y.RED),this.thombNode.getComponent(p).grayscale=!1,this.emogiNode.getComponent(p).grayscale=!1,B.is_Decimal_Count=(null==(e=E.auctionHouseListResponse)||null==(e=e.data[B.auctionIndex])?void 0:e.decimal_count)||1,B.is_MinPrice=1/Math.pow(10,B.is_Decimal_Count),console.log("StaticProperties.is_MinPrice",B.is_MinPrice,B.is_Decimal_Count),this.onEnableNode.active=!0,this.onDisableNode.active=!1,this.playerKeyboardHandler.selectAuctionLabel(this.bidPriceLabel),this.socketEventHandler.selectAuctionLabel(this.bidPriceLabel),this.selectButton.interactable=!1,this.selectButton.node.active=!1,this.openAuction.interactable=!0,this.placeBids.interactable=!0,this.historyScrollView.enabled=!0,_.getDispatcher().emit(S.AUCTION_SELECTION,this.auctionId),_.getDispatcher().emit(S.ON_SELECT_AUCTION)},l.enterBid=function(){this.isUniquebidPrice=Number(this.bidPriceLabel.string),this.playerKeyboardHandler.onDone(),this.socketEventHandler.onEnterBid()},l.onUnselect=function(e){var i,t;if(e!=this.auctionId){this.userNameLabel.color=M(147,149,152),this.winAmountLabel.color=M(147,149,152),this.uniqueLabel.color=M(147,149,152),this.msgLabel.color=M(147,149,152),this.thombNode.getComponent(p).grayscale=!0,this.emogiNode.getComponent(p).grayscale=!0,this.onEnableNode.active=!1,this.onDisableNode.active=!0,this.selectButton.interactable=!0,this.selectButton.node.active=!0,this.openAuction.interactable=!1,this.placeBids.interactable=!1;var n=null==(i=E.auctionHouseListResponse)||null==(i=i.data[B.auctionIndex])?void 0:i.min_bid_price,r=null==(t=E.auctionHouseListResponse)||null==(t=t.data[B.auctionIndex])?void 0:t.max_bid_price,a=H.instance.t("Enter_Between")+" "+(n+B.is_MinPrice)+" - "+(r-B.is_MinPrice);this.bidPriceLabel.string=a,this.historyScrollView.scrollToLeft(0),this.historyScrollView.enabled=!1}},l.resetParticle=function(){this.particleSystem2D.forEach((function(e){e.resetSystem()}))},l.onGamePLay=function(){var e=a(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B.auctionIndex=this.auctionIndex,this.gameManager.isOnGame(),B.is_insideGame=!0;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.onPinSet=function(){if(!B.isLogin)return console.log("please login to pin or unpin the auction"),void _.getDispatcher().emit(S.ERROR_MSG_NOTIFY,"please login to pin or unpin the auction");this.isPinned=!1,this.setPinNode.active=!0,this.isPinNode.active=!1,this.node.setSiblingIndex(0),this.setPinUnpin(!0)},l.onPinUnset=function(){if(!B.isLogin)return console.log("please login to pin or unpin the auction"),void _.getDispatcher().emit(S.ERROR_MSG_NOTIFY,"please login to pin or unpin the auction");this.isPinned=!0,this.setPinNode.active=!1,this.isPinNode.active=!0;var e=this.node.parent.children.length-1;this.node.setSiblingIndex(e),this.setPinUnpin(!1)},l.setPinUnpin=function(){var e=a(o().mark((function e(i){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={is_pinned:i},n=""+x.PIN_TOGGLE+this.auctionId,e.next=5,A.request(n,D.POST,t,!0);case 5:e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),console.error("setPinUnpin failed:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(i){return e.apply(this,arguments)}}(),l.getAuctionid=function(){return this.auctionId},l.init=function(){var e=a(o().mark((function e(i,t,n,r,a,l){var s,u,c,d,h,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.userNameLabel.string=i.products.title.toString()||"",d=null==(s=E.auctionHouseListResponse)||null==(s=s.data[t])?void 0:s.plays_consumed_on_bid,this.winAmountLabel.string=(null==i||null==(u=i.products)||null==(u=u.price)?void 0:u.toString())+" XP  |  "+d.toFixed(0)+"XP",this.bidPriceLabel=l,this.auctionId=i.id,this.auctionIndex=t,this.playerKeyboardHandler=n,this.socketEventHandler=r,this.gameManager=a,this.setChainIcon(t),B.is_Decimal_Count=(null==(c=E.auctionHouseListResponse)||null==(c=c.data[B.auctionIndex])?void 0:c.decimal_count)||1,B.is_MinPrice=1/Math.pow(10,B.is_Decimal_Count),console.log("StaticProperties.is_MinPrice",B.is_MinPrice,B.is_Decimal_Count),this.bidStorageManager=new w(this.auctionId),e.next=16,this.bidStorageManager.init();case 16:return h=this.bidStorageManager.getUniqueBidCount(),b=H.instance.t("unique"),this.uniqueLabel.string=b+" ("+h+")",i.is_pinned&&(this.isPinned=!1,this.setPinNode.active=!0,this.isPinNode.active=!1),this.onEnable(),t===B.auctionIndex?this.onSelect():this.onUnselect(""),e.prev=22,e.next=25,this.loadFromStorage();case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(22),console.error("Error loading bids from storage:",e.t0);case 30:this.allBidEntries=Array.from(this.bidMap.entries()),this.renderMyBids();case 32:case"end":return e.stop()}}),e,this,[[22,27]])})));return function(i,t,n,r,a,o){return e.apply(this,arguments)}}(),l.setChainIcon=function(e){var i,t;this.chainNode&&this.chainNode.length>0&&this.chainNode.forEach((function(e){return e.active=!1}));var n=(null==(i=E.auctionHouseListResponse)||null==(i=i.data)||null==(i=i[e])||null==(i=i.chain)?void 0:i.explorer_url)||"",r=(null==(t=E.auctionHouseListResponse)||null==(t=t.data)||null==(t=t[e])||null==(t=t.chain)?void 0:t.name)||"",a=null;if(n.includes("skalenodes.com")||"SKALE"==r?(a=qe.Skale,console.log("ðŸŸ¢ Skale network detected")):n.includes("bscscan.com")||"BNB Smart Chain Testnet"==r?(a=qe.BSC,console.log("ðŸŸ¡ BSC network detected")):n.includes("hashscan.io")||"Hedera Testnet"==r?(a=qe.Hedera,console.log("ðŸ”µ Hedera network detected")):console.log("âšª Unknown explorer URL"),a&&this.chainNode&&this.chainNode.length>=3){var o=a-1,l=this.chainNode[o];l&&(l.active=!0)}},l.animateBidPercentage=function(e,i){this.currentNumber=e,N({value:e}).delay(.286).to((i-e)/50,{value:i},{onUpdate:this.updateBidPercentageLabel.bind(this)}).start()},l.updateBidPercentageLabel=function(e){var i,t;this.currentNumber=Math.floor(e.value),null!=(i=this.slider)&&i.progress&&(this.slider.progress=this.currentNumber/100),null!=(t=this.progressBar)&&t.progress&&(this.progressBar.progress=this.currentNumber/100),this.percentageLabel&&(this.percentageLabel.string=this.currentNumber+"%"),this.bidProgressM1&&(this.bidProgressM1.fillRange=this.currentNumber/100),this.bidProgressM2&&(this.bidProgressM2.fillRange=this.currentNumber/100)},l.onAuctionMinMaxPercentage=function(e){var i,t,n;if(console.warn("percentage  ",null==e||null==(i=e.data)?void 0:i.bid_percentage,this.auctionId),null!=e&&null!=(t=e.data)&&t.auction_id&&(null==e||null==(n=e.data)?void 0:n.auction_id)===this.auctionId){var r,a;console.warn("percentage  ",null==e||null==(r=e.data)?void 0:r.bid_percentage),E.auctionMinMaxPercentage=e;var o=null==e||null==(a=e.data)?void 0:a.bid_percentage;if(!o)return;this.animateBidPercentage(this.currentNumber,o)}},l.onMinMaxRecentBid=function(e,i){console.log("onMinMaxRecentBid",e,i);try{var t,n;if(null!=e&&null!=(t=e.data)&&t.auction_id&&(null==e||null==(n=e.data)?void 0:n.auction_id)===this.auctionId){var r,a,o;E.MinMaxRecentBid=e;var l=null==e||null==(r=e.data)?void 0:r.is_unique,s=null!=e&&null!=(a=e.data)&&a.uuid?null==e||null==(o=e.data)?void 0:o.uuid:"",u=i;if(u&&u>0){var c=ke(),d={bidPrice:u.toString(),isUnique:l,Time:c};if(this.bidStorageManager.addBid(s,d),l&&s){var h=this.createBidHistory(u,l);h&&s&&(h.name=""+s),this.thombNode.getComponent(p).spriteFrame=this.thombNodeImage[0],this.emogiNode.getComponent(p).spriteFrame=this.emogiNodeImage[0];var b=this.bidStorageManager.getUniqueBidCount(),g=H.instance.t("unique");this.uniqueLabel.string=g+" ("+b+")",this.msgLabel.string="Wow!",this.uniqueLabel.color=y.GREEN,this.msgLabel.color=y.GREEN,C.inst.play("Unique"),this.resetParticle()}else{var m=this.createBidHistory(u,l);m&&s&&(m.name=""+s),this.thombNode.getComponent(p).spriteFrame=this.thombNodeImage[1],this.emogiNode.getComponent(p).spriteFrame=this.emogiNodeImage[1],this.msgLabel.string="Try\nagain!",this.uniqueLabel.color=y.RED,this.msgLabel.color=y.RED,C.inst.play("NotUnique")}}}}catch(e){console.error("Error in onMinMaxRecentBid:",e)}},l.createBidHistory=function(e,i){var t,n=P(this.bidHistoryPrefab),r=null==(t=n.getChildByName("Label"))?void 0:t.getComponent(c);return r&&(r.string=null==e?void 0:e.toString()),this.historyParent.children.length<1&&(n.getChildByName("Label2").active=!1),this.historyParent.addChild(n),i&&(r.color=y.GREEN,n.getComponent(p).color=M(50,139,54,255)),n.setSiblingIndex(0),n},l.onMinMaxCancelBid=function(e){if(null!=e&&e.auction_id&&(null==e?void 0:e.auction_id)===this.auctionId){var i;this.bidStorageManager.removeBid(e.uuid);var t=H.instance.t("unique"),n=this.bidStorageManager.getUniqueBidCount();this.uniqueLabel.string=t+" ("+n+")";var r=(null==(i=this.historyParent)?void 0:i.getChildByName(e.uuid))||null;if(r){var a,o=null==(a=r.getChildByName("Label"))?void 0:a.getComponent(c);o&&(o.color=new y(255,255,255))}}},l.renderMyBids=function(){var e=this;this.historyParent.removeAllChildren(),this.allBidEntries.forEach((function(i){var t=i[0],n=i[1],r=e.createBidHistory(Number(n.bidPrice),n.isUnique);r&&t&&(r.name=""+t)}))},l.loadFromStorage=function(){var e=this;return new Promise(a(o().mark((function i(t,n){var r;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,!R.inst.getItem(e.auctionId)){i.next=6;break}return i.next=4,R.inst.getItem(e.auctionId);case 4:if(r=i.sent)try{e.bidMap=new Map(JSON.parse(r))}catch(i){console.error("Error parsing bid storage",i),e.bidMap.clear()}case 6:t(),i.next=13;break;case 9:i.prev=9,i.t0=i.catch(0),console.error("Error accessing localStorage",i.t0),n(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,9]])}))))},i}(L)).prototype,"onDisableNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=i(ce.prototype,"onEnableNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=i(ce.prototype,"userNameLabel",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=i(ce.prototype,"winAmountLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=i(ce.prototype,"bidPriceLabel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=i(ce.prototype,"uniqueLabel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=i(ce.prototype,"msgLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=i(ce.prototype,"thombNode",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=i(ce.prototype,"emogiNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=i(ce.prototype,"progressBar",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=i(ce.prototype,"slider",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=i(ce.prototype,"percentageLabel",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=i(ce.prototype,"setPinNode",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=i(ce.prototype,"isPinNode",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=i(ce.prototype,"selectButton",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=i(ce.prototype,"openAuction",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=i(ce.prototype,"placeBids",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=i(ce.prototype,"thombNodeImage",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),we=i(ce.prototype,"emogiNodeImage",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ce=i(ce.prototype,"bidProgressM1",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=i(ce.prototype,"bidProgressM2",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=i(ce.prototype,"historyScrollView",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=i(ce.prototype,"historyParent",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=i(ce.prototype,"bidHistoryPrefab",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=i(ce.prototype,"particleSystem2D",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[null]}}),Te=i(ce.prototype,"chainNode",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ue=ce))||ue));function ke(){var e=new Date;return e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")+":"+e.getSeconds().toString().padStart(2,"0")}l._RF.pop()}}}));

System.register("chunks:///_virtual/AvatarIconsManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,a,o,i,c,s,u,p,l,m,d,v,g,f;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){c=e.cclegacy,s=e._decorator,u=e.Node,p=e.assetManager,l=e.ImageAsset,m=e.Texture2D,d=e.SpriteFrame,v=e.instantiate,g=e.Sprite,f=e.Component}],execute:function(){var h,y,w,x,I;e({RemoteAvatar:F,getValidImageUrl:C}),c._RF.push({},"9b9fbDfemtB+Yye45A2vZaw","AvatarIconsManager",void 0);var b=s.ccclass,A=s.property;e("AvatarIconsManager",(h=b("AvatarIconsManager"),y=A(u),h((I=r((x=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return r=e.call.apply(e,[this].concat(o))||this,n(r,"image",I,a(r)),r}t(r,e);var c=r.prototype;return c.newImageNode=function(){var e=this;return new Promise((function(r,t){try{var n=v(e.image);e.node.addChild(n),r(n)}catch(e){console.error("newBidHistoryNode",e),t(e)}}))},c.setAvatarIcon=function(e,r){var t=this;return void 0===r&&(r=null),new Promise(o(i().mark((function n(a,o){var c,s,u,p;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=e.split("/").pop()||"",s=c.split(".")[0],console.log(s),!(u=!!t.node.getChildByName(s)&&t.node.getChildByName(s))){n.next=8;break}return r&&(r.spriteFrame=u.getComponent(g).spriteFrame),a(),n.abrupt("return");case 8:return n.prev=8,n.next=11,t.newImageNode();case 11:return(p=n.sent).name=s,n.next=15,F(e,p.getComponent(g));case 15:r&&(r.spriteFrame=p.getComponent(g).spriteFrame),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(8),console.error("[AvatarIconsManager] Failed to load avatar: "+e,n.t0);case 21:a();case 22:case"end":return n.stop()}}),n,null,[[8,18]])}))))},r}(f)).prototype,"image",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=x))||w));function F(e,r){return new Promise((function(t,n){try{e=C(e),p.loadRemote(e,{ext:".png",xhrResponseType:"blob"},(function(e,a){if(e||!(a instanceof l))return n(e||new Error("Invalid image asset"));var o=new m;o.image=a;var i=new d;i.texture=o,r.spriteFrame=i,t()}))}catch(e){}}))}function C(e){return e.includes("api-demo.auctionx.dev")?e.replace("api-demo.auctionx.dev","api-demo.auctionx.live"):e}c._RF.pop()}}}));

System.register("chunks:///_virtual/BidStorageManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IndexedDBManager.ts"],(function(t){var e,r,n,i,a;return{setters:[function(t){e=t.createForOfIteratorHelperLoose,r=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){i=t.cclegacy},function(t){a=t.IndexedDBManager}],execute:function(){i._RF.push({},"7697aWtZKND6I8DiZoCg/nf","BidStorageManager",void 0);t("BidStorageManager",function(){function t(t){this.bidMap=new Map,this.localKey="",this.setLocalKey(t)}var i=t.prototype;return i.setLocalKey=function(t){this.localKey=t},i.init=function(){var t=r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadFromStorage();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.addBid=function(t,e){this.bidMap.set(t,e),this.saveToStorage()},i.removeBid=function(t){var e=this.bidMap.get(t);e&&(e.isUnique=!1,this.bidMap.set(t,e))},i.getBid=function(t){return this.bidMap.get(t)},i.getAllBids=function(){return Array.from(this.bidMap.entries())},i.loadFromStorage=function(){var t=r(n().mark((function t(){var e,r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.inst.getItem(this.localKey)){t.next=5;break}return t.next=3,a.inst.getItem(this.localKey);case 3:if(e=t.sent)try{r=JSON.parse(e),this.bidMap=new Map(r)}catch(t){console.error("Error parsing bid data",t),this.bidMap.clear()}case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.saveToStorage=function(){a.inst.setItem(this.localKey,JSON.stringify(Array.from(this.bidMap.entries())))},i.getUniqueBidCount=function(){for(var t,r=0,n=e(this.bidMap);!(t=n()).done;){t.value[1].isUnique&&r++}return r},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/BigDealEvents.ts",["cc","./CookieUtils.ts","./EventEmitter.ts"],(function(_){var E,C,T;return{setters:[function(_){E=_.cclegacy},function(_){C=_.CookieUtils},function(_){T=_.EventEmitter}],execute:function(){E._RF.push({},"ecf6ew4wsRFg5CbxVP05RIf","BigDealEvents",void 0);_("StaticProperties",{isLogin:!1,hostname:"",apiBaseURL:"",publicKeyPem:"",is_verified:!1,auctionIndex:0,isBidPlaced:!0,is_Decimal_Count:1,is_MinPrice:.1,is_insideGame:!1,is_Login_with_Teligram:!1,is_Login_with_Wallet:!1}),_("BigDealEvents",function(_){return _.TIME_UP="TIME_UP",_.ERROR_MSG_POPUP="ERROR_MSG_POPUP",_.ERROR_MSG_NOTIFY="ERROR_MSG_NOTIFY",_.IS_LOADER_ON="IS_LOADER_ON",_.IS_LOADER_OFF="IS_LOADER_OFF",_.CLOSE_ALL_POPUPS="CLOSE_ALL_POPUPS",_.AUCTION_SELECTION="AUCTION_SELECTION",_.SET_BID_HISTORY="SET_BID_HISTORY",_.PROFILE_UPDATE="PROFILE_UPDATE",_.COUNTRY_DETAILS_FETCHED="COUNTRY_DETAILS_FETCHED",_.ON_SELECT_AUCTION="ON_SELECT_AUCTION",_.ON_AUCTION_COMPLETE="ON_AUCTION_COMPLETE",_.REDIRECT_TO_HOME="REDIRECT_TO_HOME",_.AUCTION_Claim="AUCTION_Claim",_.COUNTRY_CODE_INDEX="COUNTRY_CODE_INDEX",_.SHOW_AUCTIONWINNER_DATA="SHOW_AUCTIONWINNER_DATA",_.COMPLETE_EMAIL_VERIFICATION="complete:email:verification",_.COMPLETE_VERIFICATION_FOR_REWARD="complete:verification:for:reward",_.LOGOUT_ONDISCONNECTCLICK="Logout:onDisconnectClick",_}({})),_("BigDealClientEvents",function(_){return _.CLS_MIN_MAX_BID_PERCENTAGE="CLS_MIN_MAX_BID_PERCENTAGE",_.CLS_AUCTION_MIN_MAX_PERCENTAGE="CLS_AUCTION_MIN_MAX_PERCENTAGE",_.CLS_PLAYER_INFO_MIN_MAX="CLS_PLAYER_INFO_MIN_MAX",_.CLS_AUCTION_RESULT_READY="CLS_AUCTION_RESULT_READY",_.CLS_AUCTION_WINNER="CLS_AUCTION_WINNER",_.CLS_AUCTION_CURRENT_PLAY="CLS_AUCTION_CURRENT_PLAY",_.CLS_AUCTION_AVATARS="CLS_AUCTION_AVATARS",_.CLS_PLAYER_PLAY_CREDIT="CLS_PLAYER_PLAY_CREDIT",_.CLS_AUCTION_STATE="CLS_AUCTION_STATE",_.CLS_AUCTION_ERROR="CLS_AUCTION_ERROR",_.CLS_AUCTION_HOUSE_LOGO_UPDATE="CLS_AUCTION_HOUSE_LOGO_UPDATE",_.CLS_PRODUCT_MEDIA_UPDATE="CLS_PRODUCT_MEDIA_UPDATE",_.CLS_Min_Max_Recent_Bid="CLS_Min_Max_Recent_Bid",_.CLS_MIN_MAX_BID_CANCEL="CLS_MIN_MAX_BID_CANCEL",_.PLAYER_PLAYS_CREDIT="PLAYER_PLAYS_CREDIT",_}({})),_("BigDealServerEvents",function(_){return _.MIN_MAX_BID_PERCENTAGE="min:max:bid:percentage",_.AUCTION_MIN_MAX_PERCENTAGE="auction:min:max:percentage",_.PLAYER_INFO_MIN_MAX="player:info:min:max",_.AUCTION_RESULT_READY="auction:result:ready",_.AUCTION_WINNER="auction:winner",_.AUCTION_CURRENT_PLAY="auction:current:play",_.AUCTION_AVATARS="auction:avatars",_.PLAYER_PLAY_CREDIT="player:plays:credit",_.AUCTION_STATE="auction:state",_.AUCTION_ERROR="auction:error",_.AUCTION_HOUSE_LOGO_UPDATE="auction:house:logo:updated",_.PRODUCT_MEDIA_UPDATE="product:media:updated",_}({})),_("Edit_Box_Event",new T),_("Edit_Box_Event_Name","Edit_Box_Event_Name");var A=_("CookieKey",function(_){return _.ACCESS_TOKEN="accessToken",_.USER_ID="userId",_.REFRESH_TOKEN="refreshToken",_.WALLET_SIGNATURE="walletSignature",_}({}));_("getPlayarToken",(function(){var _=localStorage.getItem("accessToken")||C.getCookie(A.ACCESS_TOKEN);return _||console.error("accessToken not found!"),_}));E._RF.pop()}}}));

System.register("chunks:///_virtual/BigDealGameModel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,t;return{setters:[function(n){e=n.createClass},function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"5c337le80BIP7ublEe2Cctw","BigDealGameModel",void 0);var o=n("BigDealGameModel",function(){function n(){}return n.setallData=function(){n._auctionHouseResponse=null,n._loginOtpResponse=null,n._loginDataResponse=null,n._playerBalancesResponse=null,n._profileUpdatedRes=null,n._playerInfoMinMax=null,n._auctionMinMaxPercentage=null,n._auctionCurrentPlay=null,n._auctionHouseListResponse=null,n._auctionAvatars=null,n._auctionWinner=null,n._auctionLiveState=null,n._minMaxRecentBid=null,n._upDateProfileResponse=null,n._uniqueBidApiResponse=null,n._myAuctionResponse=null,n._uploadProfileRes=null,n._countryApiResponse=null,n._auctionConfigResponse=null},e(n,null,[{key:"auctionHouseResponse",get:function(){return n._auctionHouseResponse},set:function(e){n._auctionHouseResponse=e}},{key:"loginOtpResponse",get:function(){return n._loginOtpResponse},set:function(e){n._loginOtpResponse=e}},{key:"loginDataResponse",get:function(){return n._loginDataResponse},set:function(e){n._loginDataResponse=e}},{key:"playerBalancesResponse",get:function(){return n._playerBalancesResponse},set:function(e){n._playerBalancesResponse=e}},{key:"auctionHouseListResponse",get:function(){return n._auctionHouseListResponse},set:function(e){n._auctionHouseListResponse=e}},{key:"profileUpdatedRes",get:function(){return n._profileUpdatedRes},set:function(e){n._profileUpdatedRes=e}},{key:"playerInfoMinMax",get:function(){return n._playerInfoMinMax},set:function(e){n._playerInfoMinMax=e}},{key:"auctionMinMaxPercentage",get:function(){return n._auctionMinMaxPercentage},set:function(e){n._auctionMinMaxPercentage=e}},{key:"auctionCurrentPlay",get:function(){return n._auctionCurrentPlay},set:function(e){n._auctionCurrentPlay=e}},{key:"auctionAvatars",get:function(){return n._auctionAvatars},set:function(e){n._auctionAvatars=e}},{key:"auctionWinner",get:function(){return n._auctionWinner},set:function(e){n._auctionWinner=e}},{key:"AuctionLiveState",get:function(){return n._auctionLiveState},set:function(e){n._auctionLiveState=e}},{key:"MinMaxRecentBid",get:function(){return n._minMaxRecentBid},set:function(e){n._minMaxRecentBid=e}},{key:"upDateProfileResponse",get:function(){return n._upDateProfileResponse},set:function(e){n._upDateProfileResponse=e}},{key:"uploadProfileRes",get:function(){return n._uploadProfileRes},set:function(e){n._uploadProfileRes=e}},{key:"uniqueBidApiResponse",get:function(){return n._uniqueBidApiResponse},set:function(e){n._uniqueBidApiResponse=e}},{key:"myAuctionResponse",get:function(){return n._myAuctionResponse},set:function(e){n._myAuctionResponse=e}},{key:"countryApiResponse",get:function(){return n._countryApiResponse},set:function(e){n._countryApiResponse=e}},{key:"auctionConfigResponse",get:function(){return n._auctionConfigResponse},set:function(e){n._auctionConfigResponse=e}}]),n}());o._auctionHouseResponse=null,o._loginOtpResponse=null,o._loginDataResponse=null,o._playerBalancesResponse=null,o._profileUpdatedRes=null,o._playerInfoMinMax=null,o._auctionMinMaxPercentage=null,o._auctionCurrentPlay=null,o._auctionHouseListResponse=null,o._auctionAvatars=null,o._auctionWinner=null,o._auctionLiveState=null,o._minMaxRecentBid=null,o._upDateProfileResponse=null,o._uploadProfileRes=null,o._uniqueBidApiResponse=null,o._myAuctionResponse=null,o._countryApiResponse=null,o._auctionConfigResponse=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/BigDealLayoutManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,n,r,l,a,o,u,c;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,o=e.Node,u=e.view,c=e.Component}],execute:function(){var s,g,p,y,m,b,f,h,d,w,P,U,S,z,M,H,W,v,B,D,L,R,k,C,_;l._RF.push({},"24b1bQ8/QpJXqWDpT/LhO5r","BigDealLayoutManager",void 0);var F=a.ccclass,G=a.property;e("BigDealLayoutManager",(s=F("BigDealLayoutManager"),g=G(o),p=G(o),y=G(o),m=G(o),b=G(o),f=G(o),h=G(o),d=G(o),w=G(o),P=G(o),U=G(o),s((M=i((z=function(e){function i(){for(var i,t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return i=e.call.apply(e,[this].concat(l))||this,n(i,"homePageContent",M,r(i)),n(i,"homePagelogo",H,r(i)),n(i,"homeButton",W,r(i)),n(i,"gameHeader",v,r(i)),n(i,"midelUi",B,r(i)),n(i,"keypadHistory",D,r(i)),n(i,"winingMidelUi",L,r(i)),n(i,"winingHistory",R,r(i)),n(i,"RewardScreenMidelUi",k,r(i)),n(i,"myWalletmidUi",C,r(i)),n(i,"myWalletUpiPopUP",_,r(i)),i}t(i,e);var l=i.prototype;return l.start=function(){var e=u.getVisibleSize();e.width/e.height>.7&&(console.log("ipad"),this.HomeScreen(),this.GamePlay(),this.WiningPage(),this.MyWallet())},l.HomeScreen=function(){this.homePageContent.setScale(.8,.8,.8),this.homePagelogo.setScale(.8,.8,.8),this.homeButton.setScale(.8,.8,.8)},l.GamePlay=function(){this.gameHeader.setScale(.8,.8,.8),this.keypadHistory.setScale(.7,.7,.8)},l.WiningPage=function(){this.winingHistory.setScale(.7,.7,.8),this.winingMidelUi.setScale(.7,.7,.8),this.winingMidelUi.setPosition(0,200,0)},l.RewardPage=function(){},l.MyWallet=function(){this.myWalletmidUi.setScale(.7,.7,.8),this.myWalletUpiPopUP.setScale(.8,.8,.8)},i}(c)).prototype,"homePageContent",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(z.prototype,"homePagelogo",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(z.prototype,"homeButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(z.prototype,"gameHeader",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(z.prototype,"midelUi",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(z.prototype,"keypadHistory",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(z.prototype,"winingMidelUi",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(z.prototype,"winingHistory",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(z.prototype,"RewardScreenMidelUi",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(z.prototype,"myWalletmidUi",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(z.prototype,"myWalletUpiPopUP",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=z))||S));l._RF.pop()}}}));

System.register("chunks:///_virtual/BigDealSocketManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Socket_Io.mjs_cjs=&original=.js","./BigDealGameModel.ts","./BigDealEvents.ts","./EventManager.ts","./Socket_Io.js"],(function(e){var t,n,o,c,i,s,a,r,l,u;return{setters:[function(e){t=e.createForOfIteratorHelperLoose,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){c=e.cclegacy,i=e._decorator},null,function(e){s=e.BigDealGameModel},function(e){a=e.StaticProperties,r=e.BigDealClientEvents},function(e){l=e.default},function(e){u=e.default}],execute:function(){var h,f;c._RF.push({},"89ded4rS4ZIvrxOPvbCd0Ku","BigDealSocketManager",void 0);var d=i.ccclass;e("BigDealSocketManager",d("BigDealSocketManager")(((f=function(){function e(){this.socket=null,this.baseUrl="",this.connTimeoutMs=1e4,this.reconnecting=!1,this.reconnectAttempts=0,this.maxReconnectDelayMs=15e3,this.minReconnectDelayMs=1e3,this.keepAliveInterval=null,this.watchdogInterval=null,this.lastActivityTs=Date.now(),this.keepAliveMs=25e3,this.watchdogCheckMs=15e3,this.driftThresholdMs=6e4,this.offlineQueue=[],this.waiters=[],this.baseUrl=a.apiBaseURL||"",this.setupLifecycleHandlers(),this.setupNetworkHandlers()}e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.clearInstance=function(){var t,n,o;null!=(t=e.instance)&&t.socket&&e.instance.socket.disconnect(),null==(n=e.instance)||n.stopKeepAlive(),null==(o=e.instance)||o.stopWatchdog(),e.instance=null};var c=e.prototype;return c.init=function(){var e=n(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(t=this.socket)||!t.connected){e.next=2;break}return e.abrupt("return",this.socket);case 2:return e.abrupt("return",this.connect());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.connect=function(){var e=this;return new Promise((function(t,n){try{var o,c=null==s||null==(o=s.loginDataResponse)||null==(o=o.data)?void 0:o.accessToken,i=c?e.baseUrl+"v1?accesstoken="+encodeURIComponent(c):e.baseUrl+"v2";e.socket&&(e.teardownSocketListeners(),e.socket.disconnect(),e.socket=null),console.log("[Socket] Connecting:",i),e.socket=u.io(i,{transports:["websocket"],reconnection:!1,timeout:e.connTimeoutMs,autoConnect:!0,multiplex:!1}),e.socket.on("connect",(function(){console.log("âœ… [Socket] connected",e.socket.id),a.isBidPlaced=!0,e.lastActivityTs=Date.now(),e.reconnectAttempts=0,e.reconnecting=!1,e.registerSocketEvents(),e.startKeepAlive(),e.startWatchdog(),e.flushOfflineQueue(),e.bootstrapStreams(),e.waiters.splice(0).forEach((function(t){return t(e.socket)})),t(e.socket)})),e.socket.on("connect_error",(function(t){console.error("âŒ [Socket] connect_error:",(null==t?void 0:t.message)||t),n(t),e.scheduleReconnect("connect_error")})),e.socket.on("connect_timeout",(function(){console.error("â±ï¸ [Socket] connect_timeout"),n(new Error("connect_timeout")),e.scheduleReconnect("connect_timeout")})),e.socket.on("disconnect",(function(t){console.warn("âš ï¸ [Socket] disconnected:",t),e.registerSocketEventsClosed(),e.stopKeepAlive(),e.scheduleReconnect("disconnect")})),e.socket.onAny((function(){e.lastActivityTs=Date.now()}))}catch(t){console.error("ðŸ”¥ [Socket] init error:",t),n(t),e.scheduleReconnect("exception")}}))},c.scheduleReconnect=function(e){var t=this;if(!this.reconnecting){this.reconnecting=!0,this.reconnectAttempts++;var n=Math.min(this.minReconnectDelayMs*Math.pow(2,this.reconnectAttempts-1),this.maxReconnectDelayMs)+Math.floor(500*Math.random());console.warn("ðŸ” [Socket] Reconnect scheduled in "+n+"ms (attempt "+this.reconnectAttempts+") due to "+e),setTimeout((function(){if(t.socket&&!t.socket.connected)try{console.log("[Socket] Reconnecting nowâ€¦"),t.socket.connect()}catch(e){console.error("[Socket] reconnect error:",e)}finally{t.reconnecting=!1}else t.reconnecting=!1}),n)}},c.setupLifecycleHandlers=function(){var e=this;document.addEventListener("visibilitychange",(function(){var t,n;"visible"===document.visibilityState?(console.log("ðŸ‘€ [Page] visible â€” verifying socket"),null!=(t=e.socket)&&t.connected?e.safeEmit("client:ping",{resumed:!0}):e.onClickReconnect()):null!=(n=e.socket)&&n.connected&&e.safeEmit("client:ping",{hidden:!0})})),window.addEventListener("beforeunload",(function(){e.safeEmit("client:ping",{closing:!0})}))},c.setupNetworkHandlers=function(){var e=this;window.addEventListener("online",(function(){var t;console.log("ðŸ“¶ [Network] online"),null!=(t=e.socket)&&t.connected||e.onClickReconnect()})),window.addEventListener("offline",(function(){console.warn("ðŸ“´ [Network] offline â€” pausing keepalive"),e.stopKeepAlive()}))},c.startKeepAlive=function(){var e=this;this.stopKeepAlive(),this.keepAliveInterval=setInterval((function(){var t;null!=(t=e.socket)&&t.connected&&(e.lastActivityTs=Date.now(),e.socket.emit("client:ping",{t:e.lastActivityTs}))}),this.keepAliveMs)},c.stopKeepAlive=function(){this.keepAliveInterval&&(clearInterval(this.keepAliveInterval),this.keepAliveInterval=null)},c.startWatchdog=function(){var e=this;this.stopWatchdog(),this.watchdogInterval=setInterval((function(){var t;if(Date.now()-e.lastActivityTs>e.driftThresholdMs)return console.warn("â° [Socket] timer drift detected â€” forcing reconnect"),void e.onClickReconnect();null!=(t=e.socket)&&t.connected||(console.warn("ðŸ›¡ï¸ [Socket] watchdog sees disconnected socket â€” reconnecting"),e.onClickReconnect())}),this.watchdogCheckMs)},c.stopWatchdog=function(){this.watchdogInterval&&(clearInterval(this.watchdogInterval),this.watchdogInterval=null)},c.onClickReconnect=function(){if(this.socket)try{console.log("ðŸ” [Socket] force reconnectâ€¦"),this.teardownSocketListeners(),this.socket.disconnect(),this.socket.connect()}catch(e){console.error("[Socket] force reconnect error:",e),this.scheduleReconnect("force")}else this.connect()},c.sendMessage=function(e,t){var n;null!=(n=this.socket)&&n.connected?this.socket.emit(e,t):(console.warn("[Queue] socket offline â€” queued event "+e),this.offlineQueue.push({event:e,data:t}),this.scheduleReconnect("sendMessage"))},c.awaitConnected=function(){var e,t=this;return null!=(e=this.socket)&&e.connected?Promise.resolve(this.socket):new Promise((function(e){return t.waiters.push(e)}))},c.initsendMessege=function(){var e,t,n={player_id:null==(e=s.loginDataResponse)||null==(e=e.data)?void 0:e.id,auction_id:null==(t=s.auctionHouseListResponse)||null==(t=t.data[a.auctionIndex])?void 0:t.id};this.sendMessage("percentage:min:max",n),this.sendMessage("min:max:player:logs",n)},c.safeEmit=function(e,t){try{var n;null!=(n=this.socket)&&n.connected&&this.socket.emit(e,t)}catch(e){}},c.flushOfflineQueue=function(){var e;if(null!=(e=this.socket)&&e.connected&&0!==this.offlineQueue.length){console.log("ðŸ“¦ [Queue] flushing "+this.offlineQueue.length+" messages");for(var n,o=this.offlineQueue.splice(0),c=t(o);!(n=c()).done;){var i=n.value;this.socket.emit(i.event,i.data)}}},c.bootstrapStreams=function(){var e,t,n=this,o=(null==(e=s.auctionHouseListResponse)?void 0:e.data)||[],c=null==(t=s.loginDataResponse)||null==(t=t.data)?void 0:t.id;o.forEach((function(e){var t={player_id:c,auction_id:null==e?void 0:e.id};n.safeEmit("percentage:min:max",t),n.safeEmit("min:max:player:logs",t)}))},c.registerSocketEvents=function(){var e=this;this.socket&&(this.socket.on("auction:current:play",(function(e){l.getDispatcher().emit(r.CLS_AUCTION_CURRENT_PLAY,e)})),this.socket.on("player:plays:credit",(function(e){l.getDispatcher().emit(r.CLS_AUCTION_CURRENT_PLAY,e.data)})),this.socket.on("auction:min:max:percentage",(function(e){console.warn("min:max:bid:percentage",e),l.getDispatcher().emit(r.CLS_AUCTION_MIN_MAX_PERCENTAGE,e)})),this.socket.on("min:max:bid:percentage",(function(e){console.warn("min:max:bid:percentage",e),l.getDispatcher().emit(r.CLS_AUCTION_MIN_MAX_PERCENTAGE,e)})),this.socket.on("auction:winner",(function(e){l.getDispatcher().emit(r.CLS_AUCTION_WINNER,e)})),this.socket.on("auction:state",(function(e){l.getDispatcher().emit(r.CLS_AUCTION_STATE,e)})),this.socket.on("auction:error",(function(e){l.getDispatcher().emit(r.CLS_AUCTION_ERROR,e)})),this.socket.on("min:max:recent:bid",(function(e){l.getDispatcher().emit(r.CLS_Min_Max_Recent_Bid,e)})),this.socket.on("auction:avatars",(function(e){l.getDispatcher().emit(r.CLS_AUCTION_AVATARS,e)})),this.socket.on("min:max:bid:cancel",(function(e){l.getDispatcher().emit(r.CLS_MIN_MAX_BID_CANCEL,e)})),this.socket.on("server:pong",(function(){e.lastActivityTs=Date.now()})))},c.registerSocketEventsClosed=function(){this.socket&&(this.socket.off("auction:current:play"),this.socket.off("auction:min:max:percentage"),this.socket.off("min:max:bid:percentage"),this.socket.off("auction:winner"),this.socket.off("auction:state"),this.socket.off("auction:error"),this.socket.off("min:max:recent:bid"),this.socket.off("auction:avatars"),this.socket.off("min:max:bid:cancel"),this.socket.off("server:pong"))},c.teardownSocketListeners=function(){try{var e;this.registerSocketEventsClosed(),null==(e=this.socket)||null==e.offAny||e.offAny()}catch(e){}},e}()).instance=null,h=f))||h);c._RF.pop()}}}));

System.register("chunks:///_virtual/BlockBoltPaymentRequest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealEvents.ts","./ApiUrls.ts"],(function(e){var t,n,r,s,a,c,u;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy,s=e._decorator},function(e){a=e.getPlayarToken,c=e.StaticProperties},function(e){u=e.API_URLS}],execute:function(){r._RF.push({},"7b134n9hvNCa4kWPGHDPQcr","BlockBoltPaymentRequest",void 0);s.ccclass,e("BlockBoltPaymentManager",function(){function e(){}return e.initiatePayment=function(){var e=t(n().mark((function e(t){var r,s,o,i,p;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=a(),s=c.apiBaseURL+u.BLOCKBOLT_PAYMENT,e.next=5,fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r},body:JSON.stringify(t)});case 5:if((o=e.sent).ok){e.next=11;break}return e.next=9,o.text();case 9:return i=e.sent,e.abrupt("return",{success:!1,message:i});case 11:return e.next=13,o.json();case 13:return p=e.sent,e.abrupt("return",{success:!0,payment_id:p.payment_id,message:p.message});case 17:return e.prev=17,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:e.t0.message});case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}(),e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/BlockchainLogPrefab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealEvents.ts","./BigDealGameModel.ts"],(function(i){var t,n,e,a,r,o,l,s,c,u,h,p,d,g;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,a=i.assertThisInitialized},function(i){r=i.cclegacy,o=i._decorator,l=i.Label,s=i.Button,c=i.Node,u=i.Animation,h=i.sys,p=i.Component},function(i){d=i.StaticProperties},function(i){g=i.BigDealGameModel}],execute:function(){var m,f,b,_,w,y,A,I,L,v,C,H,T,k,N,S,B,R,z;i("stringCompression",E),r._RF.push({},"ef037Ur8d1CyIkGF0cuToHc","BlockchainLogPrefab",void 0);var x=o.ccclass,D=o.property;i("ShippingClaimStatus",function(i){return i.Clam_Winging_Price="Clam:Winging:Price",i.Winging_Price_Status="Winging:Price:Status",i.WIN_AUCTION_STATUS_CONFIRM="WIN_AUCTION_STATUS_CONFIRM",i.COMPLETE_EMAIL_VERIFICATION="COMPLETE_EMAIL_VERIFICATION",i}({})),i("BlockchainLog",(m=x("BlockchainLog"),f=D(l),b=D(l),_=D(l),w=D(l),y=D(l),A=D(s),I=D(c),L=D(u),m((H=t((C=function(i){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=i.call.apply(i,[this].concat(r))||this,e(t,"serialNumber",H,a(t)),e(t,"timeStamp",T,a(t)),e(t,"userId",k,a(t)),e(t,"userName",N,a(t)),e(t,"transactionHash",S,a(t)),e(t,"transaction_View_ButtonLabel",B,a(t)),e(t,"LinkArrow",R,a(t)),e(t,"loadAnim",z,a(t)),t.isClickd=!1,t.auctionId=null,t.transactionHashURl=null,t}n(t,i);var r=t.prototype;return r.init=function(i,t){i&&(this.serialNumber.string=i.toString()||"-");g.loginDataResponse.data.country;var n,e,a,r,o,l,s,c,u,h=(n=t.created_at,e=new Date(n),a="Asia/Kolkata",r=new Intl.DateTimeFormat("en-GB",{timeZone:a,day:"2-digit",month:"short",year:"2-digit",hour:"numeric",minute:"2-digit",hour12:!1}).format(e).split(/[\s,]+/),o=r[0],l=r[1],s=r[2],c=r[3],u=r[4],o+" "+l+" '"+s+"  "+c+" "+(u||""));this.timeStamp.string=h||t.created_at;var p=t.user_id||"-";this.userName.string=p,this.transactionHash&&t.txHash?(this.transactionHash.string=E(t.txHash),this.loadAnim.stop(),this.loadAnim.node.active=!1):this.transactionHash&&(this.transactionHash.node.active=!0,this.transaction_View_ButtonLabel.interactable=!1,this.loadAnim.node.active=!0,this.LinkArrow.active=!1,this.loadAnim.play()),this.transactionHashURl=t.txHash,console.log(this.serialNumber.string+"\n",t,"Log Data Init "),console.log(t.player_id,"Auction ID",t.txHash,"Transaction Hash",this.transactionHash.string,"Transaction Hash String")},r.onClickTransactionViewButton=function(){var i=this;this.isClickd||(this.isClickd=!0,this.openTxExplorer(this.transactionHashURl),setTimeout((function(){i.isClickd=!1}),1e3))},r.openTxExplorer=function(i){var t=(g.auctionHouseListResponse.data[d.auctionIndex].chain.explorer_url+i).trim(),n=/^[a-zA-Z][a-zA-Z\d+\-.]*:\/\//.test(t)?t:"https://"+t;try{h.openURL(n)}catch(i){console.error("openURL failed, falling back to window.open",i),"undefined"!=typeof window&&window.open&&window.open(n,"_blank")}},t}(p)).prototype,"serialNumber",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(C.prototype,"timeStamp",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(C.prototype,"userId",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(C.prototype,"userName",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(C.prototype,"transactionHash",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(C.prototype,"transaction_View_ButtonLabel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(C.prototype,"LinkArrow",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(C.prototype,"loadAnim",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=C))||v));function E(i,t,n,e){return void 0===t&&(t=10),void 0===n&&(n=3),void 0===e&&(e=3),i?i.length>t?i.slice(0,n)+"..."+i.slice(-e):i:""}r._RF.pop()}}}));

System.register("chunks:///_virtual/BrowserBackButtonHandler.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"1741deVeSxIF79baJNK1qly","BrowserBackButtonHandler",void 0);var i=t("BrowserBackButtonHandler",function(){function t(){}return t.init=function(){this.isInitialized||(this.isInitialized=!0,window.history.pushState({page:1},"",""),window.history.pushState({page:2},"",""),window.history.pushState({page:3},"",""),window.history.pushState({page:4},"",""),window.history.pushState({page:5},"",""),window.addEventListener("popstate",this.onBackPressed))},t.destroy=function(){this.isInitialized=!1,window.removeEventListener("popstate",this.onBackPressed)},t}());i.isInitialized=!1,i.onBackPressed=function(t){console.log("Back button pressed â€” staying in app"),window.history.pushState({page:2},"","")},e._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonComponentForChildNode.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,n,e,r,i,c,l,s,u;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,e=o.initializerDefineProperty,r=o.assertThisInitialized},function(o){i=o.cclegacy,c=o._decorator,l=o.Node,s=o.Sprite,u=o.Button}],execute:function(){var a,h,f,p,d;i._RF.push({},"6e293HGr5RAD7lzWuUoaDed","ButtonComponentForChildNode",void 0);var C=c.ccclass,E=c.property;o("ButtonComponentForChildNode",(a=C("ButtonComponentForChildNode"),h=E(l),a((d=t((p=function(o){function t(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return t=o.call.apply(o,[this].concat(i))||this,e(t,"buttonNode",d,r(t)),t._onTouchStart=function(o){t.interactable&&t.buttonNode&&t.buttonNode.forEach((function(o){t.interactable&&null!=o&&o.getComponent(s)&&(o.getComponent(s).color=t.pressedColor.clone())}))},t._onTouchEnd=function(o){t.interactable&&t.buttonNode&&t.buttonNode.forEach((function(o){o.getComponent(s).color=t._isMouseOver?t.hoverColor.clone():t.normalColor.clone()}))},t._onTouchCancel=function(o){t.interactable&&t.buttonNode&&t.buttonNode.forEach((function(o){o.getComponent(s).color=t.normalColor.clone()}))},t._isMouseOver=!1,t._onMouseEnter=function(){t._isMouseOver=!0,t.interactable&&t.buttonNode&&t.buttonNode.forEach((function(o){o.getComponent(s).color=t._isMouseOver?t.hoverColor.clone():t.normalColor.clone()}))},t._onMouseLeave=function(){t._isMouseOver=!1,t.interactable&&t.buttonNode&&t.buttonNode.forEach((function(o){o.getComponent(s).color=t.normalColor.clone()}))},t}n(t,o);var i=t.prototype;return i.onEnable=function(){var t;null==(t=o.prototype.onEnable)||t.call(this),this._addListeners(),this._syncLabelColor()},i.onDisable=function(){var t;this._removeListeners(),null==(t=o.prototype.onDisable)||t.call(this)},i._addListeners=function(){var o=this.node;o.on(l.EventType.TOUCH_START,this._onTouchStart,this),o.on(l.EventType.TOUCH_END,this._onTouchEnd,this),o.on(l.EventType.TOUCH_CANCEL,this._onTouchCancel,this),o.on(l.EventType.MOUSE_ENTER,this._onMouseEnter,this),o.on(l.EventType.MOUSE_LEAVE,this._onMouseLeave,this)},i._removeListeners=function(){var o=this.node;o.off(l.EventType.TOUCH_START,this._onTouchStart,this),o.off(l.EventType.TOUCH_END,this._onTouchEnd,this),o.off(l.EventType.TOUCH_CANCEL,this._onTouchCancel,this),o.off(l.EventType.MOUSE_ENTER,this._onMouseEnter,this),o.off(l.EventType.MOUSE_LEAVE,this._onMouseLeave,this)},i._syncLabelColor=function(){var o=this;this.buttonNode&&(this.interactable?this.buttonNode.forEach((function(t){t.getComponent(s).color=o.normalColor.clone()})):this.buttonNode.forEach((function(t){t.getComponent(s).color=o.disabledColor.clone()})))},i.refreshLabelState=function(){this._syncLabelColor()},t}(u)).prototype,"buttonNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=p))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonComponentForText.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,e,n,r,i,l,s,a,c;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,n=o.initializerDefineProperty,r=o.assertThisInitialized},function(o){i=o.cclegacy,l=o._decorator,s=o.Label,a=o.Node,c=o.Button}],execute:function(){var u,h,b,_,p;i._RF.push({},"d002bdDIx9ARocdr8c4HIOw","ButtonComponentForText",void 0);var T=l.ccclass,E=l.property;o("ButtonComponentForText",(u=T("ButtonComponentForText"),h=E(s),u((p=t((_=function(o){function t(){for(var t,e=arguments.length,i=new Array(e),l=0;l<e;l++)i[l]=arguments[l];return t=o.call.apply(o,[this].concat(i))||this,n(t,"buttonLabel",p,r(t)),t._onTouchStart=function(o){t.interactable&&t.buttonLabel&&(t.buttonLabel.color=t.pressedColor.clone())},t._onTouchEnd=function(o){t.buttonLabel&&(t.buttonLabel.color=t._isMouseOver?t.hoverColor.clone():t.normalColor.clone())},t._onTouchCancel=function(o){t.buttonLabel&&(t.buttonLabel.color=t.normalColor.clone())},t._isMouseOver=!1,t._onMouseEnter=function(){t._isMouseOver=!0,t.interactable&&t.buttonLabel&&(t.buttonLabel.color=t.hoverColor.clone())},t._onMouseLeave=function(){t._isMouseOver=!1,t.buttonLabel&&(t.buttonLabel.color=t.normalColor.clone())},t}e(t,o);var i=t.prototype;return i.onEnable=function(){var t;null==(t=o.prototype.onEnable)||t.call(this),this._addListeners(),this._syncLabelColor()},i.onDisable=function(){var t;this._removeListeners(),null==(t=o.prototype.onDisable)||t.call(this)},i._addListeners=function(){var o=this.node;o.on(a.EventType.TOUCH_START,this._onTouchStart,this),o.on(a.EventType.TOUCH_END,this._onTouchEnd,this),o.on(a.EventType.TOUCH_CANCEL,this._onTouchCancel,this),o.on(a.EventType.MOUSE_ENTER,this._onMouseEnter,this),o.on(a.EventType.MOUSE_LEAVE,this._onMouseLeave,this)},i._removeListeners=function(){var o=this.node;o.off(a.EventType.TOUCH_START,this._onTouchStart,this),o.off(a.EventType.TOUCH_END,this._onTouchEnd,this),o.off(a.EventType.TOUCH_CANCEL,this._onTouchCancel,this),o.off(a.EventType.MOUSE_ENTER,this._onMouseEnter,this),o.off(a.EventType.MOUSE_LEAVE,this._onMouseLeave,this)},i._syncLabelColor=function(){this.buttonLabel&&(this.interactable?this.buttonLabel.color=this.normalColor.clone():this.buttonLabel.color=this.disabledColor.clone())},i.refreshLabelState=function(){this._syncLabelColor()},t}(c)).prototype,"buttonLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=_))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/BuyPlaysManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealEvents.ts","./EventManager.ts"],(function(e){var n,t,a,r,o,s;return{setters:[function(e){n=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){a=e.cclegacy},function(e){r=e.getPlayarToken,o=e.StaticProperties},function(e){s=e.default}],execute:function(){a._RF.push({},"881a1wzPY5Dz708zAZZptDC","BuyPlaysManager",void 0),e("default",function(){function e(){}return e.generateBuyPlaysLink=function(){var e=n(t().mark((function e(n){var a,s,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("ðŸ” Sending buy plays request with payload:",n),e.prev=1,a=r(),e.next=5,fetch(o.apiBaseURL+"v1/transaction/buy-plays",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a},body:JSON.stringify(n)});case 5:return s=e.sent,e.next=8,s.json();case 8:if(i=e.sent,s.ok&&i.success){e.next=11;break}throw new Error(i.message||"Server error");case 11:i.data&&i.data.payment_url?(console.log("âœ… Redirecting to payment URL:",i.data.payment_url),console.log("result.data.payment_url",i.data.payment_url),window.parent.location.href=i.data.payment_url):console.error("âŒ Payment URL not found in response:",i),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.error("ðŸš¨ BuyPlaysManager Error:",e.t0),alert(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(n){return e.apply(this,arguments)}}(),e.generateBuyXPLink=function(){var e=n(t().mark((function e(n){var a,s,i,c;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=r(),e.next=4,fetch(o.apiBaseURL+"v1/transaction/buy-plays",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+s},body:JSON.stringify(n)});case 4:return i=e.sent,e.next=7,i.json();case 7:if(c=e.sent,i.ok&&c.success){e.next=10;break}throw new Error(c.message||"Server error");case 10:null!=(a=c.data)&&a.payment_url?this.openInAppPayment(c.data.payment_url):alert("Payment failed to initiate. Please try again."),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("BuyPlaysManager Error:",e.t0),alert(e.t0.message);case 17:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(n){return e.apply(this,arguments)}}(),e.openInAppPayment=function(e){var n=this,t=window.parent.document.getElementById("gameContainer");if(!t)return console.error("gameContainer not found!");this.closePaymentInGame(),this.paymentFrame=document.createElement("iframe"),this.paymentFrame.id="frame-BlockBot",this.paymentFrame.src=e,Object.assign(this.paymentFrame.style,{position:"absolute",aspectRatio:"9 / 16",height:"100%",maxWidth:"100vw",border:"none",background:"#000",zIndex:"9999"}),t.appendChild(this.paymentFrame),this.paymentFrame.onload=function(){console.log("âœ… Iframe loaded:",e);try{var t,a,r=(null==(t=n.paymentFrame)?void 0:t.contentDocument)||(null==(a=n.paymentFrame)||null==(a=a.contentWindow)?void 0:a.document);if(r)new MutationObserver((function(e){e.forEach((function(e){console.log("âš¡ Change inside iframe:",e)}))})).observe(r.body,{childList:!0,subtree:!0}),console.log("âœ… MutationObserver attached inside iframe")}catch(e){console.error("âŒ Cannot access iframe content due to cross-origin restrictions")}try{var o,i=null==(o=n.paymentFrame)||null==(o=o.contentWindow)?void 0:o.location.href;if(i){var c=new URL(i).searchParams.get("success");"true"===c?(n.closePaymentInGame(),s.getDispatcher().emit("Payment_Successful")):"false"===c&&n.closePaymentInGame()}}catch(e){}}},e.openInAppXFollow=function(e){var n=this,t=window.parent.document.getElementById("gameContainer");if(!t)return console.error("gameContainer not found!");this.closePaymentInGame(),this.paymentFrame=document.createElement("iframe"),this.paymentFrame.id="frame-BlockBot",this.paymentFrame.src=e,Object.assign(this.paymentFrame.style,{position:"absolute",aspectRatio:"9 / 16",height:"100%",maxWidth:"100vw",border:"none",background:"#000",zIndex:"9999"}),t.appendChild(this.paymentFrame),this.paymentFrame.onload=function(){console.log("âœ… Iframe loaded:",e);try{var t,a,r=(null==(t=n.paymentFrame)?void 0:t.contentDocument)||(null==(a=n.paymentFrame)||null==(a=a.contentWindow)?void 0:a.document);if(r)new MutationObserver((function(e){e.forEach((function(e){console.log("âš¡ Change inside iframe:",e)}))})).observe(r.body,{childList:!0,subtree:!0}),console.log("âœ… MutationObserver attached inside iframe")}catch(e){console.error("âŒ Cannot access iframe content due to cross-origin restrictions")}try{var o,s=null==(o=n.paymentFrame)||null==(o=o.contentWindow)?void 0:o.location.href;if(s){var i=new URL(s).searchParams.get("x_auth");"success"===i?(n.closePaymentInGame(),window.open("https://x.com/intent/follow?screen_name=auctionx_live","_blank")):"false"===i&&n.closePaymentInGame()}}catch(e){}}},e.closePaymentInGame=function(){if(this.paymentFrame){var e=window.parent.document.getElementById("gameContainer");e&&e.contains(this.paymentFrame)&&e.removeChild(this.paymentFrame),this.paymentFrame=null}},e}()).paymentFrame=null,a._RF.pop()}}}));

System.register("chunks:///_virtual/BuyXPManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BuyPlaysManager.ts","./BigDealGameModel.ts","./EventManager.ts","./BigDealEvents.ts","./PayPalButtonManager.ts","./CustomPopUp.ts","./LanguageManager.ts","./APIManager.ts","./ApiUrls.ts"],(function(t){var e,n,i,a,o,r,s,u,l,c,p,h,g,f,y,d,b,m,B,P,v,N,R,_,w,x,C,L,E,M,T,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.asyncToGenerator,i=t.regeneratorRuntime,a=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){s=t.cclegacy,u=t._decorator,l=t.Node,c=t.EditBox,p=t.Label,h=t.Button,g=t.Prefab,f=t.UIOpacity,y=t.KeyCode,d=t.tween,b=t.Vec3,m=t.input,B=t.Input,P=t.instantiate,v=t.Component},function(t){N=t.default},function(t){R=t.BigDealGameModel},function(t){_=t.default},function(t){w=t.BigDealEvents,x=t.StaticProperties},function(t){C=t.PayPalButtonManager},function(t){L=t.CustomPopUp},function(t){E=t.LanguageManager},function(t){M=t.APIManager,T=t.MethodType},function(t){I=t.API_URLS}],execute:function(){var O,S,k,D,U,X,W,z,A,Y,F,G,Z,H,j,K,q,V,J,Q,$,tt,et;t("getUsdToInr",at),s._RF.push({},"6e6dfGsrMxBhqhmwojL8yH7","BuyXPManager",void 0);var nt=u.ccclass,it=u.property;t("BuyXPManager",(O=nt("BuyXPManager"),S=it(l),k=it(l),D=it(c),U=it(p),X=it(h),W=it(p),z=it(p),A=it(p),Y=it(g),F=it(h),O((H=e((Z=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,o(e,"bgNode",H,r(e)),o(e,"uiNode",j,r(e)),o(e,"inputBox",K,r(e)),o(e,"infoLabel",q,r(e)),o(e,"buyButton",V,r(e)),o(e,"getWayBy",J,r(e)),o(e,"walletBalance",Q,r(e)),o(e,"xpTOusd",$,r(e)),o(e,"customPopUp",tt,r(e)),o(e,"submitButton",et,r(e)),e.isButtonLocked=!1,e.convertPlays=0,e.usd_Rate=100,e.playsString="",e}a(e,t);var s=e.prototype;return s.start=function(){var t=this;this.bgNode.getComponent(f).opacity=0,this.uiNode.active=!1,this.inputBox.node.on("text-changed",(function(){return t.onTextChanged()}),this),this.xpTOusd.string="",window.parent.addEventListener("testurl",this.onTestUrl.bind(this)),_.getDispatcher().on("Payment_Successful",this.hideBuyXPPanel,this)},s.onTestUrl=function(t){var e=t.detail;console.log("ðŸ”— Received iframe URL:",e.href);var n=e.searchParams.get("success");"true"===n?(console.log("âœ… Payment Success (from iframe)!"),this.hideBuyXPPanel()):"false"===n&&console.log("âŒ Payment Cancelled (from iframe)!")},s.getWalletBalance=function(){var t=n(i().mark((function t(){var e,n,a,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=R.loginDataResponse.data.id,t.next=3,M.request(I.WALLET_BALANCE+""+n,T.GET,null,!0);case 3:a=t.sent,R.playerBalancesResponse=a,null!=(o=null==a||null==(e=a.data)?void 0:e.play_balance)&&(this.walletBalance.string=o.toString());case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onBuyXpReturn=function(t){t.keyCode!==y.ENTER&&t.keyCode!==y.NUM_ENTER||this.getPayment()},s.onTextChanged=function(){var t=Number(this.inputBox.string);if(!isNaN(t)&&t>0&&t%1==0)console.log("Valid input"),this.playsString=t.toString(),this.infoLabel.string=t.toString(),this.isChackPaymentMethod(null,this.getWayBy.string);else{var e=E.instance.t("amount_to_be_paid");this.infoLabel.string=e,this.isChackPaymentMethod(null,this.getWayBy.string),console.log("Invalid input")}this.buyButton.interactable=!0},s.isChackPaymentMethod=function(t,e){var n=e;if("INR UPI (India)"===n)this.infoLabel.string=this.inputBox.string;else if("Credit Card (Paypal)"===n){var i=rt(Number(this.inputBox.string)/this.usd_Rate);if(isNaN(i)||i<=0){var a=E.instance.t("amount_to_be_paid");this.infoLabel.string=a}else this.infoLabel.string=i+""}else if("CRYPTO"===n){var o=rt(Number(this.inputBox.string)/this.usd_Rate);if(isNaN(o)||o<=0){var r=E.instance.t("amount_to_be_paid");this.infoLabel.string=r}else this.infoLabel.string=o+""}this.buyButton.interactable=!0},s.showBuyXPPanel=function(){var t=n(i().mark((function t(){var e,n,a=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.uiNode.active=!0,this.bgNode.active=!0,this.inputBox.string="",this.getWayBy.string="Select",this.playsString="",e=E.instance.t("amount_to_be_paid"),t.prev=6,t.next=9,at();case 9:n=t.sent,this.usd_Rate=n,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),this.usd_Rate=100;case 16:this.isChackPaymentMethod(null,"CRYPTO"),this.getWayBy.string="CRYPTO",this.infoLabel.string=e,d(this.bgNode.getComponent(f)).to(.2,{opacity:255}).start(),d(this.uiNode).to(.2,{position:new b(0,0,0)}).call((function(){})).start(),this.buyButton.interactable=!0,this.inputBox.node.on("editing-return",(function(){return a.getPayment()}),this),m.on(B.EventType.KEY_DOWN,this.onBuyXpReturn,this);case 24:case"end":return t.stop()}}),t,this,[[6,13]])})));return function(){return t.apply(this,arguments)}}(),s.hideBuyXPPanel=function(){var t=this;d(this.bgNode.getComponent(f)).to(.2,{opacity:0}).call((function(){t.bgNode.active=!1})).start(),d(this.uiNode).to(.2,{position:new b(0,-1500,0)}).call((function(){t.uiNode.active=!1})).start(),this.inputBox.node.off("editing-return",(function(){return t.getPayment()}),this),m.off(B.EventType.KEY_DOWN,this.onBuyXpReturn,this)},s.onBuyButtonClick=function(){var t=this;if(!this.isButtonLocked){this.isButtonLocked=!0;var e=this.inputBox.string;console.log("Buying XP with amount:",e),this.scheduleOnce((function(){t.isButtonLocked=!1}),2)}},s.getPayment=function(){var t=this;if(this.inputBox.string.length<1){_.getDispatcher().emit(w.ERROR_MSG_NOTIFY,"Please enter a valid amount greater than 0.")}else{this.buyButton.interactable=!1,this.inputBox.node.off("editing-return",(function(){return t.getPayment()}),this),m.off(B.EventType.KEY_DOWN,this.onBuyXpReturn,this);var e=R.loginDataResponse.data.id,n=R.auctionHouseResponse.data.currentAuctionHouse.id,i=+Number(this.infoLabel.string),a=+Number(this.inputBox.string);if(isNaN(i)||i<=0){return _.getDispatcher().emit(w.ERROR_MSG_NOTIFY,"Please enter a valid amount greater than 0."),void(this.buyButton.interactable=!0)}if("INR UPI (India)"===this.getWayBy.string)N.generateBuyPlaysLink({player_id:e,auction_house_id:n,amount:i,plays:a,currency_type:"INR"});else if("Credit Card (Paypal)"===this.getWayBy.string)C.launch(x.apiBaseURL,e,i,a,n,(function(e){t.hideBuyXPPanel(),_.getDispatcher().emit(w.IS_LOADER_ON,!0,i),t.showPopup("Payment Success!","You've successfully completed your payment. Enjoy your new XP!"),console.log("ðŸŽ‰ Payment Success!",e)}),(function(t){console.log("âŒ Payment Failed",t)}));else if("CRYPTO"===this.getWayBy.string){var o={player_id:e,auction_house_id:n,amount:i,plays:a,currency_type:"USD"};N.generateBuyXPLink(o)}else{console.error("Unsupported payment method:",this.getWayBy.string);_.getDispatcher().emit(w.ERROR_MSG_NOTIFY,"Please select a payment method."),this.buyButton.interactable=!0}this.scheduleOnce((function(){t.buyButton.interactable=!0}),5)}},s.showPopup=function(t,e){var n=this,i=P(this.customPopUp);i.setPosition(0,0),i.setScale(b.ZERO),this.node.addChild(i);i.getComponent(L).setCallback((function(){return n.setZoomOut(i)}),null),i.getComponent(L).Msg.string=e,i.getComponent(L).title.string=t,this.setZoom(i)},s.setZoom=function(t){d(t).to(.2,{scale:new b(1.2,1.2,1.2)}).to(.1,{scale:new b(1,1,1)}).start()},s.setZoomOut=function(t){d(t).to(.2,{scale:b.ZERO}).destroySelf().start()},e}(v)).prototype,"bgNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(Z.prototype,"uiNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(Z.prototype,"inputBox",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(Z.prototype,"infoLabel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(Z.prototype,"buyButton",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(Z.prototype,"getWayBy",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(Z.prototype,"walletBalance",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(Z.prototype,"xpTOusd",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(Z.prototype,"customPopUp",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(Z.prototype,"submitButton",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=Z))||G));function at(t){return ot.apply(this,arguments)}function ot(){return(ot=n(i().mark((function t(e){var n,a,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e="https://open.er-api.com/v6/latest/USD"),t.prev=1,t.next=4,fetch(e);case 4:if((n=t.sent).ok){t.next=7;break}throw new Error("HTTP error! Status: "+n.status);case 7:return t.next=9,n.json();case 9:if((a=t.sent)&&a.rates&&"number"==typeof a.rates.INR){t.next=12;break}throw new Error("Invalid API response format");case 12:return o=parseFloat(a.rates.INR.toFixed(2)),console.log("1 USD = "+o+" INR"),t.abrupt("return",o);case 17:return t.prev=17,t.t0=t.catch(1),console.error("Failed to fetch USD to INR rate:",t.t0),t.abrupt("return",null);case 21:case"end":return t.stop()}}),t,null,[[1,17]])})))).apply(this,arguments)}function rt(t){return Math.ceil(100*t)/100}s._RF.pop()}}}));

System.register("chunks:///_virtual/ChackVelidetionOnChange.ts",["./rollupPluginModLoBabelHelpers.js","cc","./APIManager.ts","./BigDealGameModel.ts","./BigDealEvents.ts"],(function(e){var t,r,n,i,a,s,o,u,l,c,p,d,h,g,f,b,x,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){o=e.cclegacy,u=e._decorator,l=e.EditBox,c=e.Label,p=e.Node,d=e.Sprite,h=e.SpriteFrame,g=e.Color,f=e.Component},function(e){b=e.getPlayarToken},function(e){x=e.BigDealGameModel},function(e){y=e.StaticProperties}],execute:function(){var m,v,I,C,w,E,k,B,M,D,T,F,N;o._RF.push({},"4f334WRTQBE7omyZB7T9Lbf","ChackVelidetionOnChange",void 0);var z=u.ccclass,L=u.property;e("InputValidationV2",(m=z("InputValidationV2"),v=L(l),I=L(c),C=L(p),w=L(d),E=L(h),m((M=t((B=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(t,"editBox",M,i(t)),n(t,"ErrorMessege",D,i(t)),n(t,"loadingNode",T,i(t)),n(t,"boxNodes",F,i(t)),n(t,"boxFrame",N,i(t)),t.str=void 0,t}r(t,e);var o=t.prototype;return o.onLoad=function(){this.editBox.node.on("text-changed",this.onTextChanged,this)},o.isFirstOrLastSpace=function(e){return!(!e||0===e.length)&&(e.startsWith(" ")||e.endsWith(" "))},o.onTextChanged=function(){var e=a(s().mark((function e(t){var r,n,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.string,n={user_id:r},this.ErrorMessege.string="",!this.isFirstOrLastSpace(r)){e.next=7;break}return this.setInputColor("red"),this.ErrorMessege.string="Invalid: First or last character is a space",e.abrupt("return");case 7:if(r.trim()){e.next=11;break}return this.setInputColor("red"),this.ErrorMessege.string="Input cannot be empty.",e.abrupt("return");case 11:if(/^[A-Za-z0-9_\-!@#$%^&*()+=\{\}\[\]:;"'<>,.?/\\ ]+$/.test(r)){e.next=16;break}return this.setInputColor("red"),this.ErrorMessege.string="User ID contains invalid characters.",e.abrupt("return");case 16:if(!(r.length>9)){e.next=20;break}return this.setInputColor("red"),this.ErrorMessege.string="User ID must be 4â€“9 characters long.",e.abrupt("return");case 20:if(!(r.trim().length<=3)){e.next=24;break}return this.setInputColor("red"),this.ErrorMessege.string="User ID too short.",e.abrupt("return");case 24:return e.prev=24,i=x.loginDataResponse.data.id,this.loadingNode.active=!0,e.next=29,this.validateUserId(i,n);case 29:a=e.sent,this.loadingNode.active=!1,null!=a&&a.is_valid&&r.length>3?t.string.trim().length>3&&(this.setInputColor("white"),this.ErrorMessege.string=""):(this.setInputColor("red"),this.ErrorMessege.string="this User ID already exists.."),e.next=38;break;case 34:e.prev=34,e.t0=e.catch(24),console.warn("Validation failed:",e.t0),this.setInputColor("red");case 38:case"end":return e.stop()}}),e,this,[[24,34]])})));return function(t){return e.apply(this,arguments)}}(),o.setInputColor=function(e){var t="white"===e?new g(255,255,255):new g(255,0,0);this.editBox.textLabel.color=t,"white"!=e&&(this.boxNodes.spriteFrame=this.boxFrame);var r=document.getElementsByClassName("cocosEditBox");if(r&&r.length>0){var n=Array.from(r).find((function(e){return"none"!==e.style.display}));n&&(n.style.color=e,n.style.background="transparent",n.style.border="none")}},o.validateUserId=function(){var e=a(s().mark((function e(t,r){var n,i,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=y.apiBaseURL+"v1/user/"+t+"/userIdValidate",i=b()){e.next=4;break}return e.abrupt("return");case 4:return a={"Content-Type":"application/json",Authorization:"Bearer "+i},e.next=7,fetch(n,{method:"PUT",headers:a,body:JSON.stringify(r)});case 7:if((o=e.sent).ok){e.next=10;break}throw new Error("HTTP Error: "+o.status);case 10:return e.next=12,o.json();case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t}(f)).prototype,"editBox",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(B.prototype,"ErrorMessege",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(B.prototype,"loadingNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(B.prototype,"boxNodes",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(B.prototype,"boxFrame",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=B))||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/ChackVelidUserID.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,s,i,o,a,c,u,l,h,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){a=e.cclegacy,c=e._decorator,u=e.EditBox,l=e.Label,h=e.Color,p=e.Component}],execute:function(){var d,g,f,b,y,I,v;a._RF.push({},"8151djC8UZJEb5J4vsZqI7K","ChackVelidUserID",void 0);var x=c.ccclass,C=c.property;e("ChackVelidUserID",(d=x("ChackVelidUserID"),g=C(u),f=C(l),d((I=r((y=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i))||this,n(r,"editBox",I,s(r)),n(r,"ErrorMessege",v,s(r)),r.str=void 0,r}t(r,e);var a=r.prototype;return a.onLoad=function(){this.editBox.node.on("text-changed",this.onTextChanged,this)},a.isFirstOrLastSpace=function(e){return!(!e||0===e.length)&&(e.startsWith(" ")||e.endsWith(" "))},a.onTextChanged=function(){var e=i(o().mark((function e(r){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.string,this.ErrorMessege.string="",!this.isFirstOrLastSpace(t)){e.next=7;break}return this.setInputColor("red"),this.ErrorMessege.string="Invalid: First or last character is a space",e.abrupt("return");case 7:if(t.trim()){e.next=11;break}return this.setInputColor("red"),this.ErrorMessege.string="Input cannot be empty.",e.abrupt("return");case 11:if(/^[A-Za-z0-9_\-!@#$%^&*()+=\{\}\[\]:;"'<>,.?/\\ ]+$/.test(t)){e.next=16;break}return this.setInputColor("red"),this.ErrorMessege.string="User ID contains invalid characters.",e.abrupt("return");case 16:if(!(t.length>9)){e.next=20;break}return this.setInputColor("red"),this.ErrorMessege.string="User ID must be 4â€“9 characters long.",e.abrupt("return");case 20:if(!(t.trim().length<=3)){e.next=24;break}return this.setInputColor("red"),this.ErrorMessege.string="User ID too short.",e.abrupt("return");case 24:this.setInputColor("white"),this.ErrorMessege.string="";case 26:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}(),a.setInputColor=function(e){var r="white"===e?new h(255,255,255):new h(255,0,0);this.editBox.textLabel.color=r;var t=document.getElementsByClassName("cocosEditBox");if(t&&t.length>0){var n=Array.from(t).find((function(e){return"none"!==e.style.display}));n&&(n.style.color=e,n.style.background="transparent",n.style.border="none")}},r}(p)).prototype,"editBox",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=r(y.prototype,"ErrorMessege",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=y))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/ClaimRewardPrize.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CustomPopUp.ts","./BigDealGameModel.ts","./APIManager.ts","./ApiUrls.ts","./BigDealEvents.ts","./EventManager.ts","./MyAuctionHistoryPrefab.ts","./EmailOTPVerification.ts","./IndexedDBManager.ts","./GetEmailOrPhone.ts"],(function(e){var t,i,n,r,a,o,s,l,u,c,p,d,h,f,m,g,P,b,_,v,w,O,D,R,y,T,C,x,I,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,u=e.EditBox,c=e.Label,p=e.Prefab,d=e.Node,h=e.Color,f=e.instantiate,m=e.Vec3,g=e.HorizontalTextAlignment,P=e.tween,b=e.UIOpacity,_=e.Component},function(e){v=e.CustomPopUp},function(e){w=e.BigDealGameModel},function(e){O=e.APIManager,D=e.MethodType},function(e){R=e.API_URLS},function(e){y=e.BigDealEvents},function(e){T=e.default},function(e){C=e.ShippingClaimStatus},function(e){x=e.ClaimRewardOTPVerification},function(e){I=e.IndexedDBManager},function(e){E=e.EmailorPhoneVerification}],execute:function(){var B,N,z,A,S,V,k,U,M,F,q,L,Z,X,G,Y,H,j,W,$,J,K,Q,ee,te,ie,ne,re,ae,oe,se,le,ue;s._RF.push({},"41f54XXnoxH8rK/Eis5A1qZ","ClaimRewardPrize",void 0);var ce=l.ccclass,pe=l.property;e("ClaimRewardPrize",(B=ce("ClaimRewardPrize"),N=pe(u),z=pe(u),A=pe(u),S=pe(u),V=pe(c),k=pe(p),U=pe(d),M=pe(d),F=pe(d),q=pe(d),L=pe(d),Z=pe(d),X=pe(c),G=pe(x),Y=pe(E),B((W=t((j=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"address",W,r(t)),n(t,"PinCode",$,r(t)),n(t,"emailEditBox",J,r(t)),n(t,"PhoneEditBox",K,r(t)),n(t,"cCode",Q,r(t)),n(t,"customPopUp",ee,r(t)),n(t,"emailBox",te,r(t)),n(t,"PhoneBox",ie,r(t)),n(t,"popupParent",ne,r(t)),n(t,"popupBg",re,r(t)),n(t,"UiNode",ae,r(t)),n(t,"winingpage",oe,r(t)),n(t,"ButtonName",se,r(t)),n(t,"reward_OTP_Vrf",le,r(t)),n(t,"email_OTP_Vrf",ue,r(t)),t.isClick=!1,t.openY=750,t.closeY=-640,t.isButtonClicked=!1,t.auctionId=null,t.OtpResponse=null,t.userData=null,t.updateProfile=!0,t.productPrice=null,t.product_Name=null,t.isShowClame=!1,t}i(t,e);var s=t.prototype;return s.start=function(){T.getDispatcher().on(y.COMPLETE_EMAIL_VERIFICATION,this.openPopUP,this),T.getDispatcher().on(C.Clam_Winging_Price,this.init,this)},s.onDestroy=function(){T.getDispatcher().off(C.Clam_Winging_Price,this.init,this),T.getDispatcher().off(y.COMPLETE_EMAIL_VERIFICATION,this.openPopUP,this)},s.init=function(e){this.auctionId=e.auction_id,this.product_Name=e.product_name,this.productPrice=e.product_price;var t=e.product_price,i=e.winner_bid_value,n=w.playerBalancesResponse.data.play_balance;console.warn("Balance :",n);var r=this.parsentCalculation(t,i);this.isShowClame=r.success,this.showPopup("ALERT!!",r.message,r.warn||null),console.warn(r)},s.parsentCalculation=function(e,t){var i,n,r=Number(null!=(i=null==(n=w.playerBalancesResponse)||null==(n=n.data)?void 0:n.play_balance)?i:0),a=Number(t);if(isNaN(e)||isNaN(a))return{success:!1,message:"Invalid product or bid value.",color:h.RED};var o=a,s=e*(100-o)/100,l=Math.max(Math.floor(s),0);if(r>=l)return{success:!0,message:"Product Price:               "+e+" XP\nWinning Bid:                  "+a+"\nDiscount:                         "+o+"%\nFinal Price to Pay:       "+l+" XP\nBalance:                            "+r+" XP",color:h.GREEN};var u=Math.max(l-r,0);return{success:!1,message:"Product Price:               "+e+" XP\nWinning Bid:                  "+a+"\nDiscount:                         "+o+"%\nFinal Price to Pay:       "+l+" XP\nBalance:                            "+r+" XP",color:h.RED,warn:"*  You need "+u+" more XP to claim your prize. "}},s.showPopup=function(e,t,i){var n=this;void 0===i&&(i=null);var r=f(this.customPopUp);r.setPosition(0,0),r.setScale(m.ZERO),this.popupParent.addChild(r);if(r.getComponent(v).setCallback((function(){return n.setZoomOutPopUp(r)}),null),r.getComponent(v).Msg.string=t,r.getComponent(v).Msg.horizontalAlign=g.LEFT,r.getComponent(v).title.string=e,r.getComponent(v).title.horizontalAlign=g.LEFT,i){var a=r.getComponent(v).toolTip;a.active=!0,a.getComponent(c).string=i,a.getComponent(c).horizontalAlign=g.CENTER}this.setZoom(r)},s.setZoomOutPopUp=function(e){this.isShowClame&&this.claim(),P(e).to(.2,{scale:new m(0,0,1)}).call((function(){return e.destroy()})).start()},s.claim=function(){w.loginDataResponse.data.is_mobile_verified&&w.loginDataResponse.data.is_email_verified?this.openPopUP():this.email_OTP_Vrf.showBuyXPPanel()},s.openPopUP=function(){var e,t,i,n=this.auctionId,r=this.product_Name;this.address.string="",this.product_Name=r,this.PinCode.string=(null==(e=w.loginDataResponse)||null==(e=e.data)?void 0:e.zipcode)||"";var a=this.getMobileNumber(null==(t=w.loginDataResponse)||null==(t=t.data)?void 0:t.mobile_no),o=null==(i=w.loginDataResponse)||null==(i=i.data)?void 0:i.email;this.PhoneEditBox.string=a||"",this.emailEditBox.string=o||"",this.emailBox.active=!1,this.PhoneBox.active=!1,this.updateProfile=!1,this.ButtonName.string="Send OTP",this.isClick=!1,this.auctionId=n,this.openPanel()},s.openPanel=function(){this.popupBg.active=!0;var e=this.popupBg.getComponent(b);e.opacity=0,P(e).to(.3,{opacity:255}).start(),this.UiNode.active=!0,P(this.UiNode).to(.25,{position:new m(0,this.openY,0)}).start()},s.closePanel=function(){var e=this,t=this.popupBg.getComponent(b);P(t).to(.25,{opacity:0},{onComplete:function(){e.popupBg.active=!1}}).start(),P(this.UiNode).to(.25,{position:new m(0,this.closeY,0)}).call((function(){e.UiNode.active=!1})).start()},s.onClickClaimReward=function(){var e;if(!this.isClick){this.isClick=!0;var t=null==(e=w.loginDataResponse)?void 0:e.data,i=t.id,n=t.first_name,r=this.auctionId,a=this.address.string.trim(),o=this.PinCode.string.trim(),s=this.emailEditBox.string.trim(),l=this.PhoneEditBox.string.trim(),u=(this.cCode.string.trim(),this.product_Name.trim());if(a&&o){var c={user_Id:""+i,auction_Id:""+r,full_name:""+n,phone_number:""+l,email:""+s,full_shipping_address:""+a,zipcode:""+o,ProductName:""+u};this.shippingAddress(c)}else this.showValidationAlert(a,o),this.isClick=!1}},s.getData=function(){var e,t=null==(e=w.loginDataResponse)?void 0:e.data,i=t.id,n=t.first_name,r=this.auctionId,a=this.address.string.trim(),o=this.PinCode.string.trim(),s=(this.emailEditBox.string.trim(),this.PhoneEditBox.string.trim(),this.cCode.string.trim(),{user_Id:""+i,auction_Id:""+r,full_name:""+n||"Unknown",full_shipping_address:""+a,zipcode:""+o});return this.showValidationAlert(s.full_shipping_address,s.zipcode)?s:null},s.getMobileNumber=function(e){return e?e.replace(/\D/g,"").slice(-10):null},s.sendOTP=function(){var e=a(o().mark((function e(){var t,i,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getData()){e.next=3;break}return e.abrupt("return");case 3:if(this.userData=t,w.loginDataResponse.data.is_mobile_verified){e.next=10;break}return this.userData.notVerified="mobile",e.next=8,this.sendOTPForVarifiy({mobile_no:this.userData.phone_number||(null==(i=w.loginDataResponse)||null==(i=i.data)?void 0:i.mobile_no)});case 8:e.next=18;break;case 10:if(w.loginDataResponse.data.is_email_verified){e.next=16;break}return this.userData.notVerified="email",e.next=14,this.sendOTPForVarifiy({email:this.userData.email||(null==(n=w.loginDataResponse)||null==(n=n.data)?void 0:n.email)});case 14:e.next=18;break;case 16:return e.next=18,this.sendOTPForVarifiy({mobile_no:this.userData.phone_number||(null==(r=w.loginDataResponse)||null==(r=r.data)?void 0:r.mobile_no)});case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.sendOTPForVarifiy=function(){var e=a(o().mark((function e(t){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.email||t.mobile_no){e.next=4;break}return console.warn("âŒ Missing email or mobile number for OTP request"),e.abrupt("return");case 4:return console.log("ðŸ“¤ Sending OTP with data:",t),e.next=7,O.request(R.SEND_OTP,D.POST,t);case 7:if(i=e.sent,this.OtpResponse=i,this.reward_OTP_Vrf.init(t.email||t.mobile_no,this.vryOTP.bind(this)),null==i||!i.success){e.next=15;break}return console.log("âœ… OTP Sent Successfully:",i.message),e.abrupt("return",!0);case 15:return console.error("âš ï¸ OTP Send Failed:",(null==i?void 0:i.message)||"Unknown error"),e.abrupt("return",!1);case 17:e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(0),console.error("ðŸš¨ OTP Request Error:",e.t0),e.abrupt("return",!1);case 23:case"end":return e.stop()}}),e,this,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),s.vryOTP=function(e){var t=this.getData();if(t)if(this.OtpResponse&&this.OtpResponse.data){var i=this.OtpResponse.data.otpRequestId||"";this.userData=this.userData||t,this.userData.otpRequestId=i,this.userData.otp=e,this.shippingAddress(this.userData),this.updateProfile&&this.updateProfileVRY(t)}else console.warn("vryOTP: OtpResponse is undefined or missing data");else console.warn("vryOTP: userData is null or invalid")},s.emailsendOTPForVarifiy=function(){var e=a(o().mark((function e(t){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.email||t.mobile_no){e.next=4;break}return console.warn("âŒ Missing email or mobile number for OTP request"),e.abrupt("return");case 4:return console.log("ðŸ“¤ Sending OTP with data:",t),e.next=7,O.request(R.SEND_OTP_FOR_SHIPPING,D.POST,t);case 7:if(i=e.sent,this.OtpResponse=i,this.reward_OTP_Vrf.init(t.email||t.mobile_no,this.vryOTP.bind(this)),null==i||!i.success){e.next=15;break}return console.log("âœ… OTP Sent Successfully:",i.message),e.abrupt("return",!0);case 15:return console.error("âš ï¸ OTP Send Failed:",(null==i?void 0:i.message)||"Unknown error"),e.abrupt("return",!1);case 17:e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(0),console.error("ðŸš¨ OTP Request Error:",e.t0),e.abrupt("return",!1);case 23:case"end":return e.stop()}}),e,this,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),s.emailVryOTP=function(e){var t=this.getData();if(t)if(this.OtpResponse&&this.OtpResponse.data){var i=this.OtpResponse.data.otpRequestId||"";this.userData=this.userData||t,this.userData.otpRequestId=i,this.userData.otp=e,this.shippingAddress(this.userData),this.updateProfile&&this.updateProfileVRY(t)}else console.warn("vryOTP: OtpResponse is undefined or missing data");else console.warn("vryOTP: userData is null or invalid")},s.updateProfileVRY=function(){var e=a(o().mark((function e(t){var i,n,r,a,s,l,u,c,p,d,h,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=w.loginDataResponse.data.first_name,n=w.loginDataResponse.data.gender,r=w.loginDataResponse.data.country,a=w.loginDataResponse.data.zipcode,s=w.loginDataResponse.data.avatar,l=w.loginDataResponse.data.referral_code,u=w.loginDataResponse.data.user_id,c=t.email,p=t.phone_number,d={first_name:i.trim(),gender:n.trim(),country:r.trim(),email:c.trim(),mobile_no:p,zipcode:a.trim(),referral_code:l.trim(),avatar:""+s,user_id:u.trim()},e.prev=10,h=w.loginDataResponse.data.id,e.next=14,O.request(""+R.REGISTRATION+h,D.PUT,d,!0);case 14:f=e.sent,w.upDateProfileResponse=f,this.updateLocalProfile(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(10),console.error("âŒ Profile update failed",e.t0);case 22:case"end":return e.stop()}}),e,this,[[10,19]])})));return function(t){return e.apply(this,arguments)}}(),s.updateLocalProfile=function(){var e=w.upDateProfileResponse.data,t=w.loginDataResponse.data;Object.assign(t,{email:e.email,mobile_no:e.mobile_no,is_mobile_verified:e.is_mobile_verified,is_email_verified:e.is_email_verified}),e.is_verified&&(localStorage.setItem("PlayerLoginObj",JSON.stringify(w.loginDataResponse)),I.inst.setItem("PlayerLoginObj",JSON.stringify(w.loginDataResponse)))},s.shippingAddress=function(){var e=a(o().mark((function e(t){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.request(R.SHIPPING_INFO,D.POST,t,!0);case 3:i=e.sent,this.closePanel(),P(this.node).delay(.5).call((function(){T.getDispatcher().emit(y.AUCTION_Claim,t.auction_Id)})).start(),this.reward_OTP_Vrf.showPopup(!1),console.log("Shipping Info Submitted:",i),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Shipping API error:",e.t0),this.isClick=!1;case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),s.showValidationAlert=function(e,t){var i=null;return t?e||(i="Address is required."):i="Full Name is required, Please update your profile.",!i||(T.getDispatcher().emit(y.ERROR_MSG_NOTIFY,i),!1)},s.setZoomOut=function(e){P(e).to(.2,{scale:new m(0,0,1)}).call((function(){return e.destroy()})).start()},s.setZoom=function(e){P(e).to(.2,{scale:new m(1.2,1.2,1.2)}).to(.1,{scale:new m(1,1,1)}).start()},s.isValidIndianPincode=function(e){return/^[1-9][0-9]{5}$/.test(e)},s.isStrictValidEmail=function(e){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)},s.isValidPhoneNumber=function(e){return/^\d{10}$/.test(e)},s.isValidEmail=function(e){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)},t}(_)).prototype,"address",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(j.prototype,"PinCode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(j.prototype,"emailEditBox",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(j.prototype,"PhoneEditBox",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(j.prototype,"cCode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(j.prototype,"customPopUp",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(j.prototype,"emailBox",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(j.prototype,"PhoneBox",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(j.prototype,"popupParent",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(j.prototype,"popupBg",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(j.prototype,"UiNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(j.prototype,"winingpage",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(j.prototype,"ButtonName",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(j.prototype,"reward_OTP_Vrf",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(j.prototype,"email_OTP_Vrf",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=j))||H));s._RF.pop()}}}));

System.register("chunks:///_virtual/ComingSoonAuctions.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UpComingAuction.ts","./APIManager.ts","./ApiUrls.ts","./BigDealGameModel.ts"],(function(e){var n,t,o,i,r,a,c,u,l,s,p,d,f,g,h,m,v,b;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){c=e.cclegacy,u=e._decorator,l=e.Node,s=e.ScrollView,p=e.Prefab,d=e.instantiate,f=e.Component},function(e){g=e.UpComingAuction},function(e){h=e.APIManager,m=e.MethodType},function(e){v=e.API_URLS},function(e){b=e.BigDealGameModel}],execute:function(){var A,N,y,S,P,w,C,_,M,U,I,L,O;c._RF.push({},"12cd2SMNlxPYoa+qAB3sw7A","ComingSoonAuctions",void 0);var z=u.ccclass,D=u.property;e("ComingSoonAuctions",(A=z("ComingSoonAuctions"),N=D(l),y=D(l),S=D(s),P=D(p),w=D(l),A((M=n((_=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,o(n,"uiNode",M,i(n)),o(n,"comingSoonLabelNode",U,i(n)),o(n,"comingSoonScrollView",I,i(n)),o(n,"auctionPrefab",L,i(n)),o(n,"auctionParentNode",O,i(n)),n.isOn=!1,n}t(n,e);var c=n.prototype;return c.activateUINode=function(){this.isOn||(this.isOn=!0,this.node.active=!0,this.uiNode.active=!0,this.fetchUpcomingAuctions())},c.deactivateUINode=function(){if(this.isOn){var e;if(this.isOn=!1,(null==(e=b.auctionHouseListResponse)?void 0:e.data.length)<=0)return;this.uiNode.active=!1}},c.fetchUpcomingAuctions=function(){var e=r(a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=b.auctionHouseResponse.data.currentAuctionHouse.id,e.next=4,h.request(v.UPCOMING_AUCTION+n,m.GET);case 4:(t=e.sent).success&&t.data.length>0?(this.comingSoonLabelNode.active=!1,this.populateAuctions(t.data)):(this.comingSoonLabelNode.active=!0,console.error("No upcoming auctions found or API error")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching upcoming auctions:",e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),c.populateAuctions=function(e){var n=this;this.auctionParentNode.removeAllChildren(),e.forEach((function(e){var t,o,i,r,a=d(n.auctionPrefab),c=a.getComponent(g);if(c){var u,l,s,p=e.start_date?(t=e.start_date,o=new Date(t),i=new Date,r=o.getTime()-i.getTime(),Math.floor(r/1e3)):0;c.init(null==e||null==(u=e.products)?void 0:u.title,null==e||null==(l=e.products)?void 0:l.price.toString(),null==e?void 0:e.plays_consumed_on_bid,null==e||null==(s=e.products)||null==(s=s.productMedias[0])?void 0:s.medias.local_path,p),p&&n.scheduleOnce((function(){c&&c.destroy()}),p)}n.auctionParentNode.addChild(a)}))},n}(f)).prototype,"uiNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(_.prototype,"comingSoonLabelNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(_.prototype,"comingSoonScrollView",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(_.prototype,"auctionPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(_.prototype,"auctionParentNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=_))||C));c._RF.pop()}}}));

System.register("chunks:///_virtual/CookieUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,i;return{setters:[function(e){o=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy}],execute:function(){var t;i._RF.push({},"745518BdXxDiYiN5j/0EcQi","CookieUtils",void 0);var n=e("CookieUtils",function(){function e(){}return e.detectCookieDomain=function(){var e=window.location.host;return e.includes("auctionx.dev")?".auctionx.dev":e.includes("auctionx.live")?".auctionx.live":e.includes("localhost")||e.includes("127.0.0.1")?"":".auctionx.dev"},e.setCookie=function(e,o,i){void 0===i&&(i=3650),this.getCookie(e)&&this.deleteCookie(e);var t=new Date;t.setTime(t.getTime()+24*i*60*60*1e3);var n=e+"="+encodeURIComponent(o)+"; path=/; domain="+this.COOKIE_DOMAIN+"; expires="+t.toUTCString()+"; secure; SameSite=None";document.cookie=n,console.log("[CookieManager] Set: "+n)},e.getCookie=function(e){var o=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)")),i=o?decodeURIComponent(o[2]):null;return console.log("[CookieManager] Get: "+e+" = "+i),i},e.eraseCookie=function(e){this.setCookie(e,"",-1)},e.deleteCookie=function(e){var o=e+"=; path=/; domain="+this.COOKIE_DOMAIN+"; expires=Thu, 01 Jan 1970 00:00:00 GMT; secure; SameSite=None";document.cookie=o,console.log("[CookieManager] Delete: "+o)},e.clearAllCookies=function(){for(var e,i=document.cookie.split(";"),t=o(i);!(e=t()).done;){var n=e.value,c=n.indexOf("="),a=c>-1?n.substring(0,c).trim():n.trim();this.deleteCookie(a)}console.log("[CookieManager] All cookies cleared.")},e}());t=n,n.COOKIE_DOMAIN=t.detectCookieDomain(),i._RF.pop()}}}));

System.register("chunks:///_virtual/CountdownTimerForLiveAuction.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,o,r,u,a,s,l,d,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,u=t._decorator,a=t.Node,s=t.Label,l=t.Sprite,d=t.Animation,c=t.Component}],execute:function(){var h,p,g,m,f,N,y,v,b,T,w,C,D,A,z,F,M,L,R;r._RF.push({},"22999JdjMpA0KYpSrFKwEW+","CountdownTimerForLiveAuction",void 0);var k=u.ccclass,x=u.property;t("CountdownTimerForLiveAuction",(h=k("CountdownTimerForLiveAuction"),p=x(a),g=x(a),m=x(a),f=x(a),N=x(a),y=x(a),v=x(a),b=x(a),h((C=e((w=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),u=0;u<i;u++)r[u]=arguments[u];return e=t.call.apply(t,[this].concat(r))||this,n(e,"dayNode1",C,o(e)),n(e,"dayNode2",D,o(e)),n(e,"hourNode1",A,o(e)),n(e,"hourNode2",z,o(e)),n(e,"minuteNode1",F,o(e)),n(e,"minuteNode2",M,o(e)),n(e,"secondNode1",L,o(e)),n(e,"secondNode2",R,o(e)),e.targetEndTime=0,e.isRunning=!1,e.upComingNode=null,e}i(e,t);var r=e.prototype;return r.init=function(t,e){this.targetEndTime=Date.now()+1e3*t,this.updateTimerUI(),this.upComingNode=e},r.startTimer=function(){this.isRunning||(this.isRunning=!0,this.schedule(this.tick,1))},r.stopTimer=function(){this.isRunning=!1,this.unschedule(this.tick)},r.tick=function(){var t=Date.now(),e=this.targetEndTime-t,i=Math.max(0,Math.floor(e/1e3));if(i<=0)return this.stopTimer(),this.updateTimerUI(0),void this.upComingNode.removeFromParent();this.updateTimerUI(i)},r.updateTimerUI=function(t){void 0===t&&(t=0);var e=t>0?t:Math.max(0,Math.floor((this.targetEndTime-Date.now())/1e3)),i=e,n=Math.floor(i/86400);i%=86400;var o=Math.floor(i/3600);i%=3600;var r=Math.floor(i/60),u=i%60;this.setTwoDigits(this.dayNode1,this.dayNode2,n>0?n:-1),this.setTwoDigits(this.hourNode1,this.hourNode2,n>0||o>0?o:-1),this.setTwoDigits(this.minuteNode1,this.minuteNode2,n>0||o>0||r>0?r:-1),this.setTwoDigits(this.secondNode1,this.secondNode2,e>0?u:-1)},r.setTwoDigits=function(t,e,i){if(-1===i)return this.setDigit(t,"-"),void this.setDigit(e,"-");var n=i.toString().padStart(2,"0");this.setDigit(t,n.charAt(0)),this.setDigit(e,n.charAt(1))},r.redyForNextAuction=function(t,e){var i,n=t.getChildByName("Mask");if(n){var o=null==(i=n.getChildByName("Time"))?void 0:i.getComponent(s);o&&(o.string=e);var r=n.getComponent(l);r&&(r.fillRange=1)}},r.setDigit=function(t,e){var i,n=null==(i=t.getChildByName("Time"))?void 0:i.getComponent(s);if(n)if(""!==n.string){if(n.string!==e){this.redyForNextAuction(t,n.string),n.string=e;var o=t.getComponent(d);o&&o.play()}}else{n.string=e;var r=t.getComponent(d);r&&r.play()}},e}(c)).prototype,"dayNode1",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(w.prototype,"dayNode2",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(w.prototype,"hourNode1",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(w.prototype,"hourNode2",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(w.prototype,"minuteNode1",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(w.prototype,"minuteNode2",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(w.prototype,"secondNode1",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(w.prototype,"secondNode2",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=w))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/CustomPopUp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,n,o,r,l,a,c,u,s,b,p,f,h,m,y,g;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,a=t.Label,c=t.Sprite,u=t.Button,s=t.SpriteFrame,b=t.Node,p=t.view,f=t.Vec3,h=t.tween,m=t.Tween,y=t.UIOpacity,g=t.Component}],execute:function(){var d,v,C,w,z,T,B,L,x,A,k,E,M,P,S,U,D,F,_,I,V,j,N,O,R,q,H,W,G;r._RF.push({},"e398dsW9jlNo5iin0C2TEqr","CustomPopUp",void 0);var J=l.ccclass,K=l.property;t("CustomPopUp",(d=J("CustomPopUp"),v=K(a),C=K(a),w=K(c),z=K(u),T=K(u),B=K(a),L=K(a),x=K(u),A=K(s),k=K(b),E=K(b),M=K(b),P=K(b),d((D=i((U=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),l=0;l<e;l++)r[l]=arguments[l];return i=t.call.apply(t,[this].concat(r))||this,n(i,"title",D,o(i)),n(i,"Msg",F,o(i)),n(i,"logo",_,o(i)),n(i,"btn1",I,o(i)),n(i,"btn2",V,o(i)),n(i,"btn1bl",j,o(i)),n(i,"btn2bl",N,o(i)),n(i,"ExitBtn",O,o(i)),n(i,"Logoframe",R,o(i)),n(i,"isMaintenenceBg",q,o(i)),n(i,"coppyButton",H,o(i)),n(i,"toolTip",W,o(i)),n(i,"blackbg",G,o(i)),i.isDelete=!1,i.isAction=!1,i.ActionType=null,i.cb1=null,i.cb2=null,i.Commoncb=null,i}e(i,t);var r=i.prototype;return r.start=function(){p.getVisibleSize().width<p.getVisibleSize().height&&(this.node.scale=new f(.7,.7,1))},r.onLoad=function(){this.isMaintenenceBg.active=!1},r.setCallback=function(t,i){this.cb1=t,this.cb2=i},r.onExitLayer=function(){if(this.node){var t=this.node,i=t;this.blackbg.active=!1,h(t).to(.2,{scale:new f(0,0,1)}).call((function(){i.removeFromParent()})).start()}},r.onBtn1Click=function(t,i){this.isAction?this.ActionType?(this.ActionCommonPop(this.ActionType),this.Commoncb()):(this.onExitLayer(),this.Commoncb()):this.cb1?(this.cb1(t),this.onExitLayer()):this.onExitLayer()},r.onBtn2Click=function(t,i){this.cb2?t?this.cb2(t):this.cb2():this.onExitLayer()},r.setButtonIntractable=function(t,i){void 0===t&&(t=!0),void 0===i&&(i=!0),this.btn1.interactable=t,this.btn2.interactable=i},r.setActionOnClick=function(t,i,e){if(void 0===e&&(e=!1),e)return this.btn1.node.active=!1,this.btn1.node.active=!1,void(this.isMaintenenceBg.active=!0);this.isAction=!0,this.ActionType=t,this.Commoncb=i},r.coppyTect=function(){var t=this;this.Msg.string&&(this.fallbackCopy(this.Msg.string),m.stopAllByTarget(this.toolTip),this.toolTip.getComponent(y).opacity=0,this.toolTip.active=!0,h(this.toolTip.getComponent(y)).to(.5,{opacity:255}).delay(1.5).to(.5,{opacity:0}).call((function(){t.toolTip.active=!0})).start())},r.fallbackCopy=function(t){var i=document.createElement("textarea");i.value=t,document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i),console.log("Copied using fallback:",t)},r.ActionCommonPop=function(t){switch(t){case"common":this.onExitLayer();default:this.onExitLayer()}},i}(g)).prototype,"title",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(U.prototype,"Msg",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(U.prototype,"logo",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(U.prototype,"btn1",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=i(U.prototype,"btn2",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(U.prototype,"btn1bl",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(U.prototype,"btn2bl",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(U.prototype,"ExitBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(U.prototype,"Logoframe",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(U.prototype,"isMaintenenceBg",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(U.prototype,"coppyButton",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(U.prototype,"toolTip",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(U.prototype,"blackbg",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=U))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/DailyBonusManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealEvents.ts","./APIManager.ts","./ApiUrls.ts","./BigDealGameModel.ts","./EventManager.ts","./ShowProfile.ts"],(function(e){var t,i,n,r,a,o,l,s,u,c,p,f,h,d,g,m,b,y,v,B,_,C,w,D,P,R,N,x,I,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,u=e.Node,c=e.SpriteFrame,p=e.Prefab,f=e.Button,h=e.Label,d=e.ParticleSystem2D,g=e.Sprite,m=e.instantiate,b=e.Animation,y=e.tween,v=e.Vec3,B=e.UIOpacity,_=e.Component,C=e.Widget},function(e){w=e.BigDealEvents,D=e.StaticProperties},function(e){P=e.APIManager,R=e.MethodType},function(e){N=e.API_URLS},function(e){x=e.BigDealGameModel},function(e){I=e.default},function(e){S=e.ShowProfile}],execute:function(){var E,L,z,U,k,T,A,M,F,X,O,W,G,K,Y,q,H,J,V,j,Z,Q,$,ee,te,ie,ne,re,ae,oe,le,se,ue,ce,pe,fe,he;l._RF.push({},"28620wipsZJMJWyW0f4BNmc","DailyBonusManager",void 0);var de=s.ccclass,ge=s.property;e("DailyBonusManager",(E=de("DailyBonusManager"),L=ge(u),z=ge(u),U=ge(u),k=ge(c),T=ge(c),A=ge(c),M=ge(c),F=ge(p),X=ge(u),O=ge(f),W=ge(h),G=ge(d),K=ge(u),Y=ge(u),q=ge(h),H=ge(h),J=ge(S),E((Z=t((j=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"UiNode",Z,r(t)),n(t,"popupBg",Q,r(t)),n(t,"gridLayout",$,r(t)),n(t,"normalSprite",ee,r(t)),n(t,"claimedSprite",te,r(t)),n(t,"nextSprite",ie,r(t)),n(t,"drak",ne,r(t)),n(t,"firstDepositEffect",re,r(t)),n(t,"perent",ae,r(t)),n(t,"getReferlBtn",oe,r(t)),n(t,"getReferlXP",le,r(t)),n(t,"effect",se,r(t)),n(t,"emailButton",ue,r(t)),n(t,"phoneButton",ce,r(t)),n(t,"email_verification_bonus",pe,r(t)),n(t,"phone_verification_bonus",fe,r(t)),n(t,"profile",he,r(t)),t.totalDays=7,t.dailyData=null,t.is_eligible=!1,t.referral_bonus=0,t.verification_bonus="",t}i(t,e);var l=t.prototype;return l.onLoad=function(){var e=a(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l.initDailyBonus=function(){var e=a(o().mark((function e(){var t,i,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I.getDispatcher().on(w.COMPLETE_VERIFICATION_FOR_REWARD,this.hideButtons,this),this.hideButtons(!1),e.prev=2,t=x.loginDataResponse.data.id,e.next=6,P.request(""+N.DAILY_BONUS_GET+t,R.GET,null,!0);case 6:(i=e.sent).success?(n=i.data.claimed_day,this.is_eligible=i.data.is_eligible,this.referral_bonus=i.data.referral_bonus,this.verification_bonus=i.data.bonus_on_verification,this.email_verification_bonus.string=this.verification_bonus+" XP",this.phone_verification_bonus.string=this.verification_bonus+" XP",this.referBonus(),this.dailyData={claimed_days:n>0?Array.from({length:n},(function(e,t){return t+1})):[],next_claim:n+1>this.totalDays?null:n+1}):console.warn("API failed:",i.message),this.updateUI(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("Daily Bonus Init Error:",e.t0);case 14:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),l.hideButtons=function(e){e&&this.show(Number(this.verification_bonus)),this.emailButton.active=!1,this.phoneButton.active=!1,x.loginDataResponse.data.is_mobile_verified||(this.phoneButton.active=!0),x.loginDataResponse.data.is_email_verified||(this.emailButton.active=!0)},l.referBonusClime=function(){var e=a(o().mark((function e(){var t,i,n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.referral_bonus<=0)){e.next=3;break}return this.referBonus(),e.abrupt("return");case 3:return e.prev=3,t=x.loginDataResponse.data.id,i={userId:t,referral_bonus_claim:!0,hostname:D.hostname},e.next=8,P.request(N.DAILY_BONUS_CLAIM,R.POST,i,!0);case 8:(n=e.sent).success?(a=(null==(r=n.data)?void 0:r.referral_bonus)||0,this.show(a),this.getReferlXP.node.active=!1,this.getReferlBtn.node.active=!1):console.warn("Claim Reward Failed:",n.message),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.error("Claim Reward Error:",e.t0);case 15:case"end":return e.stop()}}),e,this,[[3,12]])})));return function(){return e.apply(this,arguments)}}(),l.referBonus=function(){this.referral_bonus>0?(this.getReferlXP.string=this.referral_bonus+"",this.getReferlXP.node.active=!0,this.getReferlBtn.node.active=!0):(this.getReferlXP.node.active=!1,this.getReferlBtn.node.active=!1)},l.updateUI=function(){var e=this;if(this.dailyData){var t=this.dailyData,i=t.claimed_days,n=t.next_claim;this.effect.node.active=!1,this.gridLayout.children.forEach((function(t,r){var a=r+1,o=t.getChildByName("bg").getComponent(g),l=t.getChildByName("xpLabel").getComponent(h),s=t.getChildByName("dayLabel").getComponent(h),u=t.getChildByName("claimButton").getComponent(f),c=t.getChildByName("claimButton").getChildByName("BoxBg1");if(l.string=7===a?"5XP":"1XP",s.string="Day "+a,u.node.active=!1,i.includes(a))o.spriteFrame=e.claimedSprite;else{if(a===n&&e.is_eligible)return o.spriteFrame=e.nextSprite,u.node.active=!0,c.active=!0,e.effect.node.setWorldPosition(u.node.getWorldPosition()),u.node.off(f.EventType.CLICK),void u.node.on(f.EventType.CLICK,(function(){return e.onClaimClick(a)}));a!==n||e.is_eligible||(o.spriteFrame=e.drak,u.node.active=!0,c.active=!1,e.effect.node.active=!1,u.node.off(f.EventType.CLICK),u.node.on(f.EventType.CLICK,(function(){return e.onClaimClick(a)}))),o.spriteFrame=e.normalSprite}}))}},l.onClaimClick=function(){var e=a(o().mark((function e(t){var i,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=x.loginDataResponse.data.id,e.next=4,P.request(N.DAILY_BONUS_CLAIM,R.POST,{userId:i,hostname:D.hostname},!0);case 4:(n=e.sent).success?(this.dailyData.claimed_days.push(t),this.dailyData.next_claim=t<this.totalDays?t+1:null,this.show(n.data.xp),this.is_eligible=!1,this.updateUI()):console.warn("Claim Reward Failed:",n.message),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Claim Reward Error:",e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),l.show=function(e){var t,i,n,r=m(this.firstDepositEffect);null!=r&&null!=(t=r.getChildByName("Base"))&&null!=(t=t.getChildByName("Text"))&&t.getComponent(h)&&(r.getChildByName("Base").getChildByName("Text").getComponent(h).string=e+" XP"),null!=r&&null!=(i=r.getChildByName("Text"))&&i.getComponent(h)&&(r.getChildByName("Text").getComponent(h).string="Hooray!\nYou got FREE "+e+" XP!"),this.perent.addChild(r),null==(n=r.getComponent(b))||n.play()},l.showPopup=function(){var e=a(o().mark((function e(){var t,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initDailyBonus();case 2:this.popupBg.active=!0,this.UiNode.active=!0,t=this.popupBg.getComponent(B),this.UiNode.getComponent(C).updateAlignment(),t.opacity=0,y(t).to(.3,{opacity:255}).start(),this.UiNode.active=!0,this.UiNode.setScale(new v(1,1,1)),this.UiNode.setPosition(new v(2e3,0,0)),y(this.UiNode).to(.3,{position:new v(0,0,0)},{easing:"linear",onComplete:function(){i.profile.closeProfile()}}).start();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.onClickCloseButton=function(){this.closePopup(this.UiNode)},l.closePopup=function(e){var t=this;y(e).to(.3,{position:new v(-2e3,0,0)},{easing:"linear",onComplete:function(){e.active=!1}}).start();var i=this.popupBg.getComponent(B);y(i).to(.3,{opacity:0},{onComplete:function(){t.popupBg.active=!1}}).start()},t}(_)).prototype,"UiNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(j.prototype,"popupBg",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(j.prototype,"gridLayout",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(j.prototype,"normalSprite",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(j.prototype,"claimedSprite",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(j.prototype,"nextSprite",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(j.prototype,"drak",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(j.prototype,"firstDepositEffect",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(j.prototype,"perent",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(j.prototype,"getReferlBtn",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(j.prototype,"getReferlXP",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(j.prototype,"effect",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(j.prototype,"emailButton",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(j.prototype,"phoneButton",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(j.prototype,"email_verification_bonus",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(j.prototype,"phone_verification_bonus",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(j.prototype,"profile",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=j))||V));l._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/DetailsPanelManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealGameModel.ts","./BigDealEvents.ts","./ButtonComponentForText.ts","./BlockchainLogPrefab.ts","./APIManager.ts","./ApiUrls.ts","./EventManager.ts"],(function(t){var n,i,e,o,a,r,l,c,u,s,h,p,f,b,g,d,m,v,I,L,w,T,y,P,S,B,_,k,C;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){l=t.cclegacy,c=t._decorator,u=t.Node,s=t.RichText,h=t.Prefab,p=t.Button,f=t.log,b=t.UIOpacity,g=t.ScrollView,d=t.Sprite,m=t.instantiate,v=t.tween,I=t.Vec3,L=t.Component},function(t){w=t.BigDealGameModel},function(t){T=t.StaticProperties,y=t.BigDealEvents},function(t){P=t.ButtonComponentForText},function(t){S=t.BlockchainLog},function(t){B=t.APIManager,_=t.MethodType},function(t){k=t.API_URLS},function(t){C=t.default}],execute:function(){var x,N,A,z,R,V,D,M,H,O,U,E,F,G,$,K,q,X,Y,j,Q,Z,J,W,tt,nt,it,et,ot,at,rt,lt,ct,ut,st,ht,pt,ft,bt,gt,dt;t("htmlToPlainText",It),l._RF.push({},"87e2dYQUD9MkqhnXN5OiXZz","DetailsPanelManager",void 0);var mt=c.ccclass,vt=c.property;t("DetailsPanelManager",(x=mt("DetailsPanelManager"),N=vt(u),A=vt(u),z=vt(s),R=vt(h),V=vt(u),D=vt(u),M=vt(u),H=vt(u),O=vt(u),U=vt(u),E=vt(u),F=vt(u),G=vt(u),$=vt(s),K=vt(s),q=vt(s),X=vt(s),Y=vt(u),j=vt(u),x((J=n((Z=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,e(n,"mainPanel",J,o(n)),e(n,"bgNode",W,o(n)),e(n,"richText",tt,o(n)),e(n,"blockchainLogPrefab",nt,o(n)),e(n,"blockchainLogParent",it,o(n)),e(n,"blockchainLoghading",et,o(n)),e(n,"productInfoButton",ot,o(n)),e(n,"auctionInfoButton",at,o(n)),e(n,"termsButton",rt,o(n)),e(n,"productInfoScrollView",lt,o(n)),e(n,"auctionInfoScrollView",ct,o(n)),e(n,"termsScrollView",ut,o(n)),e(n,"blockchainScrollView",st,o(n)),e(n,"productInfoLabel",ht,o(n)),e(n,"auctionInfoLabel",pt,o(n)),e(n,"termsLabel",ft,o(n)),e(n,"blockchainLabel",bt,o(n)),e(n,"no_Data_found",gt,o(n)),e(n,"Loading_",dt,o(n)),n.allScrollViews=[],n.allButtons=[],n.isAnimating=!1,n.isOpen=!1,n.logNodes=[],n}i(n,t);var l=n.prototype;return l.start=function(){var t=this;this.allScrollViews=[this.productInfoScrollView,this.auctionInfoScrollView,this.termsScrollView,this.blockchainScrollView],this.allButtons=[this.productInfoButton.getComponent(P),this.auctionInfoButton.getComponent(P),this.termsButton.getComponent(P)],this.productInfoButton.on(p.EventType.CLICK,(function(){return t.showTab(0)}),this),this.auctionInfoButton.on(p.EventType.CLICK,(function(){return t.showTab(1)}),this),this.termsButton.on(p.EventType.CLICK,(function(){return t.showTab(2)}),this)},l.init=function(t){var n,i,e,o,a,r,l,c;if(void 0===t&&(t=0),this.isAnimating||this.isOpen)this.out();else{if(!(null==(n=w.auctionHouseListResponse)||null==(n=n.data[T.auctionIndex])?void 0:n.id))return f("Auction ID is not set, cannot initialize AllBidHistoryManager"),void C.getDispatcher().emit(y.ERROR_MSG_NOTIFY,"Auction is not live right now!");this.isOpen=!0;var u=It((null==(i=w.auctionHouseListResponse)||null==(i=i.data[T.auctionIndex])?void 0:i.terms_and_conditions)||"No Terms And Conditions");this.richText.string=u,this.mainPanel.active=!1,this.bgNode.active=!1;var s=this.bgNode.getComponent(b);s&&(s.opacity=0),this.inPopUp(),this.showTab(t);var h=(null==(e=w.auctionHouseListResponse)||null==(e=e.data[T.auctionIndex])?void 0:e.products.title)+"\n\n"||"",p=(null==(o=w.auctionHouseListResponse)||null==(o=o.data[T.auctionIndex])?void 0:o.title)+"\n\n"||"";this.initTab({productInfo:"<u>"+h+"</u>"+(null==(a=w.auctionHouseListResponse)||null==(a=a.data[T.auctionIndex])?void 0:a.products.description)||"No Product Info",auctionInfo:"<u>"+p+"</u>"+(null==(r=w.auctionHouseListResponse)||null==(r=r.data[T.auctionIndex])?void 0:r.description)||"No Auction Info",terms:(null==(l=w.auctionHouseListResponse)||null==(l=l.data[T.auctionIndex])?void 0:l.terms_and_conditions)||"No Terms And Conditions",blockchainLog:(null==(c=w.auctionHouseListResponse)||null==(c=c.data[T.auctionIndex])?void 0:c.description)||"No Blockchain Log"})}},l.openTabAuctionInfo=function(){this.init(1)},l.openProductInfo=function(){this.init(0)},l.initTab=function(t){this.productInfoLabel&&t.productInfo&&(this.productInfoLabel.string=this.formatToRichText(t.productInfo)),this.auctionInfoLabel&&t.auctionInfo&&(this.auctionInfoLabel.string=this.formatToRichText(t.auctionInfo)),this.termsLabel&&t.terms&&(this.termsLabel.string=this.formatToRichText(t.terms))},l.showTab=function(t){for(var n=0;n<this.allScrollViews.length;n++)this.allScrollViews[n]&&(this.allScrollViews[n].active=n===t,this.allScrollViews[n].getComponent(g).scrollToTop(0),this.allScrollViews[n].getComponent(g).scrollToLeft(0));for(var i=0;i<this.allButtons.length;i++)this.allButtons[i]&&(this.allButtons[i].interactable=i!==t,this.allButtons[i].node.getComponent(d).enabled=i==t);3===t&&(this.Loading_.active=!1,this.no_Data_found.active=!1,this.fetchUpBlockchainTransaction(),this.ScrollUpdate())},l.fetchUpBlockchainTransaction=function(){var t=a(r().mark((function t(){var n,i,e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.Loading_.active=!0,i=null==(n=w.auctionHouseListResponse)||null==(n=n.data[T.auctionIndex])?void 0:n.id,t.next=5,B.request(k.BLOCKCHAIN_TRANSACTION+i,_.GET);case 5:e=t.sent,this.Loading_.active=!1,e.success&&null!=e&&e.data&&e.data.length>0?this.updateLogs(null==e?void 0:e.data):e.success&&0==e.data.length?this.no_Data_found.active=!0:console.error("No upcoming auctions found or API error"),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),this.Loading_.active=!1,this.no_Data_found.active=!0,console.error("Error fetching upcoming auctions:",t.t0);case 15:case"end":return t.stop()}}),t,this,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),l.updateLogs=function(t){if(this.blockchainLogParent.destroyAllChildren(),this.logNodes.length=0,t.length>this.logNodes.length)for(var n=t.length-1;n>=0;n--){var i=m(this.blockchainLogPrefab);this.blockchainLogParent.addChild(i),i.setSiblingIndex(0);var e=i.getComponent(S);e&&e.init(n+1,t[n]),this.logNodes.push(i)}},l.inPopUp=function(){var t=this;if(this.bgNode.active=!0,!this.isAnimating&&this.mainPanel&&this.bgNode){this.isAnimating=!0,this.mainPanel.active=!0;var n=this.bgNode.getComponent(b);n&&(n.opacity=0,v(n).to(.3,{opacity:180}).start()),v(this.mainPanel).to(.3,{position:new I(0,0,0)}).call((function(){t.isAnimating=!1})).start()}},l.out=function(){var t=this;if(this.mainPanel&&this.bgNode){var n=this.bgNode.getComponent(b);n&&v(n).to(.3,{opacity:0}).call((function(){t.bgNode.active=!1})).start(),v(this.mainPanel).to(.3,{position:new I(0,-2e3,0)}).call((function(){t.blockchainLogParent.removeAllChildren(),t.mainPanel.active=!1,t.isAnimating=!1,t.isOpen=!1})).start()}},l.formatToRichText=function(t){var n=t;return(n=(n=(n=(n=(n=(n=(n=n.replace(/<h2>([\s\S]*?)<\/h2>/g,"<b>$1</b>\n")).replace(/<h3>([\s\S]*?)<\/h3>/g,"<b>$1</b>\n")).replace(/<li>([\s\S]*?)<\/li>/g,(function(t,n){for(var i=(n=n.trim()).split(/\s+/),e="",o="",a=0;a<i.length;a++){var r=i[a];(e+" "+r).trim().length>45?(o+=e.trim()+"\nÂ Â Â ",e=r):e+=" "+r}return"â€¢ "+(o+=e.trim())+"\n"}))).replace(/<\/?ul>/g,"")).replace(/<p>([\s\S]*?)<\/p>/g,"$1\n")).replace(/<a.*?>([\s\S]*?)<\/a>/g,"$1")).replace(/<b>([\s\S]*?)<\/b>/g,"<b>$1</b>")).trim()},l.ScrollUpdate=function(){var t=this.blockchainLogParent.getPosition();this.blockchainLoghading.setPosition(t.x,0)},n}(L)).prototype,"mainPanel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(Z.prototype,"bgNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=n(Z.prototype,"richText",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=n(Z.prototype,"blockchainLogPrefab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=n(Z.prototype,"blockchainLogParent",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=n(Z.prototype,"blockchainLoghading",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=n(Z.prototype,"productInfoButton",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=n(Z.prototype,"auctionInfoButton",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=n(Z.prototype,"termsButton",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=n(Z.prototype,"productInfoScrollView",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=n(Z.prototype,"auctionInfoScrollView",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=n(Z.prototype,"termsScrollView",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=n(Z.prototype,"blockchainScrollView",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=n(Z.prototype,"productInfoLabel",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=n(Z.prototype,"auctionInfoLabel",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=n(Z.prototype,"termsLabel",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=n(Z.prototype,"blockchainLabel",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=n(Z.prototype,"no_Data_found",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=n(Z.prototype,"Loading_",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=Z))||Q));function It(t){return t.replace(/<br\s*\/?>/gi,"\n").trim()}l._RF.pop()}}}));

System.register("chunks:///_virtual/Dropdown.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./BigDealEvents.ts","./BigDealGameModel.ts"],(function(e){var t,i,n,o,r,a,s,l,u,c,d,h,p,f,C,y,b,v,g,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Node,l=e.Label,u=e.EditBox,c=e.ScrollView,d=e.Prefab,h=e.instantiate,p=e.Button,f=e.EventHandler,C=e.tween,y=e.Vec3,b=e.Component},function(e){v=e.default},function(e){g=e.BigDealEvents},function(e){m=e.BigDealGameModel}],execute:function(){var w,D,x,B,I,S,N,z,P,E,T,L,_,A,O,R,V,k,F,M,j,H,G,W,q;r._RF.push({},"b1af7aT0jNOj4GHjrgM4qDV","Dropdown",void 0);var U=a.ccclass,Y=a.property;e("Dropdown",(w=U("Dropdown"),D=Y(s),x=Y(l),B=Y(s),I=Y(s),S=Y(s),N=Y(u),z=Y(c),P=Y({type:d}),E=Y({type:s}),T=Y({type:Boolean}),L=Y({type:Boolean}),w((O=t((A=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"uiNode",O,o(t)),n(t,"selectItem",R,o(t)),n(t,"posNode",V,o(t)),n(t,"block",k,o(t)),n(t,"buttonNode",F,o(t)),n(t,"searchBox",M,o(t)),n(t,"scrollView",j,o(t)),n(t,"codePrefab",H,o(t)),n(t,"codeParent",G,o(t)),n(t,"isCountryCode",W,o(t)),n(t,"isCountrySelection",q,o(t)),t.allItems=[],t.validCountryCodes=[],t.validCountries=[],t}i(t,e);var r=t.prototype;return r.onLoad=function(){this.initializeSearchBox()},r.start=function(){this.setupCountryCodeListener(),this.loadCountryDetails()},r.onEnable=function(){this.setupCountryCodeListener(),this.loadCountryDetails()},r.setupCountryCodeListener=function(){this.isCountryCode&&this.validCountryCodes.includes(this.selectItem.string)&&this.updateCountryCodeIndex()},r.loadCountryDetails=function(){m.countryApiResponse?this.onCountryDetailsFetched():v.getDispatcher().on(g.COUNTRY_DETAILS_FETCHED,this.onCountryDetailsFetched,this)},r.updateCountryCodeIndex=function(){var e=this.isCountryCode?this.validCountryCodes.indexOf(this.selectItem.string):this.validCountries.indexOf(this.selectItem.string),t=e>-1?e:0;this.updateSelectedCountry(t)},r.updateSelectedCountry=function(e){var t;if(this.isCountryCode)this.selectItem.string=this.validCountryCodes[e]||(null==(t=m.countryApiResponse)||null==(t=t.data[e])?void 0:t.dial_code);else if(this.isCountrySelection){var i;this.selectItem.string=this.validCountries[e]||(null==(i=m.countryApiResponse)||null==(i=i.data[e])?void 0:i.name)}},r.initializeSearchBox=function(){this.scrollView&&this.searchBox&&(this.allItems=this.scrollView.content.children.slice(),this.searchBox.node.on("text-changed",this.onSearchChanged,this))},r.onCountryDetailsFetched=function(){var e,t=this;!m.countryApiResponse||this.validCountryCodes.length>0||(null==(e=m.countryApiResponse)||e.data.forEach((function(e){t.isCountryCode?(t.validCountryCodes.push(e.dial_code),t.instantiateCodePrefab(e.dial_code)):(t.validCountries.push(e.name),t.instantiateCodePrefab(e.name))})),this.initializeSearchBox())},r.instantiateCodePrefab=function(e){if(this.codePrefab&&this.codeParent){var t=h(this.codePrefab);this.codeParent.addChild(t);var i=t.getChildByName("CodeText");if(i){var n=i.getComponent(l);n&&(n.string=e)}var o=t.getComponent(p);if(o){var r=new f;r.target=this.node,r.component="Dropdown",r.handler="onCountSelection",r.customEventData=e,o.clickEvents=[r]}}},r.onSearchChanged=function(e){var t=e.string.toLowerCase();this.allItems.forEach((function(e){var i=e.getComponentInChildren(l);if(i){var n=i.string.toLowerCase().includes(t);e.active=n}})),this.scrollToTop()},r.scrollToTop=function(){this.scrollView.scrollToTop(.2)},r.onCountSelection=function(e,t){this.selectItem.string=t;var i=this.isCountryCode?this.validCountryCodes.indexOf(t):this.validCountries.indexOf(t);i>-1&&this.updateSelectedCountry(i),this.closeDropdown()},r.closeDropdown=function(){var e=this;C(this.uiNode).to(.1,{scale:new y(1,0,1)},{easing:"smooth"}).call((function(){e.selectItem.node.active=!0,e.block.active=!1,e.uiNode.active=!1,e.buttonNode.setScale(1,1,1)})).start()},r.onOutsideArea=function(){this.closeDropdown()},r.onOpenDropDown=function(){this.block.active=!0,this.uiNode.active=!0,this.selectItem.node.active=!1,this.searchBox&&this.searchBox.focus(),this.node.setWorldPosition(this.posNode.getWorldPosition()),this.buttonNode.setScale(1,-1,1),C(this.uiNode).to(.1,{scale:new y(1,1,1)},{easing:"smooth"}).start()},t}(b)).prototype,"uiNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(A.prototype,"selectItem",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(A.prototype,"posNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(A.prototype,"block",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(A.prototype,"buttonNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(A.prototype,"searchBox",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(A.prototype,"scrollView",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(A.prototype,"codePrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(A.prototype,"codeParent",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(A.prototype,"isCountryCode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),q=t(A.prototype,"isCountrySelection",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=A))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/EditBoxPlaceHolderShow.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,i,n,r,l,c,d,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,c=e.Node,d=e.EditBox,a=e.Component}],execute:function(){var s,p,u,h,f;r._RF.push({},"64dfdSLiKZFkL9ZUMm+z9wU","EditBoxPlaceHolderShow",void 0);var H=l.ccclass,E=l.property;e("EditBoxPlaceHolderShow",(s=H("EditBoxPlaceHolderShow"),p=E(c),s((f=t((h=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"placeHolder",f,n(t)),t}o(t,e);var r=t.prototype;return r.start=function(){this.node.getComponent(d)&&(this.node.on("editing-did-began",this.onEditStart,this),this.node.on("editing-did-ended",this.onEditEnd,this))},r.onEditStart=function(e){this.placeHolder&&(this.placeHolder.active=!0)},r.onEditEnd=function(e){this.placeHolder},r.onDestroy=function(){this.placeHolder&&(this.placeHolder.active=!1)},t}(a)).prototype,"placeHolder",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=h))||u));r._RF.pop()}}}));

System.register("chunks:///_virtual/EditProfilePicture.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealGameModel.ts","./BigDealEvents.ts","./EventManager.ts","./AvatarIconsManager.ts"],(function(e){var t,i,a,n,r,o,s,c,l,u,p,d,h,f,g,m,v,b,y,S,I,w,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,l=e.Node,u=e.Sprite,p=e.Button,d=e.tween,h=e.Vec3,f=e.Component,g=e.ImageAsset,m=e.Texture2D,v=e.SpriteFrame},function(e){b=e.BigDealGameModel},function(e){y=e.StaticProperties,S=e.BigDealEvents,I=e.getPlayarToken},function(e){w=e.default},function(e){C=e.AvatarIconsManager}],execute:function(){var k,B,x,N,D,A,P,E,R,F,z,M,O,L,T,_,U,Z,G;s._RF.push({},"368b9VM2apJcbTtdMPksT7p","EditProfilePicture",void 0);var j=c.ccclass,V=c.property;e("EditProfilePicture",(k=j("EditProfilePicture"),B=V(l),x=V(l),N=V(l),D=V(u),A=V(u),P=V(u),E=V(l),R=V(C),k((M=t((z=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,a(t,"icons",M,n(t)),a(t,"uiNode",O,n(t)),a(t,"block",L,n(t)),a(t,"profile",T,n(t)),a(t,"profileImage",_,n(t)),a(t,"clickIconSprite",U,n(t)),a(t,"uplodeButton",Z,n(t)),a(t,"avatarIconsManager",G,n(t)),t.selectAvatar="",t.isSelected=null,t.iconIndex=1,t.isCistonSelected=!1,t}i(t,e);var s=t.prototype;return s.init=function(){var e=r(o().mark((function e(){var t,i,a,n,r,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.selectAvatar=null!=(t=b.loginDataResponse)&&null!=(t=t.data)&&t.avatar?null==(i=b.loginDataResponse)||null==(i=i.data)?void 0:i.avatar:"assets/avatar/1.png",a=y.apiBaseURL+this.selectAvatar,e.next=4,this.avatarIconsManager.setAvatarIcon(a,this.profile);case 4:return e.next=6,this.avatarIconsManager.setAvatarIcon(a,this.profileImage);case 6:return e.next=8,this.avatarIconsManager.setAvatarIcon(a,this.clickIconSprite);case 8:n=1;case 9:if(!(n<=this.icons.length)){e.next=19;break}return(r=this.icons[n-1]).getComponent(p).clickEvents[0].customEventData=""+n,s=r.getChildByName("Icon").getComponent(u),c=y.apiBaseURL+"assets/avatar/"+n+".png",e.next=16,this.avatarIconsManager.setAvatarIcon(c,s);case 16:n++,e.next=9;break;case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onProfileClick=function(){this.block.active=!0,this.uiNode.active=!0,this.setZoom(this.uiNode),console.log("test game")},s.onSelect=function(){!this.isCistonSelected&&this.isSelected&&(this.profile.spriteFrame=this.isSelected.getChildByName("Icon").getComponent(u).spriteFrame,this.clickIconSprite.spriteFrame=this.isSelected.getChildByName("Icon").getComponent(u).spriteFrame,this.selectAvatar="assets/avatar/"+this.iconIndex+".png"),this.setZoomOut(this.uiNode),this.uiNode.active=!1,this.block.active=!1},s.closeClick=function(){this.setZoomOut(this.uiNode),this.uiNode.active=!1,this.block.active=!1},s.onClick=function(e,t){this.isSelected&&(this.isSelected.getComponent(p).interactable=!0,this.isSelected.getChildByName("Icon").getComponent(u).grayscale=!1,this.isSelected.getChildByName("Shadow").active=!1),this.isCistonSelected=!1;var i=e.target;this.isSelected=i,i.getComponent(p).interactable=!1,i.getChildByName("Icon").getComponent(u).grayscale=!0,this.isSelected.getChildByName("Shadow").active=!0,this.iconIndex=Number(t)},s.onClose=function(){this.setZoomOut(this.uiNode)},s.setZoomOut=function(e){d(e).to(.2,{scale:new h(0,0,1)}).call((function(){e.active=!1})).start()},s.setZoom=function(e){e.active=!0,e.setScale(h.ZERO),d(e).to(.2,{scale:new h(1.2,1.2,1.2)}).to(.1,{scale:new h(1,1,1)}).start()},s.uploadImageButtonTo=function(){var e=r(o().mark((function e(){var t,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.isSelected?(this.isSelected.getComponent(p).interactable=!0,this.isSelected.getChildByName("Icon").getComponent(u).grayscale=!1,this.isSelected.getChildByName("Shadow").active=!1):(this.isSelected=this.uplodeButton,this.isSelected.getComponent(p).interactable=!1,this.isSelected.getChildByName("Shadow").active=!0),this.isCistonSelected=!0,(t=document.createElement("input")).type="file",t.accept="image/*",t.style.display="none",t.addEventListener("change",r(o().mark((function e(a){var n,r,s,c,l,p,d,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=a.target.files)&&0!==n.length){e.next=4;break}return console.warn("No file selected."),e.abrupt("return");case 4:if(r=n[0],console.log("file.size",r.size),!(r.size>3e6)){e.next=9;break}return alert("Image size exceeds 3 MB. Please select a smaller image."),e.abrupt("return");case 9:return s=new FormData,Array.from(n).forEach((function(e){s.append("media",e,e.name)})),e.prev=11,w.getDispatcher().emit(S.IS_LOADER_ON),e.next=15,fetch(y.apiBaseURL+"v1/user/"+(null==(c=b.loginDataResponse)||null==(c=c.data)?void 0:c.id)+"/avatar",{method:"PUT",headers:{Authorization:"Bearer "+I()},body:s});case 15:if((p=e.sent).ok){e.next=18;break}throw new Error("Upload failed: "+p.statusText);case 18:return e.next=20,p.json();case 20:d=e.sent,b.uploadProfileRes=d,console.log("Uploaded successfully:",d),w.getDispatcher().emit(S.IS_LOADER_OFF),i.selectAvatar=null==(l=b.uploadProfileRes)||null==(l=l.data)?void 0:l.avatar,e.next=31;break;case 27:e.prev=27,e.t0=e.catch(11),w.getDispatcher().emit(S.IS_LOADER_OFF),console.error("Upload failed:",e.t0);case 31:t.remove(),(h=new FileReader).onload=function(){var e=new Image;e.onload=function(){var t=new g(e),a=new m;a.image=t;var n=new v;n.texture=a;var r=i.clickIconSprite.node;if(r){var o=r.getComponent(u);o&&(o.spriteFrame=n,i.profile.spriteFrame=n,i.profileImage.spriteFrame=n)}else console.warn("Target node not found.")},e.src=h.result},h.readAsDataURL(r);case 35:case"end":return e.stop()}}),e,null,[[11,27]])})))),document.body.appendChild(t),t.click();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(f)).prototype,"icons",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(z.prototype,"uiNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(z.prototype,"block",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(z.prototype,"profile",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(z.prototype,"profileImage",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(z.prototype,"clickIconSprite",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(z.prototype,"uplodeButton",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(z.prototype,"avatarIconsManager",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=z))||F));s._RF.pop()}}}));

System.register("chunks:///_virtual/EmailOTPVerification.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageManager.ts","./EventManager.ts"],(function(t){var e,i,n,o,r,a,s,l,c,u,h,f,d,p,g,B,O;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,l=t.EditBox,c=t.Button,u=t.RichText,h=t.Label,f=t.UIOpacity,d=t.Vec3,p=t.tween,g=t.Component},function(t){B=t.LanguageManager},function(t){O=t.default}],execute:function(){var b,T,m,x,P,v,y,E,V,C,k,w,R,I,L,S,N,z,A;r._RF.push({},"7f2eeHxCKBOSrt9SJcEE08Z","EmailOTPVerification",void 0);var X=a.ccclass,U=a.property;t("ClaimRewardOTPVerification",(b=X("ClaimRewardOTPVerification"),T=U(s),m=U(s),x=U([l]),P=U(c),v=U(c),y=U(u),E=U(u),V=U(h),b((w=e((k=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"BlackBg",w,o(e)),n(e,"UINode",R,o(e)),n(e,"OtpBox",I,o(e)),n(e,"ResendButton",L,o(e)),n(e,"TransferXPButton",S,o(e)),n(e,"InfoLabel",N,o(e)),n(e,"ResendLabel",z,o(e)),n(e,"TimerBase",A,o(e)),e.timer=60,e.interval=null,e.callbackOnVerified=null,e.otpValue="",e.currentIndex=0,e.isSendOtp=!1,e.isOtpClicked=!1,e}i(e,t);var r=e.prototype;return r.init=function(t,e){this.callbackOnVerified=e,this.InfoLabel.string="<color=#ffffff>Enter the code sent to</color>  <color=#00FFA3>"+t+"</color>",this.isSendOtp=!0,this.resetAll(),this.showPopup(!0),this.startTimer()},r.resetAll=function(){var t=this;this.otpValue="",this.OtpBox.forEach((function(e,i){e.string="",e.enabled=!0,e.node.off("text-changed",t.onOtpChanged,t),e.node.off("editing-did-ended",t.onOtpEndEdit,t),e.node.off("editing-did-began",t.onEditBoxBegan,t),e.node.off("text-changed",t.onTextChanged,t),e.node.on("editing-did-began",(function(){return t.onEditBoxBegan(i)}),t),e.node.on("text-changed",(function(e){return t.onTextChanged(i)}),t),e.node.on("editing-did-ended",t.onOtpEndEdit,t)})),this.OtpBox[0].setFocus(),this.ResendButton.interactable=!1,this.TransferXPButton.interactable=!1,this.timer=60,this.TimerBase.string="00:"+this.timer},r.onEditBoxBegan=function(t){this.currentIndex=t,this.resetOTPLabel()},r.onTextChanged=function(t){var e=this.OtpBox[t].string;t===this.OtpBox.length-1&&0!=e.length?(this.OtpBox[t].string=e.charAt(0),this.focusPrevEditBox(t+1),console.log("Final OTP:",this.getOTPCode()),this.editSendOtp()):2===e.length?(this.OtpBox[t].string=e.charAt(0),this.focusNextEditBox(t,e.charAt(1)),this.editSendOtp()):0===e.length?this.focusPrevEditBox(t):e.length>1&&this.focusPrevEditBox(t+1)},r.editSendOtp=function(){if(this.getOTPCode().length==this.OtpBox.length){if(this.isSendOtp){if(this.isOtpClicked)return;this.TransferXPButton.node;return void this.onClickVerify()}O.getDispatcher().emit("OPEN_OTP_PANEL")}},r.focusNextEditBox=function(t,e){t<this.OtpBox.length-1&&(this.OtpBox[t+1].string=e,this.OtpBox[t+1].focus())},r.focusPrevEditBox=function(t){t>0&&this.OtpBox[t-1].focus()},r.getOTPCode=function(){return this.OtpBox.map((function(t){return t.string})).join("")},r.resetOTPLabel=function(){this.otpValue=this.getOTPCode(),this.TransferXPButton.interactable=this.otpValue.length===this.OtpBox.length},r.showPopup=function(t){var e=this;t?(this.node.active=!0,this.UINode.active=!0,this.BlackBg.active=!0,this.BlackBg.getComponent(f).opacity=0,this.UINode.setScale(new d(0,0,1)),p(this.BlackBg.getComponent(f)).to(.3,{opacity:180}).start(),p(this.UINode).to(.3,{scale:new d(1,1,1)},{easing:"backOut"}).start()):(p(this.BlackBg.getComponent(f)).to(.2,{opacity:0}).start(),p(this.UINode).to(.2,{scale:new d(0,0,1)},{easing:"backIn"}).call((function(){e.BlackBg.active=!1})).start())},r.startTimer=function(){var t=this,e=B.instance.t("didnt_receive_code"),i=B.instance.t("resend");this.ResendLabel.string="<color=#969696>"+e+" </color><color=#969696><u>"+i+"</u></color>",this.clearTimer(),this.timer=60,this.updateTimer(),this.interval=setInterval((function(){t.timer--,t.updateTimer(),t.timer<=0&&(t.clearTimer(),t.ResendButton.interactable=!0,t.TransferXPButton.interactable=!1,t.ResendLabel.string="<color=#ffffff>"+e+" </color><color=#0000ff><u>"+i+"</u></color>")}),1e3)},r.updateTimer=function(){var t=this.timer<10?"0"+this.timer:""+this.timer;this.TimerBase.string="00:"+t},r.clearTimer=function(){this.interval&&(clearInterval(this.interval),this.interval=null)},r.onOtpChanged=function(t){var e=this.OtpBox.indexOf(t),i=t.string;i.length>1&&(t.string=i[i.length-1]),1===i.length&&e<this.OtpBox.length-1?this.OtpBox[e+1].focus():0===i.length&&e>0&&this.OtpBox[e-1].focus(),this.otpValue=this.OtpBox.map((function(t){return t.string})).join(""),4===this.otpValue.length&&(this.TransferXPButton.interactable=!1,this.autoSubmitOTP())},r.onOtpEndEdit=function(t){this.otpValue=this.OtpBox.map((function(t){return t.string})).join(""),this.otpValue.length<4&&(this.TransferXPButton.interactable=!1)},r.autoSubmitOTP=function(){this.TransferXPButton.interactable=!1,this.verifyOTP()},r.onClickVerify=function(){4===this.otpValue.length&&(this.verifyOTP(),this.OtpBox[3].blur())},r.verifyOTP=function(){var t=this;console.log("Verifying OTP:",this.otpValue),this.clearTimer(),this.ResendButton.interactable=!0,this.scheduleOnce((function(){t.callbackOnVerified&&t.callbackOnVerified(t.otpValue)}),.5)},r.onClickResendOTP=function(){this.ResendButton.interactable&&(console.log("Resending OTP..."),this.resetAll(),this.startTimer(),this.ResendButton.interactable=!1)},r.closepopUP=function(){this.showPopup(!1)},r.onDisable=function(){this.clearTimer()},e}(g)).prototype,"BlackBg",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(k.prototype,"UINode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(k.prototype,"OtpBox",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=e(k.prototype,"ResendButton",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(k.prototype,"TransferXPButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(k.prototype,"InfoLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(k.prototype,"ResendLabel",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(k.prototype,"TimerBase",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=k))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/EncryptionHelper.ts",["cc","./index.mjs_cjs=&original=.js","./index.js"],(function(e){var r,t;return{setters:[function(e){r=e.cclegacy},null,function(e){t=e.default}],execute:function(){e("encryptBid",(function(e,r){console.log("bid Price",e);try{if(!(r.startsWith("-----BEGIN PUBLIC KEY-----")&&r.trim().endsWith("-----END PUBLIC KEY-----")||r.startsWith("-----BEGIN RSA PUBLIC KEY-----")&&r.trim().endsWith("-----END RSA PUBLIC KEY-----")))throw new Error("Invalid PEM format: Missing BEGIN/END PUBLIC KEY headers");console.log("âœ… Valid public key format");var n=r.trim().replace(/\r\n|\r|\n/g,"\n");console.log("CleanKey: "+typeof n),console.log(t);var o=t.pki.publicKeyFromPem(n);console.log("publicKeyObj");var i=e.toString(),c=o.encrypt(i,"RAW");return t.util.encode64(c)}catch(e){throw console.log(e),new Error("Failed to encrypt bid: "+e)}})),r._RF.push({},"e5f49cNHbtOG4e9rjkcpNij","EncryptionHelper",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/ErrorCustomPopUp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./BigDealEvents.ts"],(function(t){var e,i,o,n,r,a,s,c,l,p,u,g,h,f,B,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Label,c=t.Button,l=t.Node,p=t.UIOpacity,u=t.tween,g=t.Vec3,h=t.Tween,f=t.Component},function(t){B=t.default},function(t){y=t.BigDealEvents}],execute:function(){var d,b,P,v,U,E,N,R,k,w,M;r._RF.push({},"7029aySWWlAsJwyxxPFH4nd","ErrorCustomPopUp",void 0);var O=a.ccclass,_=a.property;t("ErrorCustomPopUp",(d=O("ErrorCustomPopUp"),b=_(s),P=_(c),v=_(l),U=_(p),d((R=e((N=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"errorMsgLabel",R,n(e)),o(e,"ExitBtn",k,n(e)),o(e,"UiNode",w,n(e)),o(e,"BlackBg",M,n(e)),e}i(e,t);var r=e.prototype;return r.start=function(){B.getDispatcher().on(y.ERROR_MSG_POPUP,this.openPopup,this),B.getDispatcher().on(y.ERROR_MSG_NOTIFY,this.openPopupInOut,this)},r.onDestroy=function(){B.getDispatcher().off(y.ERROR_MSG_POPUP,this.openPopup,this),B.getDispatcher().off(y.ERROR_MSG_NOTIFY,this.openPopupInOut,this)},r.openPopup=function(t){this.errorMsgLabel.string=t,this.BlackBg.node.active=!0,this.UiNode.active=!0,u(this.BlackBg).to(.1,{opacity:255}).start(),u(this.UiNode).to(.1,{position:new g(0,0,0)}).start()},r.onExitLayer=function(){var t=this;u(this.BlackBg).to(.1,{opacity:0}).call((function(){t.BlackBg.node.active=!1,t.errorMsgLabel.string=""})).start(),u(this.UiNode).to(.1,{position:new g(0,500,0)}).call((function(){t.UiNode.active=!1})).start()},r.openPopupInOut=function(t){var e=this;this.errorMsgLabel.string=t,this.UiNode.active=!0,this.BlackBg.opacity=0,this.UiNode.setPosition(0,500,0),h.stopAllByTarget(this.BlackBg),h.stopAllByTarget(this.UiNode),u(this.BlackBg).to(.1,{opacity:255}).start(),u(this.UiNode).to(.1,{position:new g(0,0,0)}).delay(2).to(.1,{position:new g(0,500,0)}).call((function(){e.UiNode.active=!1})).start(),u(this.BlackBg).delay(2).to(.1,{opacity:0}).call((function(){e.BlackBg.node.active=!1,e.errorMsgLabel.string=""})).start()},r.update=function(t){},e}(f)).prototype,"errorMsgLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(N.prototype,"ExitBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(N.prototype,"UiNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(N.prototype,"BlackBg",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=N))||E));r._RF.pop()}}}));

System.register("chunks:///_virtual/ErrorHandler.ts",["cc","./BigDealEvents.ts","./EventManager.ts"],(function(r){var e,o,t;return{setters:[function(r){e=r.cclegacy},function(r){o=r.BigDealEvents},function(r){t=r.default}],execute:function(){e._RF.push({},"2af58UD7eFIEY0Xc5pEtG5T","ErrorHandler",void 0);r("ErrorHandler",function(){function r(r){this.errorCodeData=void 0,this.errorType=void 0,this.errorPopNode=null,this.errorPopPrefab=null,this.errorCodeData=r.ErrorCodeData,this.errorType=r.ErrorType,console.log("ErrorType in error script:",this.errorType,this.errorCodeData),console.log("this.errorCodeData",this.errorCodeData);var e=JSON.parse(this.errorCodeData.message);console.log(e.message),t.getDispatcher().emit(o.ERROR_MSG_POPUP,e.message||"Unknown error")}return r.prototype.showErrorPopup=function(){this.errorPopPrefab?console.log("Showing popup for error type:",this.errorType):console.warn("Popup prefab not loaded yet.")},r}());e._RF.pop()}}}));

System.register("chunks:///_virtual/EventEmitter.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"64d40cPm75HMLF7GQPIjIQy","EventEmitter",void 0);var s=t("EventEmitter",function(){function t(){this.events=void 0,this.hosts=void 0,this.events={},this.hosts={}}var e=t.prototype;return e.on=function(t,e,s){"object"!=typeof this.events[t]&&(this.events[t]=[],this.hosts[t]=[]),this.events[t].push(e),this.hosts[t].push(s)},e.removeListener=function(t,e,s){var n;"object"==typeof this.events[t]&&"object"==typeof this.hosts[t]&&(n=this.events[t].indexOf(e))>-1&&(this.events[t].splice(n,1),this.hosts[t].splice(n,1))},e.emit=function(t){var e,s,n,i;if("object"==typeof this.events[t]){n=this.events[t].slice(),s=this.hosts[t].slice(),i=n.length;for(var o=arguments.length,h=new Array(o>1?o-1:0),v=1;v<o;v++)h[v-1]=arguments[v];for(e=0;e<i;e++)null!==this.events[n[e]]?n[e].apply(s[e],h):n[e].apply(this,h)}},e.once=function(t,e,s){var n=arguments,i=this;this.on(t,(function(){i.removeListener(t,e,s),e.apply(i,n)}),s)},t}());t("Event",new s);e._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t.EventTarget,r=t.Event}],execute:function(){n._RF.push({},"ba1fbjCzJdGtZdrBIjgMymW","EventManager",void 0);var a=t("default",function(){function t(){}return t.clear=function(){t.dispatcher=null},t.getDispatcher=function(){return t.dispatcher||(t.dispatcher=new i),t.dispatcher},t}());a.dispatchCustomEvent=function(t,e,n,i){if(void 0===n&&(n=null),void 0===i&&(i=!0),!e)return null;var r=new u(t,i);r.detail=n,e.dispatchEvent(r)},a.dispatcher=void 0;var u=t("CustomEvent",function(t){function n(e,n,i){var r;return(r=t.call(this,e,n)||this).detail=null,r.detail=i,r}e(n,t);var i=n.prototype;return i.setUserDetail=function(t){this.detail=this.detail},i.getUserDetail=function(){return this.detail},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameFlowManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./BigDealEvents.ts","./ApiUrls.ts","./APIManager.ts","./BigDealGameModel.ts","./BigDealSocketManager.ts","./GamePlay.ts","./AuctionListManager.ts","./SocketEventHandler.ts","./CookieUtils.ts","./LanguageManager.ts","./CustomPopUp.ts","./MyAuctionHistoryPrefab.ts","./LoginPopupManager.ts","./SlotBaseTutorial.ts","./WalletUIController.ts"],(function(e){var t,n,r,a,o,i,s,l,u,c,p,g,f,d,h,m,v,w,_,b,k,x,y,E,T,I,P,L,S,C,U,R,A,D,M,B,F,O,H,G,z;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,u=e.Sprite,c=e.Node,p=e.Prefab,g=e.UITransform,f=e.Size,d=e.instantiate,h=e.Vec3,m=e.tween,v=e.Component,w=e.Widget,_=e.assetManager,b=e.ImageAsset,k=e.Texture2D,x=e.SpriteFrame},function(e){y=e.default},function(e){E=e.CookieKey,T=e.StaticProperties,I=e.BigDealEvents},function(e){P=e.API_URLS},function(e){L=e.APIManager,S=e.MethodType},function(e){C=e.BigDealGameModel},function(e){U=e.BigDealSocketManager},function(e){R=e.GamePlay},function(e){A=e.AuctionListManager},function(e){D=e.SocketEventHandler},function(e){M=e.CookieUtils},function(e){B=e.LanguageManager},function(e){F=e.CustomPopUp},function(e){O=e.ShippingClaimStatus},function(e){H=e.LoginPopupManager},function(e){G=e.SlotBaseTutorial},function(e){z=e.WalletUIController}],execute:function(){var N,W,K,Z,q,Y,V,j,J,Q,X,$,ee,te,ne,re,ae,oe,ie,se,le,ue,ce,pe,ge,fe,de;e("mapApiUserResponse",ve),s._RF.push({},"8928bIpLdVBmZ2K6KiNywHH","GameFlowManager",void 0);var he=l.ccclass,me=l.property;e("GameFlowManager",(N=he("GameFlowManager"),W=me(u),K=me(R),Z=me(c),q=me(p),Y=me(A),V=me(D),j=me(p),J=me(c),Q=me(H),X=me(G),$=me(z),ee=me(c),N((re=t((ne=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,r(t,"gameLogo",re,a(t)),r(t,"gamePlay",ae,a(t)),r(t,"infoPerant",oe,a(t)),r(t,"infoPrefab",ie,a(t)),r(t,"auctionListManager",se,a(t)),r(t,"socketEventHandler",le,a(t)),r(t,"customPopUp",ue,a(t)),r(t,"customPopUpParent",ce,a(t)),r(t,"loginPopupManager",pe,a(t)),r(t,"slotBaseTutorial",ge,a(t)),r(t,"walletUIController",fe,a(t)),r(t,"showInfoButton",de,a(t)),t.url_token="",t.url_auctionId="",t.url_playerId="",t.isLoggedInUser=!1,t.isLoggedIn=!1,t.telegram_user={},t}n(t,e);var s=t.prototype;return s.onLoad=function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.instance.init("en");case 2:window.parent.addEventListener("testurl",this.getWalletBalance.bind(this));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.start=function(){var e=o(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.getDispatcher().emit(I.IS_LOADER_ON,!1),this.slotBaseTutorial.node.getComponent(w).updateAlignment(),this.slotBaseTutorial.node.active=!1,e.next=5,this.startGameFlow();case 5:window.addEventListener("online",(function(){t.customPopUpParent&&t.customPopUpParent.removeAllChildren()})),window.addEventListener("offline",(function(){return t.showPopup("Alert","Please check your network connection.",!1)}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.startGameFlow=function(){var e=o(i().mark((function e(){var t,n,r,a,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.setupAPI();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("url not set");case 8:return e.prev=8,e.next=11,this.getTelegramUser();case 11:this.telegram_user=e.sent,console.log("Telegram user:",this.telegram_user),this.isLoggedIn=!0,e.next=19;break;case 16:e.prev=16,e.t1=e.catch(8),console.error(e.t1);case 19:return e.next=21,this.walletUIController.initUIController();case 21:if(!T.is_Login_with_Teligram){e.next=32;break}return e.prev=22,e.next=25,this.restoreLoginWithTeligram(this.telegram_user);case 25:e.next=30;break;case 27:e.prev=27,e.t2=e.catch(22),console.error(e.t2);case 30:e.next=45;break;case 32:if(!T.is_Login_with_Wallet){e.next=37;break}return e.next=35,this.walletUIController.checkReconnection();case 35:e.next=45;break;case 37:if(T.is_Login_with_Teligram){e.next=43;break}return e.next=40,this.restoreLogin();case 40:e.t3=e.sent,e.next=44;break;case 43:e.t3=!1;case 44:this.isLoggedIn=e.t3;case 45:return e.prev=45,e.next=48,this.getAuctionHouse();case 48:e.next=55;break;case 50:return e.prev=50,e.t4=e.catch(45),console.error("Error fetching auction house:",e.t4),this.showPopup("Error","Failed to fetch auction house data."),e.abrupt("return");case 55:if(e.prev=55,!T.is_Login_with_Wallet){e.next=60;break}return e.next=59,this.walletUIController.checkReconnection();case 59:this.isLoggedIn=!0;case 60:e.next=65;break;case 62:e.prev=62,e.t5=e.catch(55),console.error("Error fetching auction house:",e.t5);case 65:return e.prev=65,e.next=68,this.getCountryDetails();case 68:y.getDispatcher().emit(I.COUNTRY_DETAILS_FETCHED,C.countryApiResponse),e.next=76;break;case 71:return e.prev=71,e.t6=e.catch(65),console.error("Error fetching auction house:",e.t6),this.showPopup("Error","Failed to fetch auction house data."),e.abrupt("return");case 76:if(this.isLoggedIn){e.next=87;break}return e.prev=77,e.next=80,this.getAuctionHouseConfigsPromise(null==(t=C.auctionHouseResponse)||null==(t=t.data)||null==(t=t.currentAuctionHouse)?void 0:t.id);case 80:n=e.sent,C.auctionConfigResponse=n,e.next=87;break;case 84:e.prev=84,e.t7=e.catch(77),console.error("Error fetching auction house configs:",e.t7);case 87:return e.prev=87,e.next=90,this.auctionListManager.getAuctionHouseList();case 90:e.next=97;break;case 92:return e.prev=92,e.t8=e.catch(87),console.error("Error fetching auction house list:",e.t8),this.showPopup("Error","Failed to fetch auction house list."),e.abrupt("return");case 97:return e.prev=97,e.next=100,this.loadImages();case 100:e.next=106;break;case 102:e.prev=102,e.t9=e.catch(97),console.error("Error loading images:",e.t9),this.showPopup("Error","Failed to load images.");case 106:if((r=window.parent.location.search)&&r.includes("token")&&(a=new URLSearchParams(r),this.url_token=a.get("token"),console.log("Token:",this.url_token)),console.log("GameFlowManager startGameFlow isLoggedIn:",this.isLoggedIn),!this.isLoggedIn){e.next=126;break}return e.prev=110,e.next=113,this.getWalletBalance();case 113:e.next=120;break;case 115:return e.prev=115,e.t10=e.catch(110),console.error("Error fetching wallet balance:",e.t10),this.showPopup("Error","Failed to fetch wallet balance."),e.abrupt("return");case 120:this.isLoggedInUser=!0,this.showInfoButton.active=!0,console.log("this.url_token",this.url_token),this.url_token&&L.request(P.VERIFY_DELIVERY_STATUS+"?token="+this.url_token,S.GET,null,!0).then((function(e){if(console.log("Delivery status received:",e),o.url_auctionId=e.data.auction_id,"delivered"==e.data.delivery_status)try{y.getDispatcher().emit(O.WIN_AUCTION_STATUS_CONFIRM,o.url_auctionId)}catch(e){localStorage.removeItem("savedQueryParams");var t=localStorage.getItem("savedBaseUrlParams");window.parent.location.href=t}else"confirmed"===e.data.delivery_status?o.showPopup("Delivery Status","Your delivery has been confirmed.",!0,!0):"declined"===e.data.delivery_status?o.showPopup("Delivery Status","Your delivery has been declined.",!0,!0):o.showPopup("Delivery Status","Delivery status is unknown.",!0,!0)})).catch((function(e){console.error("Error fetching delivery status:",e)})),e.next=127;break;case 126:this.url_token&&(console.log("else this.url_token",this.url_token),this.loginPopupManager.init(),this.isLoggedInUser=!1);case 127:return this.socketEventHandler.init(),e.prev=128,e.next=131,U.getInstance().init();case 131:e.next=136;break;case 133:e.prev=133,e.t11=e.catch(128),console.error("Error initializing socket:",e.t11);case 136:this.gamePlay.initFromGameFlow();case 137:case"end":return e.stop()}}),e,this,[[0,5],[8,16],[22,27],[45,50],[55,62],[65,71],[77,84],[87,92],[97,102],[110,115],[128,133]])})));return function(){return e.apply(this,arguments)}}(),s.getTelegramUser=function(){return new Promise((function(e,t){try{var n,r,a,o;if("undefined"!=typeof window&&null!=(n=window.Telegram)&&n.WebApp)o=window.Telegram.WebApp;else{if(void 0===window.parent||null==(r=window.parent.Telegram)||!r.WebApp)return void t("âŒ Telegram API not available. Run inside Telegram Mini App.");o=window.parent.Telegram.WebApp}o.ready();var i=null==(a=o.initDataUnsafe)?void 0:a.user;i?(T.is_Login_with_Teligram=!0,e(i)):t("âŒ User not detected. Please load inside Telegram Mini App.")}catch(e){t("âš ï¸ Error accessing Telegram API: "+e)}}))},s.setupAPI=function(){var e=o(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(o(i().mark((function e(n,r){var a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=new URL(window.location.href),T.hostname=a.host,o=a.searchParams,t.url_token=o.get("token"),(s=window.location.host).includes("auctionx.dev")?(T.apiBaseURL="https://api.auctionx.dev/",T.hostname=T.hostname):s.includes("auctionx.live")?(T.apiBaseURL="https://api.auctionx.live/",T.hostname=T.hostname):(T.apiBaseURL="https://api.auctionx.dev/",T.hostname="dinesh.auctionx.dev"),n()}catch(e){r(e)}case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.restoreLoginWithTeligram=function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(o(i().mark((function e(n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r={first_name:(t.first_name||"")+" "+(t.last_name||""),telegram_id:""+t.id,hostname:T.hostname}).telegram_id||!r.first_name){e.next=19;break}return e.prev=2,e.next=5,L.request(P.LOGIN,S.POST,r,!1);case 5:a=e.sent,C.loginDataResponse=a,M.setCookie(E.ACCESS_TOKEN,a.data.accessToken,30),M.setCookie(E.REFRESH_TOKEN,a.data.refreshToken,30),localStorage.setItem("accessToken",a.data.accessToken),localStorage.setItem("refreshToken",a.data.refreshToken),T.isLogin=!0,n(!0),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),console.warn("Failed to auto-login",e.t0),n(!1);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.restoreLogin=function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(o(i().mark((function e(t){var n,r,a,o,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null,n=localStorage.getItem(E.USER_ID)||M.getCookie(E.USER_ID),r=M.getCookie(E.ACCESS_TOKEN),(a=localStorage.getItem("accessToken"))&&r&&r!=a&&(localStorage.setItem("accessToken",r),localStorage.setItem(E.REFRESH_TOKEN,M.getCookie(E.REFRESH_TOKEN))),o=r||a,s=null,e.next=12;break;case 12:if(!n||!o){e.next=27;break}return e.prev=13,e.next=16,L.request(P.REGISTRATION+""+n,S.GET,null,!0);case 16:l=e.sent,C.loginDataResponse=ve(l),localStorage.setItem("PlayerLoginObj",JSON.stringify(l)),console.log("BigDealGameModel.loginDataResponse",l),T.isLogin=!0,s=l,e.next=27;break;case 24:e.prev=24,e.t0=e.catch(13),console.warn("Failed to auto-login",e.t0);case 27:t(!!s);case 28:case"end":return e.stop()}}),e,null,[[13,24]])})))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.getAuctionHouse=function(){var e=o(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.request(P.AUCTION_HOUSE+T.hostname,S.GET);case 2:t=e.sent,C.auctionHouseResponse=t;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.getCountryDetails=function(){var e=o(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.request(P.COUNTRY_DETAILS,S.GET);case 3:return t=e.sent,C.countryApiResponse=t,e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(0),console.error("Error fetching country details:",e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),s.getAuctionHouseConfigsPromise=function(e){var t=P.AUCTION_HOUSE_CONFIGS+"/"+e+"/configs";return new Promise(o(i().mark((function e(n,r){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.request(t,S.GET);case 3:(a=e.sent).success?n(a):r(new Error(a.message||"Failed to fetch configs")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))))},s.getWalletBalance=function(){var e=o(i().mark((function e(){var t,n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=C.loginDataResponse.data.id,e.next=3,L.request(P.WALLET_BALANCE+""+n,S.GET,null,!0);case 3:r=e.sent,C.playerBalancesResponse=r,null!=(a=null==r||null==(t=r.data)?void 0:t.play_balance)&&(this.gamePlay.walletBalance.string=a.toString());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.loadImages=function(){var e=o(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=null==(t=C.auctionHouseResponse)||null==(t=t.data)||null==(t=t.currentAuctionHouse)||null==(t=t.medias)?void 0:t.local_path)||!this.gameLogo){e.next=5;break}return e.next=4,this.loadRemoteImage(""+T.apiBaseURL+n,this.gameLogo);case 4:this.setImageSize(new f(400,130),this.gameLogo);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.loadRemoteImage=function(){var e=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){_.loadRemote(t,{ext:".png",xhrResponseType:"blob"},(function(t,r){if(t||!(r instanceof b))return console.warn("Failed to load image:",t),e();var a=new k;a.image=r;var o=new x;o.texture=a,n.spriteFrame=o,e()}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s.setImageSize=function(e,t){var n=t.getComponent(g),r=n.contentSize,a=e.height/r.height,o=e.width/r.width,i=Math.min(o,a);n.setContentSize(new f(r.width*i,r.height*i))},s.onLanguageClick=function(){var e=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.instance.setLanguage(n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s.createInfo=function(){T.isLogin&&(y.getDispatcher().emit(I.REDIRECT_TO_HOME),this.slotBaseTutorial.init())},s.showPopup=function(e,t,n,r){var a=this;if(void 0===n&&(n=!0),void 0===r&&(r=!1),this.customPopUp){var o=d(this.customPopUp);if(o.setPosition(0,0),o.setScale(h.ZERO),this.customPopUpParent.addChild(o),r){o.getComponent(F).setCallback((function(){a.setZoomOut(o);var e=""+new URL(window.parent.location.href).origin;window.parent.location.href=e}),null)}else{o.getComponent(F).setCallback((function(){return a.setZoomOut(o)}),null)}o.getComponent(F).Msg.string=t,o.getComponent(F).title.string=e,n||(o.getComponent(F).btn1.node.active=!1),this.setZoom(o)}},s.setZoom=function(e){m(e).to(.2,{scale:new h(1.2,1.2,1.2)}).to(.1,{scale:new h(1,1,1)}).start()},s.setZoomOut=function(e){m(e).to(.2,{scale:h.ZERO}).destroySelf().start()},t}(v)).prototype,"gameLogo",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(ne.prototype,"gamePlay",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(ne.prototype,"infoPerant",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(ne.prototype,"infoPrefab",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(ne.prototype,"auctionListManager",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(ne.prototype,"socketEventHandler",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(ne.prototype,"customPopUp",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(ne.prototype,"customPopUpParent",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(ne.prototype,"loginPopupManager",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(ne.prototype,"slotBaseTutorial",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(ne.prototype,"walletUIController",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(ne.prototype,"showInfoButton",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=ne))||te));function ve(e){var t,n,r,a,o,i,s,l,u,c,p,g,f,d,h,m,v=M.getCookie(E.ACCESS_TOKEN)?M.getCookie(E.ACCESS_TOKEN):localStorage.getItem("accessToken");return{code:e.code,success:e.success,message:e.message,metadata:e.metadata||{},data:{id:e.data.id,email:null!=(t=e.data.email)?t:null,first_name:null!=(n=e.data.first_name)?n:null,last_name:null!=(r=e.data.last_name)?r:null,mobile_no:null!=(a=e.data.mobile_no)?a:"",avatar:null!=(o=e.data.avatar)?o:"",referral_code:null!=(i=e.data.referral_code)?i:"",zipcode:null!=(s=e.data.zipcode)?s:"",wallet_address:null!=(l=e.data.aux_wallet_address)?l:null,roles:null!=(u=e.data.roles)?u:{title:"User"},isPlayerExist:null!=(c=e.data.isPlayerExist)&&c,is_verified:null!=(p=e.data.is_verified)&&p,accessToken:null!=v?v:"",refreshToken:null!=(g=e.data.refreshToken)?g:"",gender:null!=(f=e.data.gender)?f:void 0,country:null!=(d=e.data.country)?d:void 0,city:null!=(h=e.data.city)?h:null,user_id:null!=(m=e.data.user_id)?m:"",aux_wallet_address:e.data.aux_wallet_address,is_mobile_verified:e.data.is_mobile_verified,is_email_verified:e.data.is_email_verified}}}s._RF.pop()}}}));

System.register("chunks:///_virtual/GameFotterManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoginPopupManager.ts","./ShowProfile.ts","./MenuPanel.ts","./XPHistoryManager.ts","./EventManager.ts","./BigDealEvents.ts","./GamePlay.ts","./AllBidHistoryManager.ts","./MyAuctionManager.ts","./DetailsPanelManager.ts","./HowToPlayPanelManager.ts","./ShippingStatus.ts","./ComingSoonAuctions.ts","./BigDealGameModel.ts","./ClaimRewardPrize.ts"],(function(n){var e,i,t,o,l,a,r,u,s,c,h,p,g,f,d,m,y,P,M,b,w,k,C,v,B,T,H;return{setters:[function(n){e=n.applyDecoratedDescriptor,i=n.inheritsLoose,t=n.initializerDefineProperty,o=n.assertThisInitialized,l=n.asyncToGenerator,a=n.regeneratorRuntime},function(n){r=n.cclegacy,u=n._decorator,s=n.Button,c=n.Node,h=n.Component},function(n){p=n.LoginPopupManager},function(n){g=n.ShowProfile},function(n){f=n.MenuPanel},function(n){d=n.XPHistoryManager},function(n){m=n.default},function(n){y=n.BigDealEvents,P=n.StaticProperties},function(n){M=n.GamePlay},function(n){b=n.AllBidHistoryManager},function(n){w=n.MyAuctionManager},function(n){k=n.DetailsPanelManager},function(n){C=n.HowToPlayPanelManager},function(n){v=n.ShippingStatus},function(n){B=n.ComingSoonAuctions},function(n){T=n.BigDealGameModel},function(n){H=n.ClaimRewardPrize}],execute:function(){var A,L,z,S,R,D,E,I,_,G,O,U,x,F,N,K,W,X,j,Z,q,J,Q,V,Y,$,nn,en,tn,on,ln,an,rn,un,sn,cn,hn;r._RF.push({},"92647OvhXZNp56ivlu+7/3z","GameFotterManager",void 0);var pn=u.ccclass,gn=u.property;n("GameFooterManager",(A=pn("GameFooterManager"),L=gn(s),z=gn(s),S=gn(s),R=gn(s),D=gn(p),E=gn(f),I=gn(d),_=gn(g),G=gn(M),O=gn(b),U=gn(w),x=gn(k),F=gn(C),N=gn(v),K=gn(B),W=gn(H),X=gn(c),A((q=e((Z=function(n){function e(){for(var e,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return e=n.call.apply(n,[this].concat(l))||this,t(e,"homeButton",q,o(e)),t(e,"myBidsButton",J,o(e)),t(e,"redeemButton",Q,o(e)),t(e,"howToButton",V,o(e)),t(e,"loginPopupManager",Y,o(e)),t(e,"menu",$,o(e)),t(e,"transferxp",nn,o(e)),t(e,"showProfile",en,o(e)),t(e,"gamePlay",tn,o(e)),t(e,"allBidHistoryManager",on,o(e)),t(e,"myAuctionManager",ln,o(e)),t(e,"detailsPanelManager",an,o(e)),t(e,"howToPlayPanelManager",rn,o(e)),t(e,"shippingStatus",un,o(e)),t(e,"comingSoonAuctions",sn,o(e)),t(e,"claimRewardPrize",cn,o(e)),t(e,"showWining",hn,o(e)),e.isClickLocked=!1,e}i(e,n);var r=e.prototype;return r.start=function(){this.homeButton.node.on(s.EventType.CLICK,this.onHomeClicked,this),this.myBidsButton.node.on(s.EventType.CLICK,this.onMyBidsClicked,this),this.redeemButton.node.on(s.EventType.CLICK,this.onRedeemClicked,this),this.howToButton.node.on(s.EventType.CLICK,this.onHowToClicked,this),m.getDispatcher().on(y.CLOSE_ALL_POPUPS,this.closeAllPopups,this),m.getDispatcher().on(y.CLOSE_ALL_POPUPS,this.onClickMenu,this),m.getDispatcher().on(y.REDIRECT_TO_HOME,this.onHomeClicked,this)},r.lockClicksTemporarily=function(){var n=this;this.isClickLocked=!0,setTimeout((function(){return n.isClickLocked=!1}),300)},r.closeAllPopups=function(){var n,e,i,t,o,l,a,r,u,s;if(null==(n=this.loginPopupManager)||n.onClose(),null==(e=this.menu)||e.closeMenu(),null==(i=this.transferxp)||i.closeUI(),null==(t=this.showProfile)||t.closeProfile(),null==(o=this.myAuctionManager)||o.setPanelOff(),null==(l=this.shippingStatus)||l.out(),this.claimRewardPrize.closePanel(),T.auctionHouseListResponse&&null!=(a=T.auctionHouseListResponse)&&a.data&&0!=(null==(r=T.auctionHouseListResponse)?void 0:r.data.length)){if((null==(u=T.auctionHouseListResponse)?void 0:u.data.length)>0){var c;null==(c=this.comingSoonAuctions)||c.deactivateUINode()}}else null==(s=this.comingSoonAuctions)||s.activateUINode();this.showWining.active=!1},r.onClickMenu=function(){var n,e,i;null==(n=this.allBidHistoryManager)||n.out(),null==(e=this.detailsPanelManager)||e.out(),null==(i=this.howToPlayPanelManager)||i.out()},r.onHomeClicked=function(){var n=l(a().mark((function n(){var e,i,t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.isClickLocked){n.next=2;break}return n.abrupt("return");case 2:this.lockClicksTemporarily(),this.closeAllPopups(),null==(e=this.allBidHistoryManager)||e.out(),null==(i=this.detailsPanelManager)||i.out(),null==(t=this.howToPlayPanelManager)||t.out(),console.log("Home button clicked"),P.is_insideGame=!1,this.gamePlay.isOnHome();case 10:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),r.onMyBidsClicked=function(){var n,e;this.isClickLocked||(this.lockClicksTemporarily(),this.closeAllPopups(),null==(n=this.detailsPanelManager)||n.out(),null==(e=this.howToPlayPanelManager)||e.out(),console.log("My Bids button clicked"),this.allBidHistoryManager.init())},r.onRedeemClicked=function(n){var e,i,t;this.isClickLocked||(this.lockClicksTemporarily(),null==(e=this.allBidHistoryManager)||e.out(),this.closeAllPopups(),console.log("Redeem button clicked"),null==(i=this.detailsPanelManager)||i.init(),null==(t=this.howToPlayPanelManager)||t.out())},r.onHowToClicked=function(){var n,e,i;this.isClickLocked||(this.lockClicksTemporarily(),this.closeAllPopups(),null==(n=this.allBidHistoryManager)||n.out(),null==(e=this.detailsPanelManager)||e.out(),null==(i=this.howToPlayPanelManager)||i.init(),console.log("How To button clicked - currently blank"))},r.onclickUpComingAuctions=function(){var n,e,i,t,o,l,a,r,u,s;this.isClickLocked||(this.lockClicksTemporarily(),null==(n=this.loginPopupManager)||n.onClose(),null==(e=this.menu)||e.closeMenu(),null==(i=this.transferxp)||i.closeUI(),null==(t=this.showProfile)||t.closeProfile(),null==(o=this.myAuctionManager)||o.setPanelOff(),null==(l=this.shippingStatus)||l.out(),this.showWining.active=!1,null==(a=this.allBidHistoryManager)||a.out(),null==(r=this.detailsPanelManager)||r.out(),null==(u=this.howToPlayPanelManager)||u.out(),null==(s=this.comingSoonAuctions)||s.activateUINode(),console.log("Upcoming Auctions button clicked"))},e}(h)).prototype,"homeButton",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(Z.prototype,"myBidsButton",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(Z.prototype,"redeemButton",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(Z.prototype,"howToButton",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(Z.prototype,"loginPopupManager",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(Z.prototype,"menu",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nn=e(Z.prototype,"transferxp",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),en=e(Z.prototype,"showProfile",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tn=e(Z.prototype,"gamePlay",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),on=e(Z.prototype,"allBidHistoryManager",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ln=e(Z.prototype,"myAuctionManager",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),an=e(Z.prototype,"detailsPanelManager",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rn=e(Z.prototype,"howToPlayPanelManager",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),un=e(Z.prototype,"shippingStatus",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),sn=e(Z.prototype,"comingSoonAuctions",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),cn=e(Z.prototype,"claimRewardPrize",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),hn=e(Z.prototype,"showWining",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=Z))||j));r._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealGameModel.ts","./EventManager.ts","./BigDealEvents.ts","./BigDealSocketManager.ts","./PlayerKeyboardHandler.ts","./BrowserBackButtonHandler.ts","./MyAudioManager.ts","./AvatarIconsManager.ts","./UniqueHistory.ts","./UpdateProfileKYC.ts","./SocketEventHandler.ts","./AllBidHistoryManager.ts","./ComingSoonAuctions.ts","./CustomPopUp.ts","./PageViewImageLoader.ts","./AuctionManager.ts"],(function(e){var t,n,i,r,o,a,l,u,s,c,d,p,g,h,f,m,b,y,v,w,H,B,I,S,P,z,k,L,A,C,R,x,D,M,F,U,_,E,T,G,O,N,K,W,q;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){l=e.cclegacy,u=e._decorator,s=e.Label,c=e.Node,d=e.Sprite,p=e.ScrollView,g=e.Prefab,h=e.assetManager,f=e.ImageAsset,m=e.Texture2D,b=e.SpriteFrame,y=e.UITransform,v=e.Size,w=e.view,H=e.Widget,B=e.ResolutionPolicy,I=e.screen,S=e.instantiate,P=e.Vec3,z=e.tween,k=e.Component},function(e){L=e.BigDealGameModel},function(e){A=e.default},function(e){C=e.BigDealEvents,R=e.StaticProperties},function(e){x=e.BigDealSocketManager},function(e){D=e.PlayerKeyboardHandler},function(e){M=e.BrowserBackButtonHandler},function(e){F=e.MyAudioManager},function(e){U=e.AvatarIconsManager,_=e.getValidImageUrl},function(e){E=e.UniqueHistory},function(e){T=e.UpdateProfileKYC},function(e){G=e.SocketEventHandler},function(e){O=e.AllBidHistoryManager},function(e){N=e.ComingSoonAuctions},function(e){K=e.CustomPopUp},function(e){W=e.PageViewImageLoader},function(e){q=e.ChainType}],execute:function(){var V,X,Z,Y,j,J,Q,$,ee,te,ne,ie,re,oe,ae,le,ue,se,ce,de,pe,ge,he,fe,me,be,ye,ve,we,He,Be,Ie,Se,Pe,ze,ke,Le,Ae,Ce,Re,xe,De,Me,Fe,Ue,_e,Ee,Te,Ge,Oe,Ne,Ke,We,qe,Ve,Xe,Ze,Ye,je,Je,Qe,$e,et,tt,nt,it,rt,ot,at,lt,ut,st,ct;e({RemoteAvatar:gt,setImageSize:function(e,t){var n=t.getComponent(y).contentSize,i=e.height/n.height,r=e.width/n.width,o=Math.min(i,r);t.getComponent(y).setContentSize(new v(n.width*o,n.height*o))}}),l._RF.push({},"bbf1eP3VeJF1a1X9xfpS6sL","GamePlay",void 0);var dt=u.ccclass,pt=u.property;e("GamePlay",(V=dt("GamePlay"),X=pt(s),Z=pt(s),Y=pt(c),j=pt(c),J=pt(c),Q=pt(c),$=pt(s),ee=pt(D),te=pt(T),ne=pt(c),ie=pt(c),re=pt(d),oe=pt(d),ae=pt(U),le=pt(E),ue=pt(c),se=pt(s),ce=pt(s),de=pt(s),pe=pt(s),ge=pt(c),he=pt(c),fe=pt(c),me=pt(c),be=pt(p),ye=pt(p),ve=pt(p),we=pt(G),He=pt(O),Be=pt(N),Ie=pt(g),Se=pt(c),Pe=pt(W),ze=pt({type:[c]}),V((Ae=t((Le=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"bidNumberLabel",Ae,r(t)),i(t,"walletBalance",Ce,r(t)),i(t,"uniqueHistory",Re,r(t)),i(t,"myBidsHistory",xe,r(t)),i(t,"commingSoonPage",De,r(t)),i(t,"winingPage",Me,r(t)),i(t,"rewardAmount",Fe,r(t)),i(t,"playerKeyboardHandler",Ue,r(t)),i(t,"updateProfileKYC",_e,r(t)),i(t,"LoginButton",Ee,r(t)),i(t,"screenManager",Te,r(t)),i(t,"productImage",Ge,r(t)),i(t,"productImageBG",Oe,r(t)),i(t,"avatarIconsManager",Ne,r(t)),i(t,"uniqueHistorymanager",Ke,r(t)),i(t,"wallet",We,r(t)),i(t,"auctionCategoryTitel",qe,r(t)),i(t,"playsConsumedOnBid",Ve,r(t)),i(t,"auctiontitle",Xe,r(t)),i(t,"Producttitle",Ze,r(t)),i(t,"uiHome",Ye,r(t)),i(t,"keyBordHome",je,r(t)),i(t,"Uigame",Je,r(t)),i(t,"keyBordGame",Qe,r(t)),i(t,"myBidScroll",$e,r(t)),i(t,"uniqueBidScroll",et,r(t)),i(t,"mainScreen",tt,r(t)),i(t,"socketEventHandler",nt,r(t)),i(t,"allBidHistoryManager",it,r(t)),i(t,"designWidth",rt,r(t)),i(t,"comingSoonAuctions",ot,r(t)),i(t,"customPopUp",at,r(t)),i(t,"customPopUpPerant",lt,r(t)),i(t,"pageViewImageLoader",ut,r(t)),i(t,"chainNode",st,r(t)),i(t,"designHeight",ct,r(t)),t.isHistoryToggle=!1,t.currentAvatar="",t.originalHeight=void 0,t}n(t,e);var l=t.prototype;return l.onLoad=function(){A.getDispatcher().emit(C.IS_LOADER_ON,!1),this.originalHeight=window.innerHeight,M.init(),this.designWidth=w.getVisibleSize().width,this.designHeight=w.getVisibleSize().height,this.updateResolution()},l.setupResizeHandler=function(){var e=this;window.addEventListener("resize",(function(){var t;e.updateResolution();var n=window.innerHeight<.7*e.originalHeight,i=null==(t=e.screenManager)?void 0:t.getComponent(H);i&&(i.enabled=!n)}))},l.updateResolution=function(){if(window.parent){window.parent.innerWidth>window.parent.innerHeight?(console.log("Orientation: Landscape -> Applying Fit Height"),w.setDesignResolutionSize(this.designWidth,this.designHeight,B.FIXED_HEIGHT)):(console.log("Orientation: Portrait -> Applying Fit Width"),w.setDesignResolutionSize(this.designWidth,this.designHeight,B.FIXED_WIDTH))}else{var e=w.getVisibleSizeInPixel();e.width>e.height?(console.log("Orientation: Landscape -> Applying Fit Height"),w.setDesignResolutionSize(this.designWidth,this.designHeight,B.FIXED_HEIGHT)):(console.log("Orientation: Portrait -> Applying Fit Width"),w.setDesignResolutionSize(this.designWidth,this.designHeight,B.FIXED_WIDTH))}},l.requestFullscreenIfMobile=function(){this.isTablet()||/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent)&&!I.fullScreen()&&(I.requestFullScreen(),console.log("Attempting to enter full screen mode..."))},l.isTablet=function(){var e=navigator.userAgent.toLowerCase();return e.includes("ipad")||e.includes("android")&&!e.includes("mobile")||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1},l.isOnHome=function(){this.uiHome.active=!0,this.keyBordHome.active=!0,this.Uigame.active=!1,this.keyBordGame.active=!1},l.isOnGame=function(){var e=o(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A.getDispatcher().emit(C.IS_LOADER_ON,!1),this.uiHome.active=!1,this.keyBordHome.active=!1,this.Uigame.active=!0,this.keyBordGame.active=!0,this.mainScreen.scrollToTop(0),this.onclickChangeHistory(),e.prev=7,e.next=10,this.initFromGameFlow();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),console.error("Error in GamePlay initFromGameFlow:",e.t0);case 15:this.initUIComponents(),(n=null==(t=L.auctionHouseListResponse)||null==(t=t.data[R.auctionIndex])?void 0:t.id)&&this.allBidHistoryManager.setMyBidsInit(n);case 18:case"end":return e.stop()}}),e,this,[[7,12]])})));return function(){return e.apply(this,arguments)}}(),l.initFromGameFlow=function(){var e=o(a().mark((function e(){var t,n=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.loadAuctionAssets();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error loading auction assets:",e.t0);case 8:if(this.setAuctionData(),this.setPublicKey(),!(null!=L.loginDataResponse)){e.next=23;break}return e.prev=12,e.next=15,this.handleLoggedInUserFlow();case 15:null==(t=L.auctionHouseListResponse)||null==(t=t.data)||t.forEach((function(e){n.allBidHistoryManager.setMyBidsInit(e.id)})),e.next=21;break;case 18:e.prev=18,e.t1=e.catch(12),console.error("Error in handleLoggedInUserFlow:",e.t1);case 21:e.next=24;break;case 23:this.handleGuestUserFlow();case 24:return e.next=26,this.init();case 26:A.getDispatcher().emit(C.IS_LOADER_OFF);case 27:case"end":return e.stop()}}),e,this,[[0,5],[12,18]])})));return function(){return e.apply(this,arguments)}}(),l.loadAuctionAssets=function(){var e=o(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pageViewImageLoader.init();case 2:if(e.prev=2,!(n=null==(t=L.auctionHouseListResponse)||null==(t=t.data[R.auctionIndex])||null==(t=t.products)||null==(t=t.productMedias[0])?void 0:t.medias.local_path)){e.next=7;break}return e.next=7,gt(""+R.apiBaseURL+n,this.productImageBG);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),l.setPublicKey=function(){var e,t=null==(e=L.auctionHouseListResponse)||null==(e=e.data[R.auctionIndex])?void 0:e.rsa_public_key;t?R.publicKeyPem=t:console.warn("public_key not found")},l.setChainIcon=function(e){var t,n;this.chainNode&&this.chainNode.length>0&&this.chainNode.forEach((function(e){return e.active=!1}));var i=(null==(t=L.auctionHouseListResponse)||null==(t=t.data)||null==(t=t[e])||null==(t=t.chain)?void 0:t.explorer_url)||"",r=(null==(n=L.auctionHouseListResponse)||null==(n=n.data)||null==(n=n[e])||null==(n=n.chain)?void 0:n.name)||"",o=null;if(i.includes("skalenodes.com")||"SKALE"==r?(o=q.Skale,console.log("ðŸŸ¢ Skale network detected")):i.includes("bscscan.com")||"BNB Smart Chain Testnet"==r?(o=q.BSC,console.log("ðŸŸ¡ BSC network detected")):i.includes("hashscan.io")||"Hedera Testnet"==r?(o=q.Hedera,console.log("ðŸ”µ Hedera network detected")):console.log("âšª Unknown explorer URL"),o&&this.chainNode&&this.chainNode.length>=3){var a=o-1,l=this.chainNode[a];l&&(l.active=!0)}},l.initUIComponents=function(){this.playerKeyboardHandler.init(),this.playerKeyboardHandler.selectAuctionLabel(this.bidNumberLabel),this.socketEventHandler.selectAuctionLabel(this.bidNumberLabel);this.socketEventHandler.updateBidPercentageLabel({value:0}),x.getInstance().initsendMessege(),this.setChainIcon(R.auctionIndex)},l.handleLoggedInUserFlow=function(){var e=o(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null==(t=L.loginDataResponse)?void 0:t.data,this.currentAvatar=n.avatar||"assets/avatar/1.png",n.is_verified){e.next=6;break}return this.updateProfileKYC.onClick(),A.getDispatcher().emit(C.IS_LOADER_OFF),e.abrupt("return");case 6:return R.is_verified=!0,R.isLogin=!0,this.LoginButton.active=!1,this.wallet.active=!0,this.updateWalletBalance(),e.next=13,this.uniqueHistorymanager.init();case 13:return e.next=15,this.avatarIconsManager.setAvatarIcon(""+R.apiBaseURL+this.currentAvatar);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.handleGuestUserFlow=function(){R.isLogin=!1,this.LoginButton.active=!0,this.wallet.active=!1},l.init=function(){var e=o(a().mark((function e(){var t,n,i,r,o,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==((null==(t=(r=L).auctionHouseListResponse)?void 0:t.data)||[]).length){e.next=8;break}return this.comingSoonAuctions.activateUINode(),A.getDispatcher().emit(C.IS_LOADER_OFF),console.log("CommingSoonPage"),e.abrupt("return");case 8:this.comingSoonAuctions.deactivateUINode(),null!=(o=null==(n=r.loginDataResponse)?void 0:n.data)&&o.id&&(x.getInstance().sendMessage("player:wallet:balance",o.id),this.LoginButton.active=!1,this.wallet.active=!0),l=null==(i=r.playerBalancesResponse)||null==(i=i.data)?void 0:i.play_balance,this.walletBalance.string=void 0!==l?l.toString():"0",e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(0),console.error("GamePlay init error:",e.t0),e.t0;case 19:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),l.updateWalletBalance=function(){var e,t=null==(e=L.playerBalancesResponse)||null==(e=e.data)?void 0:e.play_balance;null!=t&&(this.walletBalance.string=t.toString())},l.onclickChangeHistory=function(){F.inst.play("clickButtonsound"),this.uniqueHistory.active=!0,this.myBidsHistory.active=!0,this.uniqueBidScroll.scrollToTop(.1),this.myBidScroll.scrollToTop(.1)},l.setAuctionData=function(){var e,t,n,i=null==(e=L.auctionHouseListResponse)?void 0:e.data[R.auctionIndex];i&&(this.auctionCategoryTitel.string=i.auctionCategory.title,this.playsConsumedOnBid.string=i.plays_consumed_on_bid+"XP",this.rewardAmount.string=(null==(t=i.products)||null==(t=t.price)?void 0:t.toString())+" XP"||"",this.Producttitle.string=(null==(n=i.products)?void 0:n.title)||"")},l.stringCompression=function(e,t,n){if(void 0===n&&(n=10),e.length>n){var i=e.slice(0,3),r=e.slice(-3);t.string=i+"..."+r}else t.string=e},l.clickInfo=function(){var e,t=null==(e=L.auctionHouseListResponse)?void 0:e.data[R.auctionIndex];if(t){var n=t.id;this.showCustomPopUp("Auction ID",n)}},l.showCustomPopUp=function(e,t){var n=this,i=S(this.customPopUp);i.setPosition(0,0),i.setScale(P.ZERO),this.customPopUpPerant.addChild(i);i.getComponent(K).setCallback((function(){return n.setZoomOut(i)}),null),i.getComponent(K).Msg.string=t,i.getComponent(K).title.string=e,i.getComponent(K).coppyButton.active=!0,this.setZoom(i)},l.setZoom=function(e){z(e).to(.2,{scale:new P(1.2,1.2,1.2)}).to(.1,{scale:new P(1,1,1)}).start()},l.setZoomOut=function(e){z(e).to(.2,{scale:P.ZERO}).destroySelf().start()},t}(k)).prototype,"bidNumberLabel",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(Le.prototype,"walletBalance",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(Le.prototype,"uniqueHistory",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(Le.prototype,"myBidsHistory",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(Le.prototype,"commingSoonPage",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t(Le.prototype,"winingPage",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(Le.prototype,"rewardAmount",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=t(Le.prototype,"playerKeyboardHandler",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(Le.prototype,"updateProfileKYC",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(Le.prototype,"LoginButton",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(Le.prototype,"screenManager",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(Le.prototype,"productImage",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(Le.prototype,"productImageBG",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(Le.prototype,"avatarIconsManager",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=t(Le.prototype,"uniqueHistorymanager",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=t(Le.prototype,"wallet",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=t(Le.prototype,"auctionCategoryTitel",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=t(Le.prototype,"playsConsumedOnBid",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=t(Le.prototype,"auctiontitle",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=t(Le.prototype,"Producttitle",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=t(Le.prototype,"uiHome",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=t(Le.prototype,"keyBordHome",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=t(Le.prototype,"Uigame",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=t(Le.prototype,"keyBordGame",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=t(Le.prototype,"myBidScroll",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=t(Le.prototype,"uniqueBidScroll",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=t(Le.prototype,"mainScreen",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=t(Le.prototype,"socketEventHandler",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=t(Le.prototype,"allBidHistoryManager",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=t(Le.prototype,"designWidth",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1010}}),ot=t(Le.prototype,"comingSoonAuctions",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=t(Le.prototype,"customPopUp",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=t(Le.prototype,"customPopUpPerant",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=t(Le.prototype,"pageViewImageLoader",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=t(Le.prototype,"chainNode",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ct=t(Le.prototype,"designHeight",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1980}}),ke=Le))||ke));function gt(e,t){return new Promise((function(n){e=_(e),h.loadRemote(e,{ext:".png",xhrResponseType:"blob"},(function(e,i){if(e||!(i instanceof f))return console.warn("Failed to load remote image:",e),n();try{var r=new m;r.image=i;var o=new b;o.texture=r,null!=t&&t.isValid?t.spriteFrame=o:console.warn("Sprite is invalid or null")}catch(e){console.error("RemoteAvatar error:",e)}n()}))}))}l._RF.pop()}}}));

System.register("chunks:///_virtual/GetEmailOrPhone.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./BigDealEvents.ts","./APIManager.ts","./ApiUrls.ts","./EmailOTPVerification.ts","./BigDealGameModel.ts","./LanguageManager.ts"],(function(e){var t,i,n,r,o,a,s,l,u,c,h,p,d,f,m,b,g,_,P,v,O,R,B,y,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,u=e.Node,c=e.Label,h=e.EditBox,p=e.Button,d=e.UIOpacity,f=e.tween,m=e.Vec3,b=e.Component},function(e){g=e.default},function(e){_=e.StaticProperties,P=e.BigDealEvents},function(e){v=e.APIManager,O=e.MethodType},function(e){R=e.API_URLS},function(e){B=e.ClaimRewardOTPVerification},function(e){y=e.BigDealGameModel},function(e){w=e.LanguageManager}],execute:function(){var E,N,x,T,V,D,I,C,S,k,M,F,z,A,G,L,q,Y,X,U,j,H,Z,$,K,Q,W;s._RF.push({},"316179YjcBEta9PSQKzcVj9","GetEmailOrPhone",void 0);var J=l.ccclass,ee=l.property;e("EmailorPhoneVerification",(E=J("EmailorPhoneVerification"),N=ee(u),x=ee(u),T=ee(c),V=ee(c),D=ee(h),I=ee(h),C=ee(p),S=ee(u),k=ee(u),M=ee(p),F=ee(p),z=ee(B),E((L=t((G=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"bgNode",L,r(t)),n(t,"uiNode",q,r(t)),n(t,"countryCode",Y,r(t)),n(t,"title",X,r(t)),n(t,"phoneNumber",U,r(t)),n(t,"email_EditBox",j,r(t)),n(t,"sendOtpButton",H,r(t)),n(t,"emailBox",Z,r(t)),n(t,"phoneBox",$,r(t)),n(t,"countryCodeBox",K,r(t)),n(t,"closeClick",Q,r(t)),n(t,"reward_OTP_Vrf",W,r(t)),t.otpResponse=null,t.userData={},t.isProcessing=!1,t.is_Email=!1,t.is_Verification=!1,t}i(t,e);var s=t.prototype;return s.start=function(){var e,t=null==(e=this.bgNode)?void 0:e.getComponent(d);t&&(t.opacity=0),this.uiNode&&(this.uiNode.active=!1)},s.onclickEmailBox=function(){this.is_Verification=!0,this.is_Email=!0,this.showBuyXPPanel()},s.onclickPhoneBox=function(){this.is_Verification=!0,this.is_Email=!1,this.showBuyXPPanel()},s.showBuyXPPanel=function(){if(this.uiNode&&this.bgNode){this.uiNode.active=!0,this.bgNode.active=!0;var e=this.bgNode.getComponent(d);e&&f(e).to(.2,{opacity:255}).start(),f(this.uiNode).to(.2,{position:new m(0,0,0)}).start(),this.init()}},s.init=function(){this.phoneNumber&&(this.phoneNumber.string=""),this.email_EditBox&&(this.email_EditBox.string=""),this.closeClick&&(this.closeClick.interactable=!0),this.sendOtpButton&&(this.sendOtpButton.interactable=!0),this.phoneNumber&&(this.phoneNumber.enabled=!0),this.countryCodeBox&&(this.countryCodeBox.interactable=!0),this.isProcessing=!1,y.loginDataResponse.data.is_mobile_verified||!1!==this.is_Email?y.loginDataResponse.data.is_email_verified||(this.emailBox&&(this.emailBox.active=!0),this.phoneBox&&(this.phoneBox.active=!1),this.title.string=w.instance.t("email_vfc")):(this.emailBox&&(this.emailBox.active=!1),this.phoneBox&&(this.phoneBox.active=!0),this.title.string=w.instance.t("phone_vfc"))},s.hideBuyXPPanel=function(){var e,t=this,i=null==(e=this.bgNode)?void 0:e.getComponent(d);i&&f(i).to(.2,{opacity:0}).call((function(){t.bgNode&&(t.bgNode.active=!1)})).start(),f(this.uiNode).to(.2,{position:new m(0,-1500,0)}).call((function(){t.uiNode&&(t.uiNode.active=!1)})).start()},s.Verification=function(){var e=o(a().mark((function e(){var t,i,n,r,o,s,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isProcessing){e.next=2;break}return e.abrupt("return");case 2:if(this.isProcessing=!0,this.sendOtpButton&&(this.sendOtpButton.interactable=!1),this.closeClick&&(this.closeClick.interactable=!1),e.prev=5,r=(null==(t=this.countryCode)||null==(t=t.string)?void 0:t.trim())||"",o=(null==(i=this.phoneNumber)||null==(i=i.string)?void 0:i.trim())||"",s=(null==(n=this.email_EditBox)||null==(n=n.string)?void 0:n.trim())||"",l=this.createOtpRequest(r,o,s)){e.next=14;break}return this.getLoginAlertMessage(r,o,s),this.resetButtonState(),e.abrupt("return");case 14:return e.next=16,this.sendOTPForVarifiy(l);case 16:e.sent,e.next=23;break;case 19:e.prev=19,e.t0=e.catch(5),console.error("Verification error:",e.t0),this.resetButtonState();case 23:return e.prev=23,this.isProcessing=!1,e.finish(23);case 26:case"end":return e.stop()}}),e,this,[[5,19,23,26]])})));return function(){return e.apply(this,arguments)}}(),s.resetButtonState=function(){this.sendOtpButton&&(this.sendOtpButton.interactable=!0),this.closeClick&&(this.closeClick.interactable=!0)},s.sendOTPForVarifiy=function(){var e=o(a().mark((function e(t){var i,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.email||t.mobile_no){e.next=4;break}return console.warn("Missing email or mobile number for OTP request"),e.abrupt("return",!1);case 4:return e.next=6,v.request(R.SEND_OTP_FOR_SHIPPING,O.POST,t);case 6:i=e.sent,this.otpResponse=i;try{n=t.email||t.mobile_no||"",this.reward_OTP_Vrf&&this.reward_OTP_Vrf.init(n,this.isOTPvrf.bind(this))}catch(e){console.warn("Failed to init reward_OTP_Vrf:",e)}if(null==i||!i.success){e.next=14;break}return console.log("OTP Sent Successfully:",i.message),e.abrupt("return",!0);case 14:return console.error("OTP Send Failed:",(null==i?void 0:i.message)||"Unknown error"),e.abrupt("return",!1);case 16:e.next=25;break;case 18:return e.prev=18,e.t0=e.catch(0),this.isProcessing=!1,this.sendOtpButton&&(this.sendOtpButton.interactable=!0),this.closeClick&&(this.closeClick.interactable=!0),console.error("OTP Request Error:",e.t0),e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(t){return e.apply(this,arguments)}}(),s.isOTPvrf=function(e){var t={user_Id:y.loginDataResponse.data.id,otpRequestId:this.otpResponse.data.otpRequestId||"",otp:e,notVerified:this.otpResponse.data.sentTo,hostname:_.hostname};"email"===this.otpResponse.data.sentTo?t.email=this.otpResponse.data.identifier:t.phone_number=this.otpResponse.data.identifier,this.shippingAddress(t)},s.shippingAddress=function(){var e=o(a().mark((function e(t){var i,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=4;break}return g.getDispatcher().emit(P.ERROR_MSG_NOTIFY,"Shipping data is required."),e.abrupt("return");case 4:return e.next=6,v.request(R.SHIPPING_INFO_emai_vrf,O.POST,t,!0);case 6:i=e.sent,t.phone_number&&(y.loginDataResponse.data.is_mobile_verified=!0,y.loginDataResponse.data&&(y.loginDataResponse.data.mobile_no=""+t.phone_number||(null==(n=y.loginDataResponse)||null==(n=n.data)?void 0:n.mobile_no))),t.email&&(y.loginDataResponse.data.is_email_verified=!0,y.loginDataResponse.data&&(y.loginDataResponse.data.email=""+t.email||(null==(r=y.loginDataResponse)||null==(r=r.data)?void 0:r.email))),this.is_Verification?(g.getDispatcher().emit(P.COMPLETE_VERIFICATION_FOR_REWARD,!0),this.reward_OTP_Vrf&&this.reward_OTP_Vrf.showPopup(!1),this.hideBuyXPPanel()):y.loginDataResponse.data.is_mobile_verified&&y.loginDataResponse.data.is_email_verified?(this.reward_OTP_Vrf&&this.reward_OTP_Vrf.showPopup(!1),g.getDispatcher().emit(P.COMPLETE_EMAIL_VERIFICATION),this.hideBuyXPPanel()):(this.reward_OTP_Vrf&&this.reward_OTP_Vrf.showPopup(!1),this.init()),console.log("Shipping Info Submitted:",i),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Shipping API error:",e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),s.getLoginAlertMessage=function(e,t,i){return i&&""!==i.trim()?this.isValidEmail(i)?void 0:void g.getDispatcher().emit(P.ERROR_MSG_NOTIFY,"Invalid Email."):t&&""!==t.trim()?this.isValidPhoneNumber(t)?e&&""!==e.trim()?void 0:void g.getDispatcher().emit(P.ERROR_MSG_NOTIFY,"Invalid country code format."):void g.getDispatcher().emit(P.ERROR_MSG_NOTIFY,"Please enter a valid phone number."):void g.getDispatcher().emit(P.ERROR_MSG_NOTIFY,"Phone Number OR Email required!")},s.createOtpRequest=function(e,t,i){return e&&t&&this.isValidPhoneNumber(t)?{mobile_no:""+e+t}:i&&this.isValidEmail(i)?{email:i}:null},s.setZoom=function(e){f(e).to(.2,{scale:new m(1.2,1.2,1.2)}).to(.1,{scale:new m(1,1,1)}).start()},s.setZoomOut=function(e){f(e).to(.2,{scale:m.ZERO}).destroySelf().start()},s.showError=function(e){g.getDispatcher().emit(P.ERROR_MSG_NOTIFY,e||"")},s.isValidPhoneNumber=function(e){return!!e&&/^\d{10}$/.test(e)},s.isValidEmail=function(e){if(!e||0===e.trim().length)return!1;e=e.trim();return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},t}(b)).prototype,"bgNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(G.prototype,"uiNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(G.prototype,"countryCode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(G.prototype,"title",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(G.prototype,"phoneNumber",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(G.prototype,"email_EditBox",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(G.prototype,"sendOtpButton",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(G.prototype,"emailBox",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(G.prototype,"phoneBox",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(G.prototype,"countryCodeBox",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(G.prototype,"closeClick",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(G.prototype,"reward_OTP_Vrf",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=G))||A));s._RF.pop()}}}));

System.register("chunks:///_virtual/HowToPlayPanelManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,n,o,a,r,s,l,h,c,u,b,d,p,m,y,v;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Node,l=t.RichText,h=t.ScrollView,c=t.VideoPlayer,u=t.Button,b=t.Slider,d=t.Label,p=t.UIOpacity,m=t.tween,y=t.Vec3,v=t.Component}],execute:function(){var f,P,g,S,_,V,w,R,N,T,k,z,M,E,L,F,B,H,A,x,O,C,D,U,I,j,Q,Y,q;a._RF.push({},"22193xSThNLQYsS/kdF8U3D","HowToPlayPanelManager",void 0);var G=r.ccclass,J=r.property;t("HowToPlayPanelManager",(f=G("HowToPlayPanelManager"),P=J(s),g=J(s),S=J(l),_=J(h),V=J(c),w=J(u),R=J(u),N=J(u),T=J(u),k=J(u),z=J(u),M=J(b),E=J(d),f((B=i((F=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return i=t.call.apply(t,[this].concat(a))||this,n(i,"mainPanel",B,o(i)),n(i,"bgNode",H,o(i)),n(i,"richText",A,o(i)),n(i,"bidScroll",x,o(i)),n(i,"video",O,o(i)),n(i,"btnPlay",C,o(i)),n(i,"btnPause",D,o(i)),n(i,"btnStop",U,o(i)),n(i,"btnReplay",I,o(i)),n(i,"btnForward10",j,o(i)),n(i,"btnBack10",Q,o(i)),n(i,"scrubber",Y,o(i)),n(i,"timeLabel",q,o(i)),i._isScrubbing=!1,i._htmlVideo=null,i.isAnimating=!1,i.isOpen=!1,i._onHtmlVideoEndedBound=function(){return i.onHtmlVideoEnded()}.bind(o(i)),i}e(i,t);var a=i.prototype;return a.init=function(){if(this.isAnimating||this.isOpen)this.out();else{this.isOpen=!0,this.mainPanel.active=!1,this.bgNode.active=!1;var t=this.bgNode.getComponent(p);t&&(t.opacity=0),this.inPopUp()}},a.start=function(){var t=this;this.btnPlay&&this.btnPlay.node.on("click",this.onPlay,this),this.btnPause&&this.btnPause.node.on("click",this.onPause,this),this.btnStop&&this.btnStop.node.on("click",this.onStop,this),this.btnReplay&&this.btnReplay.node.on("click",this.onReplay,this),this.btnForward10&&this.btnForward10.node.on("click",(function(){return t.seekBy(10)}),this),this.btnBack10&&this.btnBack10.node.on("click",(function(){return t.seekBy(-10)}),this),this.scrubber&&(this.scrubber.node.on("slide",this.onScrubMove,this),this.scrubber.node.on("touchstart",this.onScrubStart,this),this.scrubber.node.on("touchend",this.onScrubEnd,this),this.scrubber.node.on("touchcancel",this.onScrubEnd,this)),this.btnPlay&&this.btnPause&&(this.btnPlay.node.active=!0,this.btnPause.node.active=!1)},a.inPopUp=function(){var t=this;if(this.bgNode.active=!0,!this.isAnimating&&this.mainPanel&&this.bgNode&&this.bidScroll){this.isAnimating=!0,this._htmlVideo=this.video.video||this.video._video||this.video._impl||null,this.attachHtmlVideoEvents();try{this.video.pause()}catch(t){}this.mainPanel.active=!0,this.bidScroll.scrollToTop(.1);var i=this.bgNode.getComponent(p);i&&(i.opacity=0,m(i).to(.3,{opacity:180}).start()),m(this.mainPanel).to(.3,{position:new y(0,0,0)}).call((function(){t.video.node.active=!0,t.isAnimating=!1})).start()}},a.onScrubStart=function(){this._isScrubbing=!0},a.onScrubEnd=function(){if(this._isScrubbing=!1,this.scrubber&&this._htmlVideo){var t=this.scrubber.progress||0,i=this._htmlVideo.duration||0;if(Number.isFinite(i)&&i>0)try{this._htmlVideo.currentTime=t*i}catch(t){}}},a.onScrubMove=function(){if(this.scrubber&&this.timeLabel){var t=this.scrubber.progress||0;if(this._htmlVideo){var i=this._htmlVideo.duration||0,e=Number.isFinite(i)&&i>0?t*i:0,n=Math.floor(e/60).toString().padStart(2,"0"),o=Math.floor(e%60).toString().padStart(2,"0"),a=Number.isFinite(i)&&i>0?Math.floor(i/60).toString().padStart(2,"0")+":"+Math.floor(i%60).toString().padStart(2,"0"):"00:00";this.timeLabel.string=n+":"+o+" / "+a}}},a.onPlay=function(){try{this.video.play()}catch(t){}this.btnPlay&&this.btnPause&&(this.btnPlay.node.active=!1,this.btnPause.node.active=!0),this.btnReplay&&(this.btnReplay.node.active=!1)},a.onPause=function(){try{this.video.pause()}catch(t){}this.btnPlay&&this.btnPause&&(this.btnPlay.node.active=!0,this.btnPause.node.active=!1),this.btnReplay&&(this.btnReplay.node.active=!1)},a.onStop=function(){try{this.video.stop(),this.btnPlay&&this.btnPause&&(this.btnPlay.node.active=!0,this.btnPause.node.active=!1),this.btnReplay&&(this.btnReplay.node.active=!1)}catch(t){try{this._htmlVideo&&(this._htmlVideo.pause(),this._htmlVideo.currentTime=0)}catch(t){}}},a.onReplay=function(){try{this._htmlVideo&&(this._htmlVideo.currentTime=0)}catch(t){}try{this.video.play()}catch(t){}this.btnPlay&&this.btnPause&&(this.btnPlay.node.active=!1,this.btnPause.node.active=!0),this.btnReplay&&(this.btnReplay.node.active=!1)},a.seekBy=function(t){if(this._htmlVideo)try{var i=this._htmlVideo.duration||0,e=(this._htmlVideo.currentTime||0)+t;e<0&&(e=0),i&&e>i&&(e=i),this._htmlVideo.currentTime=e}catch(t){}},a.out=function(){var t=this;if(this.mainPanel&&this.bgNode){try{this._htmlVideo&&this._htmlVideo.removeEventListener&&this._htmlVideo.removeEventListener("ended",this._onHtmlVideoEndedBound)}catch(t){}var i=this.bgNode.getComponent(p);i&&m(i).to(.3,{opacity:0}).call((function(){t.bgNode.active=!1})).start(),this.video.node.active=!1,m(this.mainPanel).to(.3,{position:new y(0,-2e3,0)}).call((function(){t.btnPlay&&t.btnPause&&(t.btnPlay.node.active=!0,t.btnPause.node.active=!1),t.video.node.active=!1,t.mainPanel.active=!1,t.isAnimating=!1,t.isOpen=!1})).start()}},a.attachHtmlVideoEvents=function(){if(this._htmlVideo)try{this._htmlVideo.addEventListener&&this._htmlVideo.addEventListener("ended",this._onHtmlVideoEndedBound)}catch(t){}},a.onHtmlVideoEnded=function(){this.btnPlay&&(this.btnPlay.node.active=!1),this.btnPause&&(this.btnPause.node.active=!1),this.btnStop&&(this.btnStop.node.active=!1),this.btnReplay&&(this.btnReplay.node.active=!0),this.scrubber&&(this.scrubber.progress=1)},a.update=function(){if(this.video&&this._htmlVideo)try{var t=this._htmlVideo.duration||0,i=this._htmlVideo.currentTime||0;if(!this._isScrubbing&&this.scrubber&&Number.isFinite(t)&&t>0&&(this.scrubber.progress=Math.min(1,Math.max(0,i/t))),this.timeLabel){var e=function(t){return Math.floor(t/60).toString().padStart(2,"0")+":"+Math.floor(t%60).toString().padStart(2,"0")},n=Number.isFinite(i)?e(i):"00:00",o=Number.isFinite(t)&&t>0?e(t):"00:00";this.timeLabel.string=n+" / "+o}}catch(t){}},i}(v)).prototype,"mainPanel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(F.prototype,"bgNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(F.prototype,"richText",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(F.prototype,"bidScroll",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(F.prototype,"video",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(F.prototype,"btnPlay",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(F.prototype,"btnPause",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(F.prototype,"btnStop",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(F.prototype,"btnReplay",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(F.prototype,"btnForward10",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=i(F.prototype,"btnBack10",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(F.prototype,"scrubber",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(F.prototype,"timeLabel",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=F))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/IndexedDBManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,n,t,o;return{setters:[function(r){e=r.createClass,n=r.asyncToGenerator,t=r.regeneratorRuntime},function(r){o=r.cclegacy}],execute:function(){o._RF.push({},"addf1B+oFhI0qRooyQlQYp0","IndexedDBManager",void 0),r("IndexedDBManager",function(){function r(){this.db=null,this.DB_NAME="BigDealDatabase",this.STORE_NAME="KeyValueStore",this.DB_VERSION=1}var o=r.prototype;return o.open=function(){var r=n(t().mark((function r(){var e=this;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r,n){var t=indexedDB.open(e.DB_NAME,e.DB_VERSION);t.onupgradeneeded=function(){var r=t.result;r.objectStoreNames.contains(e.STORE_NAME)||r.createObjectStore(e.STORE_NAME)},t.onsuccess=function(){e.db=t.result,r()},t.onerror=function(){console.error("IndexedDB open error:",t.error),n(t.error)}})));case 1:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),o.setItem=function(){var r=n(t().mark((function r(e,n){var o=this;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.db){r.next=3;break}return r.next=3,this.open();case 3:return r.abrupt("return",new Promise((function(r,t){var u=o.db.transaction(o.STORE_NAME,"readwrite").objectStore(o.STORE_NAME).put(n,e);u.onsuccess=function(){return r()},u.onerror=function(){return t(u.error)}})));case 4:case"end":return r.stop()}}),r,this)})));return function(e,n){return r.apply(this,arguments)}}(),o.getItem=function(){var r=n(t().mark((function r(e){var n=this;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.db){r.next=3;break}return r.next=3,this.open();case 3:if(e){r.next=6;break}return console.error("No key provided for getItem"),r.abrupt("return");case 6:return r.abrupt("return",new Promise((function(r,t){var o=n.db.transaction(n.STORE_NAME,"readonly").objectStore(n.STORE_NAME).get(e);o.onsuccess=function(){var e;return r(null!=(e=o.result)?e:null)},o.onerror=function(){return t(o.error)}})));case 7:case"end":return r.stop()}}),r,this)})));return function(e){return r.apply(this,arguments)}}(),o.deleteItem=function(){var r=n(t().mark((function r(e){var n=this;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.db){r.next=3;break}return r.next=3,this.open();case 3:return r.abrupt("return",new Promise((function(r,t){var o=n.db.transaction(n.STORE_NAME,"readwrite").objectStore(n.STORE_NAME).delete(e);o.onsuccess=function(){return r()},o.onerror=function(){return t(o.error)}})));case 4:case"end":return r.stop()}}),r,this)})));return function(e){return r.apply(this,arguments)}}(),o.clear=function(){var r=n(t().mark((function r(){var e=this;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.db){r.next=3;break}return r.next=3,this.open();case 3:return r.abrupt("return",new Promise((function(r,n){var t=e.db.transaction(e.STORE_NAME,"readwrite").objectStore(e.STORE_NAME).clear();t.onsuccess=function(){return r()},t.onerror=function(){return n(t.error)}})));case 4:case"end":return r.stop()}}),r,this)})));return function(){return r.apply(this,arguments)}}(),e(r,null,[{key:"inst",get:function(){return this._inst||(this._inst=new r),this._inst}}]),r}())._inst=void 0,o._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(n){var e,t,a,r,u,i;return{setters:[function(n){e=n.createClass,t=n.asyncToGenerator,a=n.regeneratorRuntime},function(n){r=n.cclegacy,u=n.resources},function(n){i=n.default}],execute:function(){r._RF.push({},"f7299u2e8RJgprJTvDpQOwH","LanguageManager",void 0),n("LanguageManager",function(){function n(){this.languageData={},this.currentLanguage="en"}var r=n.prototype;return r.init=function(){var n=t(a().mark((function n(e){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.currentLanguage=e||localStorage.getItem("language")||"en",n.next=3,this.loadLanguage(this.currentLanguage);case 3:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}(),r.loadLanguage=function(){var n=t(a().mark((function n(e){var t=this;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,a){u.load("i18n/"+e,(function(r,u){r?(console.error("Language file load error: "+r),a(r)):(t.languageData=u.json,t.currentLanguage=e,localStorage.setItem("language",e),console.log("this.languageData",t.languageData),t.setLanguage(e),n())}))})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),r.setLanguage=function(){var n=t(a().mark((function n(e){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e==this.currentLanguage){n.next=3;break}return n.next=3,this.loadLanguage(e);case 3:i.getDispatcher().emit("language-changed");case 4:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}(),r.tWithVars=function(n,e){var t=this.languageData[n]||n;for(var a in e)t=t.replace("{{"+a+"}}",String(e[a]));return t},r.t=function(n,e){var t=this.languageData[n]||n;return e?t.replace(/\{\{(.*?)\}\}/g,(function(n,t){var a;return(null==(a=e[t.trim()])?void 0:a.toString())||""})):t},r.getLanguage=function(){return this.currentLanguage},e(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}())._instance=void 0,r._RF.pop()}}}));

System.register("chunks:///_virtual/LeaderboardItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,t,l,i,o,n,s,a,u,b,f,c;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,l=r.initializerDefineProperty,i=r.assertThisInitialized},function(r){o=r.cclegacy,n=r._decorator,s=r.Sprite,a=r.SpriteFrame,u=r.Label,b=r.Color,f=r.color,c=r.Component}],execute:function(){var h,R,p,g,d,_,N,E,y,L,B,A,m,S,Y,U,k,C,I,z,w;o._RF.push({},"df6aaG4vgJA04acrWAWlhvm","LeaderboardItem",void 0);var O=r("LeaderboardBGType",function(r){return r[r.RANK_1=0]="RANK_1",r[r.RANK_2=1]="RANK_2",r[r.RANK_3=2]="RANK_3",r[r.NORMAL=3]="NORMAL",r[r.CURRENT_USER=4]="CURRENT_USER",r}({})),v=n.ccclass,G=n.property;r("LeaderboardItem",(h=v("LeaderboardItem"),R=G(s),p=G([a]),g=G(u),d=G(u),_=G(u),N=G(u),E=G(u),y=G(u),L=G(u),h((m=e((A=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return e=r.call.apply(r,[this].concat(o))||this,l(e,"bgSprite",m,i(e)),l(e,"bgFrames",S,i(e)),l(e,"lblRank",Y,i(e)),l(e,"lblUserId",U,i(e)),l(e,"lblPoints",k,i(e)),l(e,"lblReferrals",C,i(e)),l(e,"lblBought",I,i(e)),l(e,"spent_Bids",z,i(e)),l(e,"Referred_Buys",w,i(e)),e}return t(e,r),e.prototype.setData=function(r,e){this.lblRank.string=r.rank.toString(),this.lblUserId.string=r.user_id,this.lblPoints.string=r.points.toString(),this.lblReferrals.string=r.total_referrals.toString(),this.lblBought.string=r.bought.toString(),this.Referred_Buys.string=r.referred_users_bought.toString(),this.spent_Bids.string=r.spent_on_bid.toString();var t=O.NORMAL;e?(t=O.CURRENT_USER,this.lblRank.color=b.CYAN,this.lblUserId.color=b.CYAN,this.lblPoints.color=b.CYAN,this.lblReferrals.color=b.CYAN,this.lblBought.color=b.CYAN,this.Referred_Buys.color=b.CYAN,this.spent_Bids.color=b.CYAN):1===r.rank?(t=O.RANK_1,this.lblRank.color=b.GREEN,this.lblUserId.color=b.GREEN,this.lblPoints.color=b.GREEN,this.lblReferrals.color=b.GREEN,this.lblBought.color=b.GREEN,this.Referred_Buys.color=b.GREEN,this.spent_Bids.color=b.GREEN):2===r.rank?(t=O.RANK_2,this.lblRank.color=f("#ff8000ff"),this.lblUserId.color=f("#ff8000ff"),this.lblPoints.color=f("#ff8000ff"),this.lblReferrals.color=f("#ff8000ff"),this.lblBought.color=f("#ff8000ff"),this.Referred_Buys.color=f("#ff8000ff"),this.spent_Bids.color=f("#ff8000ff")):3===r.rank&&(t=O.RANK_3,this.lblRank.color=b.YELLOW,this.lblUserId.color=b.YELLOW,this.lblPoints.color=b.YELLOW,this.lblReferrals.color=b.YELLOW,this.lblBought.color=b.YELLOW,this.Referred_Buys.color=b.YELLOW,this.spent_Bids.color=b.YELLOW),this.bgSprite.spriteFrame=this.bgFrames[t]},e}(c)).prototype,"bgSprite",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(A.prototype,"bgFrames",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=e(A.prototype,"lblRank",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(A.prototype,"lblUserId",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(A.prototype,"lblPoints",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(A.prototype,"lblReferrals",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(A.prototype,"lblBought",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(A.prototype,"spent_Bids",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(A.prototype,"Referred_Buys",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=A))||B));o._RF.pop()}}}));

System.register("chunks:///_virtual/LeaderboardManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LeaderboardItem.ts","./BigDealGameModel.ts","./APIManager.ts"],(function(e){var t,n,i,r,a,o,l,u,s,c,p,d,g,h,b,f,v,P,y,m,w,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){l=e.cclegacy,u=e._decorator,s=e.Node,c=e.Prefab,p=e.Label,d=e.ScrollView,g=e.instantiate,h=e.UIOpacity,b=e.Widget,f=e.tween,v=e.Vec3,P=e.Component},function(e){y=e.LeaderboardItem},function(e){m=e.BigDealGameModel},function(e){w=e.APIManager,N=e.MethodType}],execute:function(){var L,z,D,M,B,C,I,k,x,S,V,U,A,E,T,F,G,R,_,j,q,H,O,W,J,K,Q,X,Y;l._RF.push({},"7c3e85hrupEm59msVPUzliD","LeaderboardManager",void 0);var Z=u.ccclass,$=u.property;e("LeaderboardManager",(L=Z("LeaderboardManager"),z=$(s),D=$(s),M=$(c),B=$(s),C=$(s),I=$(s),k=$(p),x=$(s),S=$(d),V=$(y),U=$(s),A=$(s),E=$(s),L((G=t((F=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"popupBg",G,r(t)),i(t,"UiNode",R,r(t)),i(t,"itemPrefab",_,r(t)),i(t,"contentNode",j,r(t)),i(t,"btnPrev",q,r(t)),i(t,"btnNext",H,r(t)),i(t,"lblPage",O,r(t)),i(t,"headingNode",W,r(t)),i(t,"scrollView",J,r(t)),i(t,"userData",K,r(t)),i(t,"rankMessage",Q,r(t)),i(t,"loading",X,r(t)),i(t,"notFound",Y,r(t)),t.currentPage=0,t.totalPage=1,t.playerId="",t}n(t,e);var l=t.prototype;return l.onLoad=function(){this.scrollView.node.on("scrolling",this.onScrolling,this)},l.onScrolling=function(){var e=this.scrollView.content.position.x;this.headingNode.setPosition(e,this.headingNode.position.y,0)},l.start=function(){},l.init=function(){var e;this.currentPage=0,this.totalPage=1,this.loading.active=!0,this.contentNode.removeAllChildren(),this.playerId=(null==(e=m.loginDataResponse)||null==(e=e.data)?void 0:e.id)||localStorage.getItem("userId"),this.scrollView.scrollToTopLeft(),this.loadLeaderboard(),this.showPopup(this.UiNode),this.onScrolling()},l.loadLeaderboard=function(){var e=a(o().mark((function e(){var t,n,i,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="v1/user/leaderboard/"+this.playerId+"?page="+this.currentPage+"&limit=10",e.next=3,w.request(t,N.GET,null,!0);case 3:if(null!=(n=e.sent)&&n.success){e.next=6;break}return e.abrupt("return");case 6:i=n.data.leaderboard,this.totalPage=n.metadata.totalPage,r=n.data.playerEntry,this.loading.active=!1,this.setPlayerEntry(r),this.renderList(i),this.updateButtons(),this.onScrolling();case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.renderList=function(e){var t=this;this.contentNode.removeAllChildren(),this.notFound.active=0===e.length,e.forEach((function(e){var n=g(t.itemPrefab),i=n.getComponent(y),r=e.id===t.playerId;i.setData(e,r),t.contentNode.addChild(n)})),this.lblPage.string=this.currentPage+1+" / "+this.totalPage},l.setPlayerEntry=function(e){if(this.userData){this.userData.setData(e,!0),e.rank<=0?(this.userData.node.active=!1,this.rankMessage.active=!0):(this.userData.node.active=!0,this.rankMessage.active=!1)}},l.updateButtons=function(){this.btnPrev.active=this.currentPage>0,this.btnNext.active=this.currentPage<this.totalPage-1},l.onPrev=function(){this.currentPage<=0||(this.currentPage--,this.loading.active=!0,this.loadLeaderboard())},l.onNext=function(){this.currentPage>=this.totalPage-1||(this.currentPage++,this.loading.active=!0,this.loadLeaderboard())},l.showPopup=function(e){var t;this.popupBg.active=!0;var n=this.popupBg.getComponent(h);null==(t=this.UiNode.getComponent(b))||t.updateAlignment(),n.opacity=0,f(n).to(.3,{opacity:255}).start(),e.active=!0,e.setScale(new v(1,1,1)),e.setPosition(new v(2e3,0,0)),f(e).to(.3,{position:new v(0,0,0)},{easing:"linear"}).start()},l.onClickCloseButton=function(){this.closePopup(this.UiNode)},l.closePopup=function(e){var t=this;f(e).to(.3,{position:new v(-2e3,0,0)},{easing:"linear",onComplete:function(){e.active=!1}}).start();var n=this.popupBg.getComponent(h);f(n).to(.3,{opacity:0},{onComplete:function(){t.popupBg.active=!1}}).start()},t}(P)).prototype,"popupBg",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(F.prototype,"UiNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(F.prototype,"itemPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(F.prototype,"contentNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(F.prototype,"btnPrev",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(F.prototype,"btnNext",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(F.prototype,"lblPage",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(F.prototype,"headingNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(F.prototype,"scrollView",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(F.prototype,"userData",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(F.prototype,"rankMessage",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(F.prototype,"loading",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(F.prototype,"notFound",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=F))||T));l._RF.pop()}}}));

System.register("chunks:///_virtual/loadingFram.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./BigDealEvents.ts"],(function(e){var n,t,o,i,r,a,l,d,s,c,u,p,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Sprite,d=e.Node,s=e.Label,c=e.color,u=e.Component},function(e){p=e.default},function(e){g=e.BigDealEvents}],execute:function(){var m,h,w,f,y,v,B,E,b,L,I,F,_,D,O,R;e("showApiError",(function(e){var n="Something went wrong. Please try again.";null!=e&&e.message?n=e.message:"string"==typeof e?n=e:null!=e&&e.code&&(n="Error Code "+e.code);console.error("âŒ ERROR: "+n),p.getDispatcher().emit(g.ERROR_MSG_NOTIFY,n)})),r._RF.push({},"9dd8f/jsZdD9qHcHwRLmmSf","loadingFram",void 0);var S=a.ccclass,A=a.property;e("loadingFram",(m=S("loadingFram"),h=A(l),w=A(l),f=A(d),y=A(d),v=A(d),B=A(s),m((L=n((b=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,o(n,"loading",L,i(n)),o(n,"BG",I,i(n)),o(n,"logo",F,i(n)),o(n,"BlockBg",_,i(n)),o(n,"newLoading",D,i(n)),o(n,"amount",O,i(n)),o(n,"speed",R,i(n)),n.isAnimationComplete=!1,n.ispreloadCalled=!1,n}t(n,e);var r=n.prototype;return r.__preload=function(){var e;this.ispreloadCalled=!0,console.warn("loadingFram: __preload called"),window.parent.document.getElementById("progressBarContainer")||"none"!=(null==(e=window.parent.document.getElementById("progressBarContainer"))||null==(e=e.style)?void 0:e.display)||this.hideAllElements()},r.hideAllElements=function(){var e;window.parent.document.getElementById("gameFrame")&&(window.parent.document.getElementById("gameFrame").style.opacity="1"),console.warn("Removing splash screen elements"),setTimeout((function(){window.parent.document.getElementById("splashScreen")&&(window.parent.document.getElementById("splashScreen").style.display="none"),window.parent.document.getElementById("gameFrame2")&&(window.parent.document.getElementById("gameFrame2").style.display="none"),window.parent.document.getElementById("PoweredByText")&&(window.parent.document.getElementById("PoweredByText").style.display="none"),window.parent.document.getElementById("video")&&(window.parent.document.getElementById("video").style.display="none")}),200);var n=null==(e=window.parent)?void 0:e.document;if(n){var t=["splashScreen","gameFrame2","PoweredByText","video"];setTimeout((function(){t.forEach((function(e){var t=n.getElementById(e);t&&(t.remove(),console.log("Removed: "+e))}))}),202)}},r.onLoad=function(){this.schedule(this.loader,.02),p.getDispatcher().on(g.IS_LOADER_ON,this.isLoderOn,this),p.getDispatcher().on(g.IS_LOADER_OFF,this.isLoderOff,this)},r.onDestroy=function(){p.getDispatcher().off(g.IS_LOADER_ON,this.isLoderOn,this),p.getDispatcher().off(g.IS_LOADER_OFF,this.isLoderOff,this)},r.loader=function(e){this.loading.node.angle=(this.loading.node.angle-this.speed)%360},r.isLoderOn=function(e,n){if(void 0===e&&(e=!0),void 0===n&&(n=0),n>0)return this.amount.string="Ampunt payable : "+n,void(this.newLoading.active=!0);e?(this.BG.color=c(0,0,0,150),this.logo.active=!1):this.BG.color=c(255,255,255,255),window.parent.dispatchEvent(new Event("showLoader")),this.BlockBg.active=!0,this.schedule(this.loader,.02)},r.isLoderOff=function(){this.unschedule(this.loader),this.BlockBg.active=!1,this.newLoading&&(this.newLoading.active=!1),window.parent.dispatchEvent(new Event("hideLoader"))},r.loadingStop=function(){this.node.removeFromParent()},r.loadingDestroy=function(){this.node.destroy()},n}(u)).prototype,"loading",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(b.prototype,"BG",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(b.prototype,"logo",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(b.prototype,"BlockBg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(b.prototype,"newLoading",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(b.prototype,"amount",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(b.prototype,"speed",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7}}),E=b))||E));r._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageManager.ts","./EventManager.ts"],(function(e){var t,a,n,i,r,l,o,u,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,o=e.Label,u=e.Component},function(e){c=e.LanguageManager},function(e){s=e.default}],execute:function(){var g,p,h,f,d;r._RF.push({},"d919f8Zoh1CiqjugjhL18rp","LocalizedLabel",void 0);var y=l.ccclass,L=l.property;e("LocalizedLabel",(g=y("LocalizedLabel"),p=L({tooltip:"The key in language JSON"}),g((d=t((f=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,n(t,"languageKey",d,i(t)),t.label=null,t}a(t,e);var r=t.prototype;return r.start=function(){this.label=this.getComponent(o),this.updateText(),s.getDispatcher().on("language-changed",this.updateText,this)},r.onDestroy=function(){s.getDispatcher().off("language-changed",this.updateText,this)},r.updateText=function(){this.label&&this.languageKey&&(this.label.string=c.instance.t(this.languageKey))},t}(u)).prototype,"languageKey",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=f))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/LoginPopupManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoginScreen.ts","./BigDealGameModel.ts","./EventManager.ts"],(function(i){var t,e,n,o,s,p,a,l,c,u,h,r,g,P,f,d,m;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized,s=i.asyncToGenerator,p=i.regeneratorRuntime},function(i){a=i.cclegacy,l=i._decorator,c=i.Node,u=i.Vec3,h=i.Button,r=i.UIOpacity,g=i.tween,P=i.Component},function(i){f=i.LoginScreen},function(i){d=i.BigDealGameModel},function(i){m=i.default}],execute:function(){var w,b,L,W,v,C,N,O,y,k,B,E,U,S,I,z,T,D,M,_,x,R,A;a._RF.push({},"778aenarc1Bg7CfhDEq7nuy","LoginPopupManager",void 0);var F=l.ccclass,G=l.property;i("LoginPopupManager",(w=F("LoginPopupManager"),b=G(c),L=G(c),W=G(c),v=G(c),C=G(c),N=G(c),O=G(c),y=G(c),k=G(c),B=G(f),w((S=t((U=function(i){function t(){for(var t,e=arguments.length,s=new Array(e),p=0;p<e;p++)s[p]=arguments[p];return t=i.call.apply(i,[this].concat(s))||this,n(t,"loginWithEmailNode",S,o(t)),n(t,"loginWithWalletNode",I,o(t)),n(t,"loginWithWhatsappNode",z,o(t)),n(t,"buttonPanel",T,o(t)),n(t,"otpLoginPopup",D,o(t)),n(t,"emailLoginPopup",M,o(t)),n(t,"walletLoginPopup",_,o(t)),n(t,"sendOtp",x,o(t)),n(t,"popupBg",R,o(t)),n(t,"loginScreen",A,o(t)),t.isEmailOn=!1,t.isPhoneOn=!1,t.isPopUPon=!1,t.isclicked=!1,t.isButtonClicked=!1,t}e(t,i);var a=t.prototype;return a.onEnable=function(){m.getDispatcher().on("OPEN_OTP_PANEL",this.openOtpPanel,this)},a.onDisable=function(){m.getDispatcher().off("OPEN_OTP_PANEL",this.openOtpPanel,this)},a.init=function(){var i=s(p().mark((function i(){var t,e;return p().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.popupBg.active){i.next=2;break}return i.abrupt("return");case 2:this.popupBg.active=!0,this.popupBg.getComponent(r).opacity=0;try{(t=d.auctionConfigResponse)&&t.success&&this.applyLoginOptions(t)}catch(i){console.error("Error fetching auction house configs:",i)}this.otpLoginPopup.active=!1,this.emailLoginPopup.active=!1,this.walletLoginPopup.active=!1,this.sendOtp.active=!1,this.popupBg.active=!1,this.buttonPanel.active=!0,this.showPopupUiNode(this.buttonPanel,new u(0,-2e3,0)),this.showPopup(this.popupBg),this.loginScreen.init(),this.loginWithWhatsappNode.getComponent(h).interactable=!0,this.loginWithEmailNode.getComponent(h).interactable=!0,this.loginWithWalletNode.getComponent(h).interactable=!0,(e=d.auctionConfigResponse)&&e.success&&this.applyLoginOptions(e);case 20:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}(),a.applyLoginOptions=function(i){this.loginWithEmailNode.active=i.data.config.loginWithEmail,this.loginWithWalletNode.active=i.data.config.loginWithWallet,this.loginWithWhatsappNode.active=i.data.config.loginWithWhatsapp,1===Object.keys(i.data.config).filter((function(t){return i.data.config[t]})).length&&(this.isButtonClicked=!1,i.data.config.loginWithEmail?this.onClickLoginWithEmail():i.data.config.loginWithWallet?this.onClickLoginWithWallet():i.data.config.loginWithWhatsapp&&this.onClickLoginWithOTP())},a.backClick=function(){this.sendOtp.active?(this.sendOtp.active=!1,this.isEmailOn?this.emailLoginPopup.active=!0:this.isPhoneOn?this.otpLoginPopup.active=!0:this.walletLoginPopup.active=!1):(this.isEmailOn?this.isEmailOn=!1:this.isPhoneOn&&(this.isPhoneOn=!1),this.otpLoginPopup.active=!1,this.emailLoginPopup.active=!1,this.walletLoginPopup.active=!1,this.buttonPanel.active=!0),this.isButtonClicked=!1},a.onClickLoginWithOTP=function(){this.isButtonClicked||(this.isButtonClicked=!0,this.loginScreen.init(),this.loginScreen.LoginWith="phone",this.isPhoneOn=!0,this.showPopupUiNode(this.otpLoginPopup,new u(0,-2e3,0)),this.closePopupUINode(this.buttonPanel,new u(0,-2e3,0)),this.loginWithWhatsappNode.getComponent(h).interactable=!1)},a.onClickLoginWithEmail=function(){this.isButtonClicked||(this.isButtonClicked=!0,this.loginScreen.LoginWith="email",this.loginScreen.init(),this.isEmailOn=!0,this.loginWithEmailNode.getComponent(h).interactable=!1,this.showPopupUiNode(this.emailLoginPopup,new u(0,-2e3,0)),this.closePopupUINode(this.buttonPanel,new u(0,-2e3,0)))},a.onClickLoginWithWallet=function(){this.isButtonClicked||(this.isButtonClicked=!0,this.loginScreen.LoginWith="wallet",this.showPopupUiNode(this.walletLoginPopup,new u(0,-2e3,0)),this.closePopupUINode(this.buttonPanel,new u(0,-2e3,0)),this.loginWithWalletNode.getComponent(h).interactable=!1)},a.openOtpPanel=function(){var i=s(p().mark((function i(){return p().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.isclicked){i.next=2;break}return i.abrupt("return");case 2:return this.isclicked=!0,i.next=5,this.loginScreen.IsSendOTPClick();case 5:i.sent?(console.log("OTP login successful!"),this.emailLoginPopup.active&&this.closePopupUINode(this.emailLoginPopup,new u(-2e3,0,0)),this.otpLoginPopup.active&&this.closePopupUINode(this.otpLoginPopup,new u(-2e3,0,0)),this.showPopupUiNode(this.sendOtp,new u(2e3,0,0)),this.isclicked=!1,this.loginScreen.isOTPBox[0].setFocus()):(console.log("OTP login failed."),this.isclicked=!1);case 7:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}(),a.showPopup=function(i){var t=this;this.popupBg.active=!0;var e=this.popupBg.getComponent(r);e.opacity=0,g(e).to(.3,{opacity:255}).start(),i.active=!0,i.setScale(new u(1,1,1)),g(i).to(.3,{scale:new u(1,1,1)},{easing:"linear",onComplete:function(){t.isButtonClicked=!1}}).start()},a.onClose=function(){this.closePopup(this.popupBg),this.isEmailOn=!1},a.closePopup=function(i){var t=this;g(i).to(.2,{scale:new u(1,1,1)},{easing:"linear",onComplete:function(){i.active=!1}}).start(),g(this.popupBg.getComponent(r)).to(.3,{opacity:0},{onComplete:function(){t.popupBg.active=!1}}).start(),this.loginScreen.offAllEvent(),this.isButtonClicked=!1},a.outScreen1=function(){this.closePopupUINode(this.buttonPanel,new u(0,-2e3,0)),this.onClose()},a.outScreen2=function(){this.emailLoginPopup.active&&this.closePopupUINode(this.emailLoginPopup,new u(-2e3,0,0)),this.otpLoginPopup.active&&this.closePopupUINode(this.otpLoginPopup,new u(-2e3,0,0)),this.walletLoginPopup.active&&this.closePopupUINode(this.walletLoginPopup,new u(-2e3,0,0)),this.showPopupUiNode(this.buttonPanel,new u(0,-2e3,0)),this.loginWithWhatsappNode.getComponent(h).interactable=!0,this.loginWithEmailNode.getComponent(h).interactable=!0,this.loginWithWalletNode.getComponent(h).interactable=!0,this.isEmailOn=!1,this.isPhoneOn=!1},a.outScreen3=function(){this.closePopupUINode(this.sendOtp,new u(-2e3,0,0)),this.isEmailOn?this.showPopupUiNode(this.emailLoginPopup,new u(2e3,0,0)):this.isPhoneOn&&this.showPopupUiNode(this.otpLoginPopup,new u(2e3,0,0))},a.showPopupUiNode=function(i,t){var e=this;this.popupBg.active=!0,this.popupBg.getComponent(r).opacity=255,i.active=!0,i.setScale(new u(1,1,1)),i.setPosition(t),g(i).to(.3,{position:new u(0,0,0)},{easing:"linear",onComplete:function(){e.isButtonClicked=!1}}).start()},a.closePopupUINode=function(i,t){g(i).to(.3,{position:t},{easing:"linear",onComplete:function(){i.active=!1}}).start()},t}(P)).prototype,"loginWithEmailNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(U.prototype,"loginWithWalletNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(U.prototype,"loginWithWhatsappNode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(U.prototype,"buttonPanel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(U.prototype,"otpLoginPopup",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(U.prototype,"emailLoginPopup",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(U.prototype,"walletLoginPopup",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(U.prototype,"sendOtp",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(U.prototype,"popupBg",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(U.prototype,"loginScreen",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=U))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/LoginScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CustomPopUp.ts","./APIManager.ts","./ApiUrls.ts","./BigDealGameModel.ts","./TimerBase.ts","./BigDealEvents.ts","./BigDealSocketManager.ts","./CookieUtils.ts","./UpdateProfileKYC.ts","./IndexedDBManager.ts","./LanguageManager.ts","./EventManager.ts"],(function(t){var e,n,i,o,r,s,a,l,c,u,h,d,f,p,g,b,m,O,E,P,T,C,_,B,k,v,x,y,S,R,w,N,I,L,D,A,M,z,W,K;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,l=t._decorator,c=t.Label,u=t.EditBox,h=t.Prefab,d=t.Button,f=t.RichText,p=t.Node,g=t.KeyCode,b=t.input,m=t.Input,O=t.Color,E=t.instantiate,P=t.Vec3,T=t.tween,C=t.Component,_=t.director},function(t){B=t.CustomPopUp},function(t){k=t.APIManager,v=t.MethodType},function(t){x=t.API_URLS},function(t){y=t.BigDealGameModel},function(t){S=t.TimerBase},function(t){R=t.BigDealEvents,w=t.Edit_Box_Event,N=t.Edit_Box_Event_Name,I=t.CookieKey,L=t.StaticProperties},function(t){D=t.BigDealSocketManager},function(t){A=t.CookieUtils},function(t){M=t.UpdateProfileKYC},function(t){z=t.IndexedDBManager},function(t){W=t.LanguageManager},function(t){K=t.default}],execute:function(){var U,V,F,Y,Z,q,G,H,j,J,$,Q,X,tt,et,nt,it,ot,rt,st,at,lt,ct,ut,ht,dt,ft,pt,gt,bt,mt,Ot,Et;a._RF.push({},"0ead9OeTRND4JJ4kaREl/l5","LoginScreen",void 0);var Pt=l.ccclass,Tt=l.property,Ct=(t("LoginScreen",(U=Pt("LoginScreen"),V=Tt(c),F=Tt(u),Y=Tt(u),Z=Tt([u]),q=Tt(h),G=Tt(M),H=Tt(S),j=Tt(c),J=Tt(d),$=Tt(d),Q=Tt(f),X=Tt(d),tt=Tt(d),et=Tt(p),nt=Tt(d),U((rt=e((ot=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"countryCode",rt,o(e)),i(e,"phoneNumber",st,o(e)),i(e,"emailEditBox",at,o(e)),i(e,"isOTPBox",lt,o(e)),i(e,"customPopUp",ct,o(e)),i(e,"updateProfileKYC",ut,o(e)),i(e,"timerBase",ht,o(e)),i(e,"InvalidOTPMsg",dt,o(e)),i(e,"submitButton",ft,o(e)),i(e,"resendOTP",pt,o(e)),i(e,"codeSentWith",gt,o(e)),i(e,"send_Otp_On_Email",bt,o(e)),i(e,"send_Otp_On_Phone",mt,o(e)),i(e,"backClick",Ot,o(e)),i(e,"closeClick",Et,o(e)),e.isSendOtp=!1,e.isOtpClicked=!1,e.currentIndex=0,e.LoginWith="",e.onKeyDown=function(t){if(t.keyCode===g.ENTER||t.keyCode===g.NUM_ENTER)if(e.isSendOtp){if(e.isOtpClicked)return;var n={target:e.submitButton.node};e.onClickVerifyOTP(n,"enter")}else e.isOtpClicked||K.getDispatcher().emit("OPEN_OTP_PANEL")},e}n(e,t);var a=e.prototype;return a.start=function(){this.timerBase.node.on("TimerFinished",this.otpTimeUp,this)},a.offAllEvent=function(){var t,e,n,i=this;null==b||b.off(m.EventType.KEY_DOWN,this.onKeyDown,this),null==(t=this.isOTPBox)||t.forEach((function(t,e){var n,o,r,s;null==(n=t.node)||n.off("editing-did-began",(function(){return i.onEditBoxBegan(e)}),i),null==(o=t.node)||o.off("text-changed",(function(){return i.onTextChanged(e)}),i),null==(r=t.node)||r.off("editing-did-ended",i.onEditEnd,i),null==(s=t.node)||s.off("editing-return",(function(){return i.onEditBoxReturn(e)}),i)})),this.phoneNumber&&(null==(e=this.phoneNumber)||null==(e=e.node)||e.off("editing-return",this.onLoginReturn,this)),this.emailEditBox&&(null==(n=this.emailEditBox)||null==(n=n.node)||n.off("editing-return",this.onLoginReturn,this))},a.onDestroy=function(){b.off(m.EventType.KEY_DOWN,this.onKeyDown,this)},a.onEditBoxReturn=function(t){if(this.isSendOtp&&!this.isOtpClicked){var e={target:this.submitButton.node};this.onClickVerifyOTP(e,"enter")}},a.onLoginReturn=function(){this.isSendOtp||this.isOtpClicked||K.getDispatcher().emit("OPEN_OTP_PANEL")},a.init=function(){var t=this;this.phoneNumber.string="",this.emailEditBox.string="",this.isOTPBox.forEach((function(t){t.string="",t.getComponentInChildren(c).string=""})),this.timerBase.stopTimer(),this.submitButton.interactable=!0,this.isSendOtp=!1,this.send_Otp_On_Email.interactable=!0,this.send_Otp_On_Phone.interactable=!0,this.backClick.active=!1,this.closeClick.interactable=!0,this.isOTPBox.forEach((function(e,n){e.node.on("editing-did-began",(function(){return t.onEditBoxBegan(n)}),t),e.node.on("text-changed",(function(){return t.onTextChanged(n)}),t),e.node.on("editing-did-ended",t.onEditEnd,t),e.node.on("editing-return",(function(){return t.onEditBoxReturn(n)}),t)})),b.on(m.EventType.KEY_DOWN,this.onKeyDown,this),this.phoneNumber&&this.phoneNumber.node.on("editing-return",this.onLoginReturn,this),this.emailEditBox&&this.emailEditBox.node.on("editing-return",this.onLoginReturn,this)},a.resendOtp=function(){this.offResend(),this.isSendOtp=!1,this.IsSendOTPClick(),this.isOTPBox.forEach((function(t){return t.string=""})),this.resetOTPLabel()},a.IsSendOTPClick=function(){var t=r(s().mark((function t(){var e,n,i,o,r,a,l;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.submitButton.interactable=!1,this.send_Otp_On_Email.interactable=!1,this.send_Otp_On_Phone.interactable=!1,this.backClick.active=!0,this.closeClick.interactable=!1,e=this.countryCode.string,n=this.phoneNumber.string,i=this.emailEditBox.string,o=this.createOtpRequest(e,n,i)){t.next=17;break}return this.getLoginAlertMessage(e,n,i),this.submitButton.interactable=!0,this.send_Otp_On_Email.interactable=!0,this.send_Otp_On_Phone.interactable=!0,this.backClick.active=!1,this.closeClick.interactable=!0,t.abrupt("return",!1);case 17:return t.prev=17,r=W.instance.t("enter_code_sent_to"),a=o.email||o.mobile_no||"",this.codeSentWith.string="<color=#ffffff>"+r+" </color><color=#00FFA3>"+a+"</color>",this.offResend(),t.next=24,k.request(x.SEND_OTP,v.POST,o);case 24:return l=t.sent,y.loginOtpResponse=l,this.timerBase.stopTimer(),this.timerBase.initializeTime(60),this.backClick.active=!1,this.closeClick.interactable=!0,this.isSendOtp=!0,this.submitButton.interactable=!0,this.isOtpClicked=!1,this.send_Otp_On_Email.interactable=!0,this.send_Otp_On_Phone.interactable=!0,t.abrupt("return",!0);case 38:return t.prev=38,t.t0=t.catch(17),console.error("Send OTP Error:",t.t0),this.otpTimeUp(),this.submitButton.interactable=!0,this.send_Otp_On_Email.interactable=!0,this.send_Otp_On_Phone.interactable=!0,t.abrupt("return",!1);case 46:case"end":return t.stop()}}),t,this,[[17,38]])})));return function(){return t.apply(this,arguments)}}(),a.createOtpRequest=function(t,e,n){return t&&e&&this.isValidPhoneNumber(e)?{mobile_no:""+t+e}:n&&this.isValidEmail(n)?{email:n}:null},a.onClickVerifyOTP=function(){var t=r(s().mark((function t(e,n){var i,o,r,a,l,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isOtpClicked){t.next=2;break}return t.abrupt("return",!1);case 2:if(this.isOtpClicked=!0,o=e.target,(r=o.getComponent(d))&&(r.interactable=!1),this.backClick.active=!0,this.closeClick.interactable=!1,4===(a=this.getOTPCode()).length){t.next=16;break}return this.getOtpAlertMessage(a),this.isOtpClicked=!1,this.submitButton.interactable=!0,this.backClick.active=!1,this.closeClick.interactable=!0,t.abrupt("return",!1);case 16:return this.codeSentWith.node.getComponent(d).interactable=!1,l={hostname:L.hostname,otpRequestId:null==(i=y.loginOtpResponse)||null==(i=i.data)?void 0:i.otpRequestId,otp:a},t.prev=18,t.next=21,this.loginWithOTP(l);case 21:return c=t.sent,y.loginDataResponse=c,A.setCookie(I.ACCESS_TOKEN,c.data.accessToken,30),A.setCookie(I.USER_ID,c.data.id,30),localStorage.setItem(I.USER_ID,c.data.id),A.setCookie(I.REFRESH_TOKEN,c.data.refreshToken,30),localStorage.setItem("accessToken",c.data.accessToken),localStorage.setItem("refreshToken",c.data.refreshToken),z.inst.setItem(I.ACCESS_TOKEN,c.data.accessToken),z.inst.setItem(I.REFRESH_TOKEN,c.data.refreshToken),z.inst.setItem(I.USER_ID,c.data.id),this.offAllEvent(),this.isOTPBox.forEach((function(t){t.blur()})),c.data.is_verified&&localStorage.setItem("PlayerLoginObj",JSON.stringify(c)),t.next=37,this.getWalletBalance();case 37:return this.timerBase.stopTimer(),c.data.is_verified?(D&&D.clearInstance(),r&&(r.interactable=!0),_.loadScene("MultipleAuction")):(this.updateProfileKYC.onClick(),r&&(r.interactable=!0)),t.abrupt("return",!0);case 42:return t.prev=42,t.t0=t.catch(18),this.isOtpClicked=!1,this.submitButton.interactable=!0,this.backClick.active=!1,this.closeClick.interactable=!0,this.codeSentWith.node.getComponent(d).interactable=!0,console.error("Login or wallet fetch failed:",t.t0),t.abrupt("return",!1);case 51:return t.prev=51,this.isOtpClicked=!1,t.finish(51);case 54:case"end":return t.stop()}}),t,this,[[18,42,51,54]])})));return function(e,n){return t.apply(this,arguments)}}(),a.loginWithOTP=function(t){return new Promise(r(s().mark((function e(n,i){var o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.request(x.LOGIN,v.POST,t);case 3:o=e.sent,n(o),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))))},a.getWalletBalance=function(){var t=r(s().mark((function t(){var e,n,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null==(e=y.loginDataResponse)||null==(e=e.data)?void 0:e.id,t.prev=1,t.next=4,k.request(x.WALLET_BALANCE+n,v.GET,null,!0);case 4:i=t.sent,y.playerBalancesResponse=i,console.log("Wallet Balance:",i),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(1),console.error("Wallet Balance Error",t.t0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}(),a.otpTimeUp=function(){this.resendOTP.interactable=!0;var t=W.instance.t("didnt_receive_code"),e=W.instance.t("resend");this.resendOTP.node.getComponent(f).string="<color=#ffffff>"+t+" </color><color=#0000ff><u>"+e+"</u></color>"},a.offResend=function(){this.resendOTP.interactable=!1;var t=W.instance.t("didnt_receive_code"),e=W.instance.t("resend");this.resendOTP.node.getComponent(f).string="<color=#969696>"+t+" </color><color=#969696><u>"+e+"</u></color>"},a.iInvalidOTP=function(t){this.InvalidOTPMsg.string=t,this.showPopup("ALERT!!",t),this.isOTPBox.forEach((function(t){t.node.getComponentInChildren(c).color=O.RED}))},a.resetOTPLabel=function(){this.InvalidOTPMsg.string="",this.isOTPBox.forEach((function(t){t.node.getComponentInChildren(c).color=O.WHITE}))},a.getOtpAlertMessage=function(t){var e="Something went wrong.";t?4!==t.length&&(e="OTP must be 4 digits."):e="OTP cannot be empty.",this.showPopup("ALERT!!",e)},a.getLoginAlertMessage=function(t,e,n){var i="Something went wrong.";"email"==this.LoginWith?n&&""!==n.trim()?this.isValidEmail(n)||(i="Please enter a valid email address."):i="Please enter your email address.":"phone"==this.LoginWith&&(e&&""!==e.trim()?this.isValidPhoneNumber(e)||(i="Please enter a valid phone number."):i="Please enter your phone number."),K.getDispatcher().emit(R.ERROR_MSG_NOTIFY,i||"Please try again, something went wrong.")},a.showPopup=function(t,e){var n=this,i=E(this.customPopUp);i.setPosition(0,0),i.setScale(P.ZERO),this.node.addChild(i);i.getComponent(B).setCallback((function(){return n.setZoomOut(i)}),null),i.getComponent(B).Msg.string=e,i.getComponent(B).title.string=t,this.setZoom(i)},a.setZoom=function(t){T(t).to(.2,{scale:new P(1.2,1.2,1.2)}).to(.1,{scale:new P(1,1,1)}).start()},a.setZoomOut=function(t){T(t).to(.2,{scale:P.ZERO}).destroySelf().start()},a.onEditboxEditingBegan=function(){w.emit(N,!0)},a.onEditboxEditingEnd=function(){w.emit(N,!1)},a.onEditBoxBegan=function(t){this.onEditboxEditingBegan(),this.currentIndex=t,this.resetOTPLabel()},a.onTextChanged=function(t){var e=this.isOTPBox[t].string;3===t&&0!=e.length?(this.isOTPBox[t].string=e.charAt(0),this.focusPrevEditBox(t+1),console.log("Final OTP:",this.getOTPCode()),this.editSendOtp()):2===e.length?(this.isOTPBox[t].string=e.charAt(0),this.focusNextEditBox(t,e.charAt(1)),this.editSendOtp()):0===e.length?this.focusPrevEditBox(t):e.length>1&&this.focusPrevEditBox(t+1)},a.editSendOtp=function(){if(4==this.getOTPCode().length){if(this.isSendOtp){if(this.isOtpClicked)return;var t={target:this.submitButton.node};return void this.onClickVerifyOTP(t,"enter")}K.getDispatcher().emit("OPEN_OTP_PANEL")}},a.focusNextEditBox=function(t,e){t<this.isOTPBox.length-1&&(this.isOTPBox[t+1].string=e,this.isOTPBox[t+1].focus())},a.focusPrevEditBox=function(t){t>0&&this.isOTPBox[t-1].focus()},a.isValidPhoneNumber=function(t){return/^\d{10}$/.test(t)},a.isValidEmail=function(t){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t)},a.isRealCountryCode=function(t){return Ct.has(t)},a.getOTPCode=function(){return this.isOTPBox.map((function(t){return t.string.trim()})).join("")},a.onEditEnd=function(){this.onEditboxEditingEnd()},e}(C)).prototype,"countryCode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e(ot.prototype,"phoneNumber",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(ot.prototype,"emailEditBox",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(ot.prototype,"isOTPBox",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ct=e(ot.prototype,"customPopUp",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e(ot.prototype,"updateProfileKYC",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e(ot.prototype,"timerBase",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e(ot.prototype,"InvalidOTPMsg",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=e(ot.prototype,"submitButton",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e(ot.prototype,"resendOTP",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=e(ot.prototype,"codeSentWith",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=e(ot.prototype,"send_Otp_On_Email",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e(ot.prototype,"send_Otp_On_Phone",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ot=e(ot.prototype,"backClick",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=e(ot.prototype,"closeClick",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=ot))||it)),new Set(["+1","+44","+91","+81","+61","+49","+33","+971","+86","+7"]));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./BigDealGameModel.ts","./AllBidHistoryManager.ts","./AuctionListManager.ts","./AuctionManager.ts","./BidStorageManager.ts","./BlockBoltPaymentRequest.ts","./BlockchainLogPrefab.ts","./BuyPlaysManager.ts","./BuyXPManager.ts","./ComingSoonAuctions.ts","./CountdownTimerForLiveAuction.ts","./DetailsPanelManager.ts","./GameFlowManager.ts","./GameFotterManager.ts","./HowToPlayPanelManager.ts","./LoginPopupManager.ts","./MenuPanel.ts","./MyAuctionHistoryPrefab.ts","./MyAuctionManager.ts","./NodeNameHighlightManager.ts","./PayPalButtonManager.ts","./ShippingStatus.ts","./ShowProfile.ts","./SlotBaseTutorial.ts","./SocketEventHandler.ts","./TextHighlightManager.ts","./TransferXPManager.ts","./UniqueBidStorageManager.ts","./UpComingAuction.ts","./UpdateProfileKYC.ts","./WinAuctionStatusConfirm.ts","./XPHistoryManager.ts","./ClaimRewardPrize.ts","./EditProfilePicture.ts","./GamePlay.ts","./AvatarIconsManager.ts","./BigDealEvents.ts","./BigDealLayoutManager.ts","./ButtonComponentForChildNode.ts","./ButtonComponentForText.ts","./CustomPopUp.ts","./Dropdown.ts","./EncryptionHelper.ts","./ErrorCustomPopUp.ts","./EventEmitter.ts","./EventManager.ts","./MyAudioManager.ts","./NotificationManager.ts","./TimerBase.ts","./TutorialItem.ts","./loadingFram.ts","./msgBox.ts","./msgBoxItem.ts","./EmailOTPVerification.ts","./GetEmailOrPhone.ts","./PageViewImageLoader.ts","./TrailEffect.ts","./ChackVelidUserID.ts","./ChackVelidetionOnChange.ts","./DailyBonusManager.ts","./IndexedDBManager.ts","./LeaderboardItem.ts","./LeaderboardManager.ts","./ShippingDropdown.ts","./TelegramConnector.ts","./UserInterface.ts","./EditBoxPlaceHolderShow.ts","./LanguageManager.ts","./LocalizedLabel.ts","./LoginScreen.ts","./BigDealSocketManager.ts","./MyWalletScreen.ts","./PlayerKeyboardHandler.ts","./ProfileUpdated.ts","./RewardScene.ts","./SpinningGradientNode.ts","./XFollowBonusUI.ts","./ShowWining.ts","./UniqueBidsAndCounts.ts","./UniqueHistory.ts","./APIManager.ts","./ApiUrls.ts","./BrowserBackButtonHandler.ts","./CookieUtils.ts","./ErrorHandler.ts","./UnifiedWalletManager.ts","./WalletUIController.ts","./Socket_Io.mjs_cjs=&original=.js"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MenuPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ShowProfile.ts","./APIManager.ts","./ApiUrls.ts","./BigDealGameModel.ts","./BigDealEvents.ts","./EventManager.ts","./BigDealSocketManager.ts","./LoginPopupManager.ts","./XPHistoryManager.ts","./BuyXPManager.ts","./TransferXPManager.ts","./GamePlay.ts","./MyAudioManager.ts","./CookieUtils.ts","./IndexedDBManager.ts","./MyAuctionManager.ts","./LanguageManager.ts","./WalletUIController.ts"],(function(e){var t,n,i,o,r,a,u,l,s,c,g,p,f,h,b,d,y,P,m,M,B,L,S,O,w,v,C,N,k,A,D,z,U,X,_,I,T,x,R,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){u=e.cclegacy,l=e._decorator,s=e.Node,c=e.Label,g=e.Sprite,p=e.Button,f=e.UIOpacity,h=e.Vec3,b=e.tween,d=e.Component,y=e.Size,P=e.Tween},function(e){m=e.ShowProfile},function(e){M=e.resetStaticProperties,B=e.APIManager,L=e.MethodType},function(e){S=e.API_URLS},function(e){O=e.BigDealGameModel},function(e){w=e.StaticProperties,v=e.BigDealEvents},function(e){C=e.default},function(e){N=e.BigDealSocketManager},function(e){k=e.LoginPopupManager},function(e){A=e.XPHistoryManager},function(e){D=e.BuyXPManager},function(e){z=e.TransferXPManager},function(e){U=e.setImageSize,X=e.RemoteAvatar},function(e){_=e.MyAudioManager},function(e){I=e.CookieUtils},function(e){T=e.IndexedDBManager},function(e){x=e.MyAuctionManager},function(e){R=e.LanguageManager},function(e){E=e.WalletUIController}],execute:function(){var H,F,G,V,W,j,q,K,Y,J,Q,Z,$,ee,te,ne,ie,oe,re,ae,ue,le,se,ce,ge,pe,fe,he,be,de,ye,Pe,me,Me,Be,Le,Se,Oe,we,ve,Ce,Ne,ke,Ae,De;u._RF.push({},"31aeezV0YRDOLpn1URmNB5F","MenuPanel",void 0);var ze=l.ccclass,Ue=l.property;e("MenuPanel",(H=ze("MenuPanel"),F=Ue(s),G=Ue(s),V=Ue(s),W=Ue(c),j=Ue(m),q=Ue(g),K=Ue(k),Y=Ue(A),J=Ue(D),Q=Ue(z),Z=Ue(x),$=Ue(E),ee=Ue(p),te=Ue(p),ne=Ue(p),ie=Ue(p),oe=Ue(p),re=Ue(p),ae=Ue(p),ue=Ue(p),le=Ue(p),H((ge=t((ce=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"uiNode",ge,o(t)),i(t,"bgNode",pe,o(t)),i(t,"soundToggleNode",fe,o(t)),i(t,"userNameleLabel",he,o(t)),i(t,"showProfile",be,o(t)),i(t,"gameLogo",de,o(t)),i(t,"loginPopupManager",ye,o(t)),i(t,"xPHistoryManager",Pe,o(t)),i(t,"buyXPManager",me,o(t)),i(t,"transferXPManager",Me,o(t)),i(t,"myAuctionManager",Be,o(t)),i(t,"walletUIController",Le,o(t)),i(t,"logoutButton",Se,o(t)),i(t,"loginButton",Oe,o(t)),i(t,"profileButton",we,o(t)),i(t,"buyXPButton",ve,o(t)),i(t,"transactionsButton",Ce,o(t)),i(t,"transferXPButton",Ne,o(t)),i(t,"myAuctionButton",ke,o(t)),i(t,"dailyBonus",Ae,o(t)),i(t,"comingSoonAuctions",De,o(t)),t.isMenuOpen=!1,t.buttonClicked=!1,t.isSoundOn=!0,t}n(t,e);var u=t.prototype;return u.start=function(){this.bgNode.getComponent(f).opacity=0,this.uiNode.setPosition(new h(810,0,0)),this.bgNode.active=!1,this.uiNode.active=!1,this.loadSoundState(),this.updateSoundToggleUI(),C.getDispatcher().on("openMenu",this.openMenu,this),C.getDispatcher().on("closeMenu",this.closeMenu,this)},u.openMenu=function(){var e=r(a().mark((function e(){var t,n,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(i=null==(n=O.auctionHouseResponse)?void 0:n.data.currentAuctionHouse.medias.local_path)){e.next=5;break}return e.next=5,X(""+w.apiBaseURL+i,this.gameLogo);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:if(w.isLogin?(this.loginButton.node.active=!1,this.logoutButton.node.active=!0,this.profileButton.interactable=!0,this.buyXPButton.interactable=!0,this.transactionsButton.interactable=!0,this.transferXPButton.interactable=!0,this.myAuctionButton.interactable=!0,this.dailyBonus.interactable=!0,this.userNameleLabel.node.active=!0):(this.logoutButton.node.active=!1,this.profileButton.interactable=!1,this.buyXPButton.interactable=!1,this.transactionsButton.interactable=!1,this.transferXPButton.interactable=!1,this.myAuctionButton.interactable=!1,this.dailyBonus.interactable=!1,this.loginButton.node.active=!0,this.userNameleLabel.node.active=!1),!this.isMenuOpen){e.next=13;break}return e.abrupt("return");case 13:o=(null==(t=O.loginDataResponse)||null==(t=t.data)?void 0:t.first_name)||"Guest",this.userNameleLabel.string=R.instance.t("logged_in_as",{name:o}),U(new y(325,130),this.gameLogo.node),this.isMenuOpen=!0,this.buttonClicked=!1,this.bgNode.active=!0,this.uiNode.active=!0,b(this.bgNode.getComponent(f)).to(.2,{opacity:150}).start(),b(this.uiNode).to(.2,{position:new h(0,0,0)}).start();case 22:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),u.isLoginClick=function(){w.isLogin||(console.log("Login Clicked"),this.loginPopupManager.init(),this.closeMenu())},u.closeMenu=function(){var e=this;this.isMenuOpen&&(this.isMenuOpen=!1,b(this.bgNode.getComponent(f)).to(.2,{opacity:0}).call((function(){e.bgNode.active=!1})).start(),b(this.uiNode).to(.2,{position:new h(810,0,0)}).call((function(){e.uiNode.active=!1})).start())},u.handleButtonClick=function(e){this.buttonClicked||(this.buttonClicked=!0,e())},u.onClickProfile=function(){var e=this;this.handleButtonClick((function(){C.getDispatcher().emit(v.CLOSE_ALL_POPUPS),console.log("Open My Profile"),e.showProfile.showProfile(),e.closeMenu()}))},u.onClickBuyXP=function(){var e=this;this.handleButtonClick((function(){C.getDispatcher().emit(v.CLOSE_ALL_POPUPS),console.log("Open Buy XP"),e.buyXPManager.showBuyXPPanel(),e.closeMenu()}))},u.onClickTransactions=function(){var e=this;this.handleButtonClick((function(){C.getDispatcher().emit(v.CLOSE_ALL_POPUPS),console.log("Open Transactions"),e.xPHistoryManager.openUI(),e.closeMenu()}))},u.onClickMyAuction=function(){var e=this;this.handleButtonClick((function(){C.getDispatcher().emit(v.CLOSE_ALL_POPUPS),console.log("Open Transactions"),e.myAuctionManager.onAuctionClicked(),e.closeMenu()}))},u.onClickTransferXP=function(){var e=this;this.handleButtonClick((function(){C.getDispatcher().emit(v.CLOSE_ALL_POPUPS),console.log("Open Transfer XP"),e.transferXPManager.showBuyXPPanel(),e.closeMenu()}))},u.onClickLogout=function(){var e=this;this.handleButtonClick((function(){console.log("Logging Out..."),e.closeMenu();try{e.userLogUot()}catch(e){console.error("is logout faild")}}))},u.toggleSound=function(){this.isSoundOn=!this.isSoundOn,localStorage.setItem("soundOn",this.isSoundOn+""),_.inst.toggleSound(),this.updateSoundToggleUI()},u.updateSoundToggleUI=function(){this.soundToggleNode&&(this.soundToggleNode.getChildByName("SoundOff").active=!this.isSoundOn,this.soundToggleNode.getChildByName("SoundOn").active=this.isSoundOn),console.log("Sound is now",this.isSoundOn?"ON":"OFF")},u.loadSoundState=function(){"false"===localStorage.getItem("soundOn")&&(this.isSoundOn=!1)},u.userLogUot=function(){var e=r(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(r(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C.getDispatcher().emit(v.IS_LOADER_ON),e.next=4,B.request(S.LOGOUT,L.PUT,null,!0);case 4:return e.next=6,localStorage.clear();case 6:return e.next=8,I.clearAllCookies();case 8:return M(),e.next=11,P.stopAll();case 11:return e.next=13,N.clearInstance();case 13:return e.next=15,O.setallData();case 15:w.isLogin=!1,T.inst.clear(),C.getDispatcher().emit(v.LOGOUT_ONDISCONNECTCLICK),C.getDispatcher().emit(v.IS_LOADER_OFF),t(),e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(0),console.error("userLogUot",e.t0),e.abrupt("return",n(e.t0));case 26:case"end":return e.stop()}}),e,null,[[0,22]])})))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t}(d)).prototype,"uiNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(ce.prototype,"bgNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(ce.prototype,"soundToggleNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(ce.prototype,"userNameleLabel",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(ce.prototype,"showProfile",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(ce.prototype,"gameLogo",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(ce.prototype,"loginPopupManager",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(ce.prototype,"xPHistoryManager",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(ce.prototype,"buyXPManager",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t(ce.prototype,"transferXPManager",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(ce.prototype,"myAuctionManager",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(ce.prototype,"walletUIController",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(ce.prototype,"logoutButton",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(ce.prototype,"loginButton",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(ce.prototype,"profileButton",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(ce.prototype,"buyXPButton",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(ce.prototype,"transactionsButton",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(ce.prototype,"transferXPButton",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(ce.prototype,"myAuctionButton",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(ce.prototype,"dailyBonus",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(ce.prototype,"comingSoonAuctions",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=ce))||se));u._RF.pop()}}}));

System.register("chunks:///_virtual/msgBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./msgBoxItem.ts"],(function(t){var e,o,i,s,n,m,r,g,p,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){n=t.cclegacy,m=t._decorator,r=t.Node,g=t.Vec3,p=t.Component},function(t){h=t.msgBoxItem}],execute:function(){var d,l,a,c,f;n._RF.push({},"3e529d6Op5J+4GI4Mai0R/B","msgBox",void 0);var u=m.ccclass,I=m.property,b=function(t){return t[t.bottomRight=0]="bottomRight",t[t.bottomLeft=1]="bottomLeft",t[t.topRight=2]="topRight",t[t.topLeft=3]="topLeft",t[t.topMiddle=4]="topMiddle",t[t.bottomMiddle=5]="bottomMiddle",t}(b||{});t("msgBox",(d=u("msgBox"),l=I(r),d((f=e((c=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),m=0;m<o;m++)n[m]=arguments[m];return e=t.call.apply(t,[this].concat(n))||this,i(e,"msgItem",f,s(e)),e}o(e,t);var n=e.prototype;return n.start=function(){},n.setDefault=function(){for(var t=0;t<this.msgItem.length;t++)this.msgItem[t].active=!1,this.msgItem[t].getComponent(h).setDefaultView()},n.setinitView=function(t,e,o){this.setDefault();var i=t.y;"bottomRight"===o?(this.msgItem[b.bottomRight].active=!0,this.msgItem[b.bottomRight].getComponent(h).setinitView(e),i=t.y,this.node.setWorldPosition(new g(t.x,i,0))):"bottomLeft"===o?(this.msgItem[b.bottomLeft].active=!0,i=t.y,this.node.setWorldPosition(new g(t.x,i,0)),this.msgItem[b.bottomLeft].getComponent(h).setinitView(e)):"topLeft"===o?(this.msgItem[b.topRight].active=!0,this.msgItem[b.topRight].getComponent(h).setinitView(e),i=t.y,this.node.setWorldPosition(new g(t.x,i,0))):"topRight"===o?(this.msgItem[b.topLeft].active=!0,this.msgItem[b.topLeft].getComponent(h).setinitView(e),i=t.y,this.node.setWorldPosition(new g(t.x,i,0))):"topMiddle"===o?(this.msgItem[b.topMiddle].active=!0,this.msgItem[b.topMiddle].getComponent(h).setinitView(e),i=t.y+45,this.node.setWorldPosition(new g(t.x,i,0))):"bottomMiddle"===o&&(this.msgItem[b.bottomMiddle].active=!0,this.msgItem[b.bottomMiddle].getComponent(h).setinitView(e),i=t.y-45,this.node.setWorldPosition(new g(t.x,i,0)))},e}(p)).prototype,"msgItem",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),a=c))||a));n._RF.pop()}}}));

System.register("chunks:///_virtual/msgBoxItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,o,a,s,r,c,l,h,u,m,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Node,c=t.tween,l=t.Vec3,h=t.UITransform,u=t.Size,m=t.Label,p=t.Component}],execute:function(){var d,g,f,N,v,z,w,S,b;a._RF.push({},"5720davMkhFyrv0q6JS+DQg","msgBoxItem",void 0);var y=s.ccclass,C=s.property;t("msgBoxItem",(d=y("msgBoxItem"),g=C(r),f=C(r),N=C(r),d((w=e((z=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(e,"arrowNode",w,o(e)),n(e,"poniNode",S,o(e)),n(e,"msgNode",b,o(e)),e.contantSizeY=0,e.potraitSizeY=130,e.landscapeSizeY=166,e.isActive=!0,e}i(e,t);var a=e.prototype;return a.setZoom=function(t){c(t).to(.5,{scale:new l(1.02,1.02,0)},{easing:"backIn"}).to(.5,{scale:new l(1,1,0)},{easing:"backIn"}).start()},a.setDefaultView=function(){this.contantSizeY=0,this.arrowNode.getComponent(h).setContentSize(new u(110,this.contantSizeY)),this.msgNode.getChildByName("Label").getComponent(m).string="",this.poniNode.active=!1,this.msgNode.active=!1},a.setinitView=function(t){this.setDefaultView(),this.isActive=!0,this.msgNode.getChildByName("Label").getComponent(m).string=t,this.schedule(this.activeAnimation,1e-6)},a.activeAnimation=function(){this.isActive&&(this.contantSizeY+=15,this.potraitAnimation())},a.potraitAnimation=function(){this.contantSizeY>=this.potraitSizeY?(this.poniNode.active=!0,this.msgNode.active=!0,this.unschedule(this.activeAnimation),this.setZoom(this.msgNode.getChildByName("Label"))):this.arrowNode.getComponent(h).setContentSize(new u(110,this.contantSizeY))},a.landscapeAnimation=function(){this.contantSizeY>=this.landscapeSizeY?(this.poniNode.active=!0,this.unschedule(this.activeAnimation),this.setZoom(this.msgNode.getChildByName("Label"))):this.arrowNode.getComponent(h).setContentSize(new u(110,this.contantSizeY))},e}(p)).prototype,"arrowNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(z.prototype,"poniNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(z.prototype,"msgNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=z))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/MyAuctionHistoryPrefab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./BigDealEvents.ts","./BigDealGameModel.ts"],(function(t){var e,i,n,a,r,l,s,o,u,c,d,m,b,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,s=t.Label,o=t.Node,u=t.Button,c=t.Color,d=t.Component},function(t){m=t.default},function(t){b=t.BigDealEvents},function(t){h=t.BigDealGameModel}],execute:function(){var p,g,f,y,_,v,C,S,I,N,B,w,D,L,k,P,z,A,x,T,M,R,E,O,W,F,H,G,U,X,Y;r._RF.push({},"bcfdadoMgNNfozW1rBSGDAa","MyAuctionHistoryPrefab",void 0);var j=l.ccclass,q=l.property,K=t("ShippingClaimStatus",function(t){return t.Clam_Winging_Price="Clam:Winging:Price",t.Winging_Price_Status="Winging:Price:Status",t.WIN_AUCTION_STATUS_CONFIRM="WIN_AUCTION_STATUS_CONFIRM",t.COMPLETE_EMAIL_VERIFICATION="complete:email:verification",t}({}));t("MyAuctionHistoryPrefab",(p=j("MyAuctionHistoryPrefab"),g=q(s),f=q(s),y=q(s),_=q(s),v=q(s),C=q(s),S=q(s),I=q(s),N=q(s),B=q(o),w=q(o),D=q(o),L=q(s),k=q(s),p((A=e((z=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,n(e,"auctionTitleLabel",A,a(e)),n(e,"total_auction_bids",x,a(e)),n(e,"xpConsumedLabel",T,a(e)),n(e,"player",M,a(e)),n(e,"winner_bid_value",R,a(e)),n(e,"winner_Name",E,a(e)),n(e,"typeLabel",O,a(e)),n(e,"productNameLabel",W,a(e)),n(e,"auctionStartDate",F,a(e)),n(e,"ClaimButton",H,a(e)),n(e,"declined",G,a(e)),n(e,"Status",U,a(e)),n(e,"statusButtonLabel",X,a(e)),n(e,"messege",Y,a(e)),e.myIndex=0,e.Product_Name="",e.isClickd=!1,e.auctionId=null,e.isDelivery_Status=null,e}i(e,t);var r=e.prototype;return r.setData=function(t){var e=h.myAuctionResponse.data[t];this.myIndex=t,console.log("this.myIndex",this.myIndex,t);var i=e.auction_id,n=e.title,a=e.total_bids,r=e.total_bid_consumed,l=e.total_player,s=e.total_auction_bids,o=e.user_id,c=e.winner_bid_value,d=e.auction_type,m=e.product_name,b=e.status,p=e.delivery_status,g=e.start_date,f=e.product_price;if(this.Product_Name=m,this.auctionTitleLabel.string=n||"-",this.auctionId=i||"-",this.isDelivery_Status=p||"-",this.total_auction_bids.string=(a||"-")+" / "+(s||"-"),this.auctionStartDate.string=g?function(t){if(!t)return"-";var e=new Date(t),i={day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"Asia/Kolkata"};return new Intl.DateTimeFormat("en-GB",i).format(e).replace(",","")}(g):"-",this.player.string=""+(l||"-"),this.xpConsumedLabel.string=""+(r||"-"),this.winner_bid_value.string=c||"-",this.winner_Name.string=o||"-",this.typeLabel.string=d||"-",this.productNameLabel.string=m||"-",this.isClickd=!1,"won"===b)switch(this.isDelivery_Status){case"claim":var y=this.parsentCalculation(f,c);this.messege.node.active=!0,this.messege.string=y.message,this.messege.color=y.color,y.success?this.ClaimButton.active=!0:(this.ClaimButton.active=!0,this.ClaimButton.getComponent(u).interactable=!0);break;case"inProcess":this.statusButtonLabel.string="In Process",this.ClaimButton.active=!1,this.Status.active=!0;break;case"orderPlaced":this.Status.active=!0,this.ClaimButton.active=!1,this.statusButtonLabel.string="Order Placed";break;case"delivered":this.Status.active=!0,this.ClaimButton.active=!1,this.statusButtonLabel.string="Delivered";break;case"confirmed":this.Status.active=!0,this.ClaimButton.active=!1,this.statusButtonLabel.string="Confirmed",this.Status.getComponent(u).interactable=!1;break;case"declined":this.declined.active=!0,this.Status.active=!1,this.ClaimButton.active=!1;break;default:this.Status.active=!1,this.ClaimButton.active=!1,this.declined.active=!1}else this.ClaimButton.active=!1,this.Status.active=!1},r.parsentCalculation=function(t,e){var i,n,a=Number(null!=(i=null==(n=h.playerBalancesResponse)||null==(n=n.data)?void 0:n.play_balance)?i:0),r=Number(e);if(isNaN(t)||isNaN(r))return{success:!1,message:"Invalid input values.",color:c.RED};var l=t*(100-r)/100;return a>=l?{success:!0,message:"You can claim your prize! Required XP: "+l.toFixed(0),color:c.GREEN}:{success:!1,message:"You need "+(l-a).toFixed(0)+" more XP to claim your prize.",color:c.RED}},r.claim=function(){var t=this;if(!this.isClickd){this.isClickd=!0,console.log("this.myIndex",this.myIndex);var e=h.myAuctionResponse.data[this.myIndex];m.getDispatcher().emit(K.Clam_Winging_Price,e),this.scheduleOnce((function(){t.isClickd=!1}),2)}},r.onClick=function(){var t=this;console.log("onClick.myIndex",this.myIndex),m.getDispatcher().emit(b.SHOW_AUCTIONWINNER_DATA,this.myIndex),this.isClickd||(this.isClickd=!0,this.scheduleOnce((function(){t.isClickd=!1}),2))},r.othorStatus=function(){var t=this;this.isClickd||(this.isClickd=!0,m.getDispatcher().emit(K.Winging_Price_Status,this.isDelivery_Status,this.auctionId),this.scheduleOnce((function(){t.isClickd=!1}),2))},e}(d)).prototype,"auctionTitleLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(z.prototype,"total_auction_bids",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(z.prototype,"xpConsumedLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(z.prototype,"player",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(z.prototype,"winner_bid_value",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(z.prototype,"winner_Name",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(z.prototype,"typeLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(z.prototype,"productNameLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(z.prototype,"auctionStartDate",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(z.prototype,"ClaimButton",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(z.prototype,"declined",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(z.prototype,"Status",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(z.prototype,"statusButtonLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(z.prototype,"messege",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=z))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/MyAuctionManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./APIManager.ts","./BigDealEvents.ts","./BigDealGameModel.ts","./MyAuctionHistoryPrefab.ts","./EventManager.ts"],(function(t){var n,e,i,r,a,o,u,c,s,l,h,p,f,d,g,v,P,y,B;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){u=t.cclegacy,c=t._decorator,s=t.Node,l=t.Prefab,h=t.ScrollView,p=t.instantiate,f=t.Component},function(t){d=t.APIManager,g=t.MethodType},function(t){v=t.BigDealEvents},function(t){P=t.BigDealGameModel},function(t){y=t.MyAuctionHistoryPrefab},function(t){B=t.default}],execute:function(){var b,x,m,I,A,w,N,M,k,D,z,C,R,T,_,E,F,H,G,S,q;u._RF.push({},"fec95D35PtNCqvQjJmfcYqm","MyAuctionManager",void 0);var L=c.ccclass,U=c.property;t("MyAuctionManager",(b=L("MyAuctionManager"),x=U(s),m=U(s),I=U(l),A=U(s),w=U(h),N=U(s),M=U(s),k=U(s),D=U(s),b((R=n((C=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a))||this,i(n,"uiNode",R,r(n)),i(n,"auctionParent",T,r(n)),i(n,"auctionPrefab",_,r(n)),i(n,"loadingNode",E,r(n)),i(n,"scroll2",F,r(n)),i(n,"hading",H,r(n)),i(n,"noDataFound",G,r(n)),i(n,"nextPageButton",S,r(n)),i(n,"prevPageButton",q,r(n)),n.auctionNodes=[],n.limit=20,n.currentPage=0,n.totalPage=0,n.prevButtonInstance=null,n.nextButtonInstance=null,n}e(n,t);var u=n.prototype;return u.start=function(){B.getDispatcher().on(v.AUCTION_Claim,this.onAuctionClicked,this)},u.onAuctionClicked=function(){var t=a(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setPanelActive(),this.auctionParent.children.length<1&&(this.loadingNode.active=!0),t.prev=2,this.currentPage=0,t.next=6,this.fetchPlayerAuctions(this.currentPage);case 6:t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),this.loadingNode.active=!1,console.error("Auction fetch error:",t.t0);case 12:case"end":return t.stop()}}),t,this,[[2,8]])})));return function(){return t.apply(this,arguments)}}(),u.fetchPlayerAuctions=function(){var t=a(o().mark((function t(n){var e,i,r,a,u,c,s,l,h,p,f,v;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=0),t.prev=1,this.loadingNode.active=!0,h=null==(e=P.loginDataResponse)||null==(e=e.data)?void 0:e.id,p=null==(i=P.auctionHouseResponse)||null==(i=i.data)||null==(i=i.currentAuctionHouse)?void 0:i.id,f="v1/auction/player-auction/"+h+"?limit="+this.limit+"&page="+n+"&auction_house_id="+p+"&state=completed",t.next=8,d.request(f,g.GET,null,!0);case 8:v=t.sent,P.myAuctionResponse=v,this.loadingNode.active=!1,this.currentPage=null!=(r=null==(a=v.metadata)?void 0:a.page)?r:n,this.totalPage=null!=(u=null==(c=v.metadata)?void 0:c.totalPage)?u:0,this.renderAuctions(),this.noDataFound.active=(null!=(s=null==(l=v.data)?void 0:l.length)?s:0)<=0,this.updatePaginationButtons(),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(1),this.loadingNode.active=!1,console.error("Auction fetch error:",t.t0);case 22:case"end":return t.stop()}}),t,this,[[1,18]])})));return function(n){return t.apply(this,arguments)}}(),u.renderAuctions=function(){var t=P.myAuctionResponse.data||[];if(this.prevButtonInstance&&(this.prevButtonInstance.destroy(),this.prevButtonInstance=null),this.nextButtonInstance&&(this.nextButtonInstance.destroy(),this.nextButtonInstance=null),this.auctionParent.removeAllChildren(),this.auctionNodes=[],t&&0!==t.length){for(var n=0;n<t.length;n++)this.newAuctionNode(n);this.updatePaginationButtons()}},u.onNextPage=function(){var t=a(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.currentPage<this.totalPage-1)){t.next=4;break}return this.currentPage+=1,t.next=4,this.fetchPlayerAuctions(this.currentPage);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.onPrevPage=function(){var t=a(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.currentPage>0)){t.next=4;break}return this.currentPage-=1,t.next=4,this.fetchPlayerAuctions(this.currentPage);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.updatePaginationButtons=function(){var t=this.currentPage<this.totalPage-1,n=this.currentPage>0;t&&this.nextPageButton?(this.nextButtonInstance||(this.nextButtonInstance=p(this.nextPageButton),this.auctionParent.addChild(this.nextButtonInstance),this.nextButtonInstance.on("click",this.onNextPage,this)),this.nextButtonInstance.active=!0):this.nextButtonInstance&&(this.nextButtonInstance.off("click",this.onNextPage,this),this.nextButtonInstance.destroy(),this.nextButtonInstance=null),n&&this.prevPageButton?(this.prevButtonInstance||(this.prevButtonInstance=p(this.prevPageButton),this.auctionParent.insertChild(this.prevButtonInstance,0),this.prevButtonInstance.on("click",this.onPrevPage,this)),this.prevButtonInstance.active=!0):this.prevButtonInstance&&(this.prevButtonInstance.off("click",this.onPrevPage,this),this.prevButtonInstance.destroy(),this.prevButtonInstance=null)},u.setPanelActive=function(){this.scroll2.scrollToTopLeft(0,!0),this.uiNode.active=!0,this.ScrollUpdate()},u.setPanelOff=function(){this.uiNode.active=!1},u.newAuctionNode=function(){var t=a(o().mark((function t(n){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{P.myAuctionResponse.data[n],e=p(this.auctionPrefab),this.auctionParent.addChild(e),e.getComponent(y).setData(n),this.auctionNodes.unshift(e)}catch(t){console.error("Error creating auction node",t)}case 1:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),u.ScrollUpdate=function(){var t=this.auctionParent.getPosition();this.hading.setPosition(t.x,0)},n}(f)).prototype,"uiNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(C.prototype,"auctionParent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(C.prototype,"auctionPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(C.prototype,"loadingNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(C.prototype,"scroll2",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(C.prototype,"hading",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(C.prototype,"noDataFound",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(C.prototype,"nextPageButton",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=n(C.prototype,"prevPageButton",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=C))||z));u._RF.pop()}}}));

System.register("chunks:///_virtual/MyAudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var i,n,t,u,e,s,r;return{setters:[function(o){i=o.createClass},function(o){n=o.cclegacy,t=o.AudioClip,u=o.resources,e=o.Node,s=o.director,r=o.AudioSource}],execute:function(){n._RF.push({},"1c8fegG9xRLnJ4qI2PxCBRR","MyAudioManager",void 0),o("MyAudioManager",function(){function o(){this._audioSource=void 0,this._isSoundOn=!0,this.SOUND_KEY="soundOn";var o=new e;o.name="__audioMgr__",s.getScene().addChild(o),s.addPersistRootNode(o),this._audioSource=o.addComponent(r);var i=localStorage.getItem(this.SOUND_KEY);this._isSoundOn=null===i||"true"===i}o.getInstance=function(){throw new Error("Method not implemented.")};var n=o.prototype;return n.toggleSound=function(){this._isSoundOn=!this._isSoundOn,localStorage.setItem(this.SOUND_KEY,this._isSoundOn.toString()),this._isSoundOn||this.stop()},n.playOneShot=function(o,i){var n=this;void 0===i&&(i=1),this._isSoundOn&&(o instanceof t?this._audioSource.playOneShot(o,i):u.load("Sounds/"+o,(function(o,t){o?console.log(o):n._audioSource.playOneShot(t,i)})))},n.play=function(o,i){var n=this;void 0===i&&(i=1),this._isSoundOn&&(o instanceof t?(this._audioSource.stop(),this._audioSource.clip=o,this._audioSource.play(),this.audioSource.volume=i):u.load("Sounds/"+o,(function(o,t){o?console.log(o):(n._audioSource.stop(),n._audioSource.clip=t,n._audioSource.play(),n.audioSource.volume=i)})))},n.stop=function(){this._audioSource.stop()},n.pause=function(){this._audioSource.pause()},n.resume=function(){this._isSoundOn&&this._audioSource.play()},i(o,[{key:"audioSource",get:function(){return this._audioSource}},{key:"isSoundOn",get:function(){return this._isSoundOn}}],[{key:"inst",get:function(){return null==this._inst&&(this._inst=new o),this._inst}}]),o}())._inst=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/MyWalletScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./APIManager.ts","./ApiUrls.ts","./BigDealSocketManager.ts","./EventManager.ts","./BigDealEvents.ts","./BigDealGameModel.ts","./CookieUtils.ts","./IndexedDBManager.ts"],(function(e){var t,n,r,i,a,o,l,c,u,s,p,f,g,d,h,y,D,b,U,m,I,M,v,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){l=e.cclegacy,c=e._decorator,u=e.Label,s=e.Node,p=e.EditBox,f=e.Component,g=e.Tween},function(e){d=e.resetStaticProperties,h=e.APIManager,y=e.MethodType},function(e){D=e.API_URLS},function(e){b=e.BigDealSocketManager},function(e){U=e.default},function(e){m=e.StaticProperties,I=e.BigDealEvents},function(e){M=e.BigDealGameModel},function(e){v=e.CookieUtils},function(e){w=e.IndexedDBManager}],execute:function(){var L,S,O,x,B,C,_,k,E,T,A,P,W;l._RF.push({},"a1501ZOtWdGyIIYVf7snTCg","MyWalletScreen",void 0);var G=c.ccclass,R=c.property;e("MyWalletScreen",(L=G("MyWalletScreen"),S=R(u),O=R(s),x=R(s),B=R(p),C=R(u),L((E=t((k=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"referralCode",E,i(t)),r(t,"gameWallet",T,i(t)),r(t,"winningWallet",A,i(t)),r(t,"UpiIdEditBox",P,i(t)),r(t,"walletUpiIdMessege",W,i(t)),t}n(t,e);var l=t.prototype;return l.init=function(){U.getDispatcher().on("USER_LOGOUT",this.userLogUot,this)},l.start=function(){},l.onDestroy=function(){U.getDispatcher().off("USER_LOGOUT",this.userLogUot,this)},l.onClickBack=function(){this.node.active=!1},l.userLogUot=function(){var e=a(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(a(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,U.getDispatcher().emit(I.IS_LOADER_ON),h.request(D.LOGOUT,y.PUT,null,!0),e.next=5,localStorage.clear();case 5:return e.next=7,v.clearAllCookies();case 7:return d(),e.next=10,g.stopAll();case 10:return e.next=12,b.clearInstance();case 12:return e.next=14,M.setallData();case 14:w.inst.clear(),m.isLogin=!1,U.getDispatcher().emit(I.LOGOUT_ONDISCONNECTCLICK),U.getDispatcher().emit(I.IS_LOADER_OFF),t(),e.next=25;break;case 21:return e.prev=21,e.t0=e.catch(0),console.error("userLogUot",e.t0),e.abrupt("return",n(e.t0));case 25:case"end":return e.stop()}}),e,null,[[0,21]])})))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t}(f)).prototype,"referralCode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(k.prototype,"gameWallet",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(k.prototype,"winningWallet",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(k.prototype,"UpiIdEditBox",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(k.prototype,"walletUpiIdMessege",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=k))||_));l._RF.pop()}}}));

System.register("chunks:///_virtual/NodeNameHighlightManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,t,n,p,i,a,r,s,d,u,h,l,c,v,g,N;return{setters:[function(o){e=o.inheritsLoose},function(o){t=o.cclegacy,n=o._decorator,p=o.find,i=o.Node,a=o.resources,r=o.Prefab,s=o.instantiate,d=o.Label,u=o.UITransform,h=o.Vec3,l=o.v3,c=o.Sprite,v=o.UIOpacity,g=o.tween,N=o.Component}],execute:function(){var f;t._RF.push({},"dfa58GzlVFDFZcjjY39EuxU","NodeNameHighlightManager",void 0);var m=n.ccclass;n.property,o("NodeNameHighlightManager",m("NodeNameHighlightManager")(f=function(o){function t(){for(var e,t=arguments.length,n=new Array(t),p=0;p<t;p++)n[p]=arguments[p];return(e=o.call.apply(o,[this].concat(n))||this).popupNode=null,e.showingPopup=!1,e.isEventOn=!1,e.canvas=null,e.nodeName="",e}e(t,o);var n=t.prototype;return n.onLoad=function(){this.canvas=p("Canvas/TextHighlight")},n.start=function(){var o=this;this.nodeName=this.node.name,this.isEventOn||(this.isEventOn=!0,this.node.on(i.EventType.TOUCH_START,this.onHoverEnter,this),this.node.on(i.EventType.TOUCH_END,this.onHoverLeave,this),this.node.on(i.EventType.TOUCH_CANCEL,this.onHoverLeave,this)),a.load("PopupAvatar",r,(function(e,t){if(e||!t)return console.error("Failed to load Popup prefab:",e),void(o.showingPopup=!1)}))},n.onHoverEnter=function(o){var e=this;!this.showingPopup&&this.canvas&&(this.showingPopup=!0,a.load("PopupAvatar",r,(function(o,t){if(o||!t)return console.error("Failed to load Popup prefab:",o),void(e.showingPopup=!1);e.popupNode=s(t);var n=e.popupNode.getComponentInChildren(d);n&&(n.string=e.nodeName),e.canvas.addChild(e.popupNode);var p=e.node.getWorldPosition(),i=e.canvas.getComponent(u).convertToNodeSpaceAR(new h(p.x,p.y+50,0));e.popupNode.setPosition(l(0,i.y,1)),e.popupNode.getChildByName("AvatarPrefab").getChildByName("Avatar").getComponent(c).spriteFrame=e.node.getChildByName("Avatar").getComponent(c).spriteFrame;var a=e.popupNode.getComponent(v);a||(a=e.popupNode.addComponent(v)),a.opacity=0,g(a).to(.3,{opacity:255}).start()})))},n.onHoverLeave=function(){var o=this;if(this.popupNode&&this.popupNode.isValid){var e=this.popupNode.getComponent(v);e?g(e).to(.2,{opacity:0}).call((function(){var e;null==(e=o.popupNode)||e.destroy(),o.canvas.destroyAllChildren(),o.popupNode=null,o.showingPopup=!1})).start():(this.popupNode.destroy(),this.popupNode=null,this.showingPopup=!1)}else this.showingPopup=!1},t}(N))||f);t._RF.pop()}}}));

System.register("chunks:///_virtual/NotificationManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,i,o,r,e,c;return{setters:[function(t){n=t.inheritsLoose,i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){r=t.cclegacy,e=t._decorator,c=t.Component}],execute:function(){var a;t("showNotification",(function(t,n){"granted"===Notification.permission&&new Notification(t,n)})),r._RF.push({},"244cc2CJRJBPbNXMAicvLl8","NotificationManager",void 0);var s=e.ccclass;t("NotificationManager",s("NotificationManager")(a=function(t){function r(){return t.apply(this,arguments)||this}return n(r,t),r.prototype.start=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r}(c))||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/PageViewImageLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealEvents.ts","./AvatarIconsManager.ts","./BigDealGameModel.ts"],(function(e){var t,r,n,a,i,o,s,l,u,c,p,g,d,f,m,h,w,v,b,P,y,V,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,u=e.PageView,c=e.Node,p=e.Prefab,g=e.assetManager,d=e.ImageAsset,f=e.Texture2D,m=e.SpriteFrame,h=e.UITransform,w=e.Size,v=e.Component,b=e.instantiate,P=e.Sprite},function(e){y=e.StaticProperties},function(e){V=e.getValidImageUrl},function(e){I=e.BigDealGameModel}],execute:function(){var C,M,S,x,z,R,A,D,L;e({RemoteAvatar:F,setImageSize:function(e,t){var r=t.getComponent(h);if(!r)return;var n=r.contentSize,a=e.height/n.height,i=e.width/n.width,o=Math.min(a,i);r.setContentSize(new w(n.width*o,n.height*o))}}),s._RF.push({},"48845EG4lhAOrMDIuQro1vT","PageViewImageLoader",void 0);var T=l.ccclass,B=l.property;e("PageViewImageLoader",(C=T("PageViewImageLoader"),M=B(u),S=B(c),x=B(p),C((A=t((R=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,n(t,"pageView",A,a(t)),n(t,"pageViewContent",D,a(t)),n(t,"pagePrefab",L,a(t)),t}return r(t,e),t.prototype.init=function(){var e=i(o().mark((function e(){var t,r,n,a,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pageViewContent.removeAllChildren(),this.pageView.removeAllPages(),r=null==(t=I.auctionHouseListResponse)?void 0:t.data[y.auctionIndex],(n=null==r?void 0:r.products)&&n.productMedias){e.next=7;break}return console.warn("No productMedias found."),e.abrupt("return",Promise.resolve());case 7:return a=[],n.productMedias.forEach((function(e){var t=e.medias.local_path,r=b(i.pagePrefab);i.pageViewContent.addChild(r),i.pageView.addPage(r);var n=r.getComponent(P);if(n){if(t){var o=""+y.apiBaseURL+t;a.push(F(o,n))}}else console.warn("Sprite component missing on page prefab")})),e.next=11,Promise.all(a);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(v)).prototype,"pageView",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(R.prototype,"pageViewContent",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(R.prototype,"pagePrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=R))||z));function F(e,t){return new Promise((function(r){g.loadRemote(V(e),{ext:".png",xhrResponseType:"blob"},(function(e,n){if(e||!(n instanceof d))return console.warn("Failed to load remote image:",e),r();try{var a=new f;a.image=n;var i=new m;i.texture=a,null!=t&&t.isValid?t.spriteFrame=i:console.warn("Sprite invalid or destroyed")}catch(e){console.error("RemoteAvatar error:",e)}r()}))}))}s._RF.pop()}}}));

System.register("chunks:///_virtual/PayPalButtonManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealEvents.ts"],(function(e){var r,n,a,t;return{setters:[function(e){r=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){a=e.cclegacy},function(e){t=e.getPlayarToken}],execute:function(){a._RF.push({},"48e2f9Z2kxHNKuxoJ7gIC4u","PayPalButtonManager",void 0);var o=e("PayPalButtonManager",function(){function e(){}return e.launch=function(e,r,n,a,t,o,l){var c=this;this.BASE_URL=e.endsWith("/")?e:e+"/",this.playerId=r,this.amount=n,this.plays=a,this.auctionHouseId=t,this.onSuccessCallback=o,this.onErrorCallback=l,this.ensureContainer(),this.loadPayPalScript((function(){return c.initButtons()}))},e.ensureContainer=function(){var e=document.getElementById("paypal-overlay");e&&e.remove(),document.body.style.overflow="hidden";var r=function(e,r){var n=document.createElement(e);return Object.assign(n.style,r),n},n=r("div",{position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:"9998"});n.id="paypal-overlay";var a=r("div",{backgroundColor:"white",padding:"2.5rem",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",width:"90%",maxWidth:"400px",maxHeight:"80vh",overflowY:"auto",textAlign:"center",position:"relative",margin:"1rem"});a.id="paypal-popup";var t=r("button",{position:"absolute",top:"8px",right:"12px",border:"none",background:"transparent",fontSize:"20px",cursor:"pointer"});t.innerText="âœ–",t.onclick=function(){n.remove(),document.body.style.overflow=""},n.onclick=function(e){e.target===n&&(n.remove(),document.body.style.overflow="")};var o=document.createElement("div");o.id="paypal-button-container",a.append(t,o),n.appendChild(a),document.body.appendChild(n)},e.loadPayPalScript=function(e){var r=this;if(window.paypal)e();else{var n=document.querySelector('script[src*="paypal.com/sdk/js"]');if(n)n.addEventListener("load",e);else{var a=document.createElement("script");a.src="https://www.paypal.com/sdk/js?client-id=AeDelikdFzabP8JVrW7YL-3u2lAwAfruB4xDVNdQBa7jheDHR13pX8ggTeilBW5aHr77uXcvfxT9Bdsr&currency=USD&components=buttons,funding-eligibility&enable-funding=card",a.async=!0,a.onload=function(){console.log("âœ… PayPal SDK loaded."),e()},a.onerror=function(){console.error("âŒ Failed to load PayPal SDK."),alert("âš ï¸ PayPal SDK load failed. Please check your connection or refresh."),r.onErrorCallback&&r.onErrorCallback("PayPal SDK load failed")},document.head.appendChild(a)}}},e.initButtons=function(){var e,a,o=this,l=window.paypal;if(!l)return console.error("âŒ PayPal SDK not available."),void(this.onErrorCallback&&this.onErrorCallback("PayPal SDK not available"));l.Buttons({style:{layout:"vertical",color:"blue",shape:"pill",label:"paypal"},createOrder:(a=r(n().mark((function e(){var r,a,l,c,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t(),e.prev=1,e.next=4,fetch(o.BASE_URL+"v1/transaction/buy-plays-paypal",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r},body:JSON.stringify({amount:o.amount,plays:o.plays,auction_house_id:o.auctionHouseId,player_id:o.playerId,currency_type:"USD"})});case 4:return l=e.sent,e.next=7,l.json();case 7:if(c=e.sent,i=null==c||null==(a=c.data)?void 0:a.client_txn_id){e.next=11;break}throw new Error("Missing order ID");case 11:return e.abrupt("return",i);case 14:throw e.prev=14,e.t0=e.catch(1),console.error("âŒ createOrder error:",e.t0),o.onErrorCallback&&o.onErrorCallback(e.t0),e.t0;case 19:case"end":return e.stop()}}),e,null,[[1,14]])}))),function(){return a.apply(this,arguments)}),onApprove:(e=r(n().mark((function e(r,a){var t,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.order.capture();case 3:t=e.sent,console.log("âœ… Payment successful:",t),o.onSuccessCallback&&o.onSuccessCallback(t),(l=document.getElementById("paypal-overlay"))&&l.remove(),document.body.style.overflow="",e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("âŒ onApprove capture failed:",e.t0),o.onErrorCallback&&o.onErrorCallback(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(r,n){return e.apply(this,arguments)}),onError:function(e){console.error("âŒ PayPal error:",e),alert("âš ï¸ Something went wrong with PayPal. Please try again."),o.onErrorCallback&&o.onErrorCallback(e)}}).render("#paypal-button-container")},e}());o.BASE_URL="",o.playerId="",o.plays=0,o.amount=0,o.auctionHouseId="",o.onSuccessCallback=void 0,o.onErrorCallback=void 0,a._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerKeyboardHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealGameModel.ts","./EventManager.ts","./BigDealEvents.ts","./SocketEventHandler.ts","./LoginPopupManager.ts","./LanguageManager.ts"],(function(e){var t,i,n,s,r,a,l,u,o,c,d,m,b,h,g,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Label,u=e.Node,o=e.Prefab,c=e.Component},function(e){d=e.BigDealGameModel},function(e){m=e.default},function(e){b=e.StaticProperties,h=e.BigDealEvents},function(e){g=e.SocketEventHandler},function(e){p=e.LoginPopupManager},function(e){f=e.LanguageManager}],execute:function(){var N,v,M,_,y,L,B,P,D,x,w,H,S;r._RF.push({},"16e67mvbWdAwKpiur3eXQ7F","PlayerKeyboardHandler",void 0);var E=a.ccclass,C=a.property;e("PlayerKeyboardHandler",(N=E("PlayerKeyboardHandler"),v=C(l),M=C(u),_=C(o),y=C(g),L=C(p),N((D=t((P=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"selectedDataLabel",D,s(t)),n(t,"ismsgParent",x,s(t)),n(t,"ismsgPrefab",w,s(t)),n(t,"socketEventHandler",H,s(t)),n(t,"loginPopupManager",S,s(t)),t.selectedNumber="",t.selectedCashOutAmount=0,t.cashoutArray=[],t.minBidNumber=1,t.maxBidNumber=100,t.setMsg="",t}i(t,e);var r=t.prototype;return r.init=function(){var e,t;this.minBidNumber=null==(e=d.auctionHouseListResponse)||null==(e=e.data[b.auctionIndex])?void 0:e.min_bid_price,this.maxBidNumber=null==(t=d.auctionHouseListResponse)||null==(t=t.data[b.auctionIndex])?void 0:t.max_bid_price,this.selectedNumber="";var i=f.instance.t("Enter_Between");this.setMsg=i+" "+(this.minBidNumber+b.is_MinPrice)+" - "+(this.maxBidNumber-b.is_MinPrice),""==this.selectedNumber?this.selectedDataLabel.string=this.setMsg:this.selectedDataLabel.string=this.selectedNumber.toString(),this.selectedCashOutAmount=0},r.selectAuctionLabel=function(e){var t,i;this.minBidNumber=null==(t=d.auctionHouseListResponse)||null==(t=t.data[b.auctionIndex])?void 0:t.min_bid_price,this.maxBidNumber=null==(i=d.auctionHouseListResponse)||null==(i=i.data[b.auctionIndex])?void 0:i.max_bid_price,this.selectedNumber="";var n=f.instance.t("Enter_Between");this.setMsg=n+" "+(this.minBidNumber+b.is_MinPrice)+" - "+(this.maxBidNumber-b.is_MinPrice),this.setMsg&&(this.selectedDataLabel.string=this.setMsg),this.selectedDataLabel=e},r.onKeyClick=function(e,t){if("x"===t)this.selectedNumber.length>0&&(this.selectedNumber=this.selectedNumber.substring(0,this.selectedNumber.length-1),this.setSelectedDataLabel(this.selectedNumber));else{var i=this.selectedNumber+t;if((i.includes(".")&&1==i.length||i.includes("0")&&1==i.length)&&this.minBidNumber>=1){return void this.newerromessege("Cannot add first digits is point and 0")}if(this.selectedNumber.includes(".")&&this.selectedNumber.split(".")[1].length>=b.is_Decimal_Count&&"."!==t){var n="Cannot add more than "+b.is_Decimal_Count+" digits after the decimal point";return void this.newerromessege(n)}if("."===t&&this.selectedNumber.includes(".")){this.newerromessege("Selected Number already contains a decimal point")}else if(parseFloat(i)>=this.maxBidNumber){var s="Maximum Selected Number is "+(this.maxBidNumber-b.is_MinPrice)+".";this.newerromessege(s)}else this.selectedNumber=this.selectedNumber+t;this.setSelectedDataLabel(this.selectedNumber)}},r.onDone=function(){if(b.isLogin)if(this.selectedCashOutAmount<=this.minBidNumber){var e="Selected Number must be greater than or equal to "+(this.minBidNumber+b.is_MinPrice);this.newerromessege(e)}else this.socketEventHandler.onEnterBid(),this.selectedNumber="",this.selectedCashOutAmount=0;else this.loginPopupManager.init()},r.setSelectedDataLabel=function(e){this.selectedDataLabel.string=""==e?this.setMsg:e.toString(),this.selectedCashOutAmount=parseFloat(this.selectedDataLabel.string)},r.newerromessege=function(e){m.getDispatcher().emit(h.ERROR_MSG_NOTIFY,e||"")},t}(c)).prototype,"selectedDataLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(P.prototype,"ismsgParent",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(P.prototype,"ismsgPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(P.prototype,"socketEventHandler",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(P.prototype,"loginPopupManager",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=P))||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/ProfileUpdated.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CustomPopUp.ts","./APIManager.ts","./ApiUrls.ts","./BigDealGameModel.ts","./BigDealSocketManager.ts","./EditProfilePicture.ts","./IndexedDBManager.ts"],(function(e){var t,a,n,i,r,o,s,l,u,c,d,p,f,g,m,P,R,D,b,h,v,_,y,w,C,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,u=e.EditBox,c=e.Label,d=e.Prefab,p=e.Node,f=e.instantiate,g=e.v3,m=e.tween,P=e.Vec3,R=e.Component,D=e.director},function(e){b=e.CustomPopUp},function(e){h=e.APIManager,v=e.MethodType},function(e){_=e.API_URLS},function(e){y=e.BigDealGameModel},function(e){w=e.BigDealSocketManager},function(e){C=e.EditProfilePicture},function(e){S=e.IndexedDBManager}],execute:function(){var U,A,M,I,k,z,x,L,N,B,E,O,T,G,Z,j,V,F,q,H,J;s._RF.push({},"394d2L+xttIv5YZGLiAw9uG","ProfileUpdated",void 0);var Y=l.ccclass,$=l.property;e("ProfileUpdated",(U=Y("ProfileUpdated"),A=$(u),M=$(u),I=$(u),k=$(c),z=$(d),x=$(p),L=$(p),N=$(p),B=$(C),U((T=t((O=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"userName",T,i(t)),n(t,"referralCode",G,i(t)),n(t,"pinCode",Z,i(t)),n(t,"gender",j,i(t)),n(t,"customPopUp",V,i(t)),n(t,"gamePlayScreen",F,i(t)),n(t,"rewordPage",q,i(t)),n(t,"loginScreen",H,i(t)),n(t,"editProfilePicture",J,i(t)),t.isSendOtp=!1,t.isRewordPageActivate=!1,t}a(t,e);var s=t.prototype;return s.onEnable=function(){this.userName.string="",this.referralCode.string="",this.pinCode.string="",this.gender.string="MALE",y.loginDataResponse.data.first_name&&(this.userName.string=y.loginDataResponse.data.first_name),y.loginDataResponse.data.referral_code&&(this.referralCode.string=y.loginDataResponse.data.referral_code),y.loginDataResponse.data.gender&&(this.gender.string=y.loginDataResponse.data.gender),this.editProfilePicture.init()},s.onRegistrationClick=function(){var e=r(o().mark((function e(t,a){var n,i,r,s,l,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.userName.string,i=this.referralCode.string,r=this.pinCode.string,s=this.gender.string,!(""!=n&&n.length>5&&""!=r&&""!=s)){e.next=21;break}return e.prev=5,l={first_name:""+n,zipcode:""+r,gender:""+s,referral_code:""+i,avatar:""+this.editProfilePicture.selectAvatar},e.next=9,h.request(_.REGISTRATION+""+y.loginDataResponse.data.id,v.PUT,l,!0);case 9:u=e.sent,y.upDateProfileResponse=u,this.setData(),console.log("ProfileUpdated Res",u),this.isRewordPageActivate?(this.rewordPage.active=!0,this.node.active=!1):(w.clearInstance(),D.loadScene("MultipleAuction")),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),console.error("get ProfileUpdated Error",e.t0);case 19:e.next=22;break;case 21:this.getRegistrationAlertMessage(n,r);case 22:case"end":return e.stop()}}),e,this,[[5,16]])})));return function(t,a){return e.apply(this,arguments)}}(),s.setData=function(){y.loginDataResponse.data.email=y.upDateProfileResponse.data.email,y.loginDataResponse.data.first_name=y.upDateProfileResponse.data.first_name,y.loginDataResponse.data.last_name=y.upDateProfileResponse.data.last_name,y.loginDataResponse.data.mobile_no=y.upDateProfileResponse.data.mobile_no,y.loginDataResponse.data.avatar=y.upDateProfileResponse.data.avatar,y.loginDataResponse.data.referral_code=y.upDateProfileResponse.data.referral_code,y.loginDataResponse.data.wallet_address=y.upDateProfileResponse.data.aux_wallet_address,y.loginDataResponse.data.gender=y.upDateProfileResponse.data.gender,y.loginDataResponse.data.country=y.upDateProfileResponse.data.country,y.loginDataResponse.data.city=y.upDateProfileResponse.data.city,y.loginDataResponse.data.is_verified=y.upDateProfileResponse.data.is_verified,y.loginDataResponse.data.is_email_verified=y.upDateProfileResponse.data.is_email_verified,y.loginDataResponse.data.is_mobile_verified=y.upDateProfileResponse.data.is_mobile_verified;var e=new Object(y.loginDataResponse),t=JSON.stringify(e,null);y.loginDataResponse.data.is_verified&&(localStorage.setItem("PlayerLoginObj",t),S.inst.setItem("PlayerLoginObj",t))},s.getRegistrationAlertMessage=function(e,t){var a=this,n=f(this.customPopUp);n.setPosition(0,0),this.node.addChild(n);n.setScale(g(0)),n.getComponent(b).setCallback((function(e){a.setZoomOut(n)}),null);var i="";i=""==e?"User Name should not be empty.":""!=e&&e.length<=5?"UserName should be minimum 6 characters.":""!=t&&this.isValidPincode(t)?"Invalid PinCode.":"Something went wrong.",n.getComponent(b).Msg.string=i,n.getComponent(b).title.string="ALERT!!",this.setZoom(n)},s.onClickConfirm=function(e,t){},s.setZoomOut=function(e){m(e).to(.2,{scale:new P(0,0,1)}).destroySelf().start()},s.setZoom=function(e){e.setScale(P.ZERO),m(e).to(.2,{scale:new P(1.2,1.2,1.2)}).to(.1,{scale:new P(1,1,1)}).start()},s.isValidPincode=function(e){return/^[1-9][0-9]{5}$/.test(e)},s.onClickBack=function(){this.node.active=!1,this.loginScreen.active=!0},t}(R)).prototype,"userName",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(O.prototype,"referralCode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(O.prototype,"pinCode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(O.prototype,"gender",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(O.prototype,"customPopUp",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(O.prototype,"gamePlayScreen",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(O.prototype,"rewordPage",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(O.prototype,"loginScreen",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(O.prototype,"editProfilePicture",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=O))||E));s._RF.pop()}}}));

System.register("chunks:///_virtual/RewardScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealGameModel.ts","./BigDealEvents.ts"],(function(e){var t,r,n,a,i,l,o,u,c,p,s,f,d,b,m,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){o=e.cclegacy,u=e._decorator,c=e.Label,p=e.Button,s=e.Sprite,f=e.Prefab,d=e.Component},function(e){b=e.BigDealGameModel},function(e){m=e.StaticProperties,w=e.getPlayarToken}],execute:function(){var g,y,h,v,T,x,B,z,D,R,L,P,k,U,_,S,I,E,M,A,F,G,C,j,H,J,N;o._RF.push({},"0f3a1fDecJGCL9Rl+o259w3","RewardScene",void 0);var O=u.ccclass,q=u.property;e("RewardScene",(g=O("RewardScene"),y=q(c),h=q(c),v=q(p),T=q(c),x=q(p),B=q(p),z=q(p),D=q(c),R=q(c),L=q(s),P=q(c),k=q(f),g((S=t((_=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,n(t,"rewardTitleText",S,a(t)),n(t,"twitterTitleText",I,a(t)),n(t,"twitterButton",E,a(t)),n(t,"telegramTitleText",M,a(t)),n(t,"telegramButton",A,a(t)),n(t,"uploadProof",F,a(t)),n(t,"isDoItLater",G,a(t)),n(t,"creditMessege",C,a(t)),n(t,"walletBalance",j,a(t)),n(t,"uplodeImage",H,a(t)),n(t,"tempLabel",J,a(t)),n(t,"customPopUp",N,a(t)),t.formDataArr=[],t.formdata=null,t}r(t,e);var o=t.prototype;return o.onEnable=function(){var e;null!=(e=b.playerBalancesResponse)&&null!=(e=e.data)&&e.play_balance&&(this.walletBalance.string=b.playerBalancesResponse.data.play_balance)},o.uploadImageButtonTo=function(){var e=i(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.createElement("input")).type="file",t.accept="image/*",t.multiple=!0,t.style.display="none",t.addEventListener("change",i(l().mark((function e(r){var n,a,i,o,u,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=r.target.files)&&0!==n.length){e.next=4;break}return console.warn("No file selected."),e.abrupt("return");case 4:return a=new FormData,Array.from(n).forEach((function(e){a.append("media",e,e.name)})),e.prev=6,e.next=9,fetch(m.apiBaseURL+"v1/media/multiple",{method:"POST",headers:{Authorization:"Bearer "+w()},body:a});case 9:if((o=e.sent).ok){e.next=12;break}throw new Error("Upload failed: "+o.statusText);case 12:return e.next=14,o.json();case 14:u=e.sent,console.log("Uploaded successfully:",u),c=null==(i=u.data)?void 0:i.map((function(e){return e.uuid})),console.log("Uploaded UUIDs:",c),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(6),console.error("Upload failed:",e.t0);case 23:t.remove();case 24:case"end":return e.stop()}}),e,null,[[6,20]])})))),document.body.appendChild(t),t.click();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o.followTwitter=function(){var e=(screen.width-550)/2,t=(screen.height-420)/2;window.open("https://twitter.com/intent/follow?screen_name=auctionx_live","Follow @auctionx_live","width=550,height=420,top="+t+",left="+e)},t}(d)).prototype,"rewardTitleText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(_.prototype,"twitterTitleText",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(_.prototype,"twitterButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(_.prototype,"telegramTitleText",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(_.prototype,"telegramButton",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(_.prototype,"uploadProof",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(_.prototype,"isDoItLater",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(_.prototype,"creditMessege",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(_.prototype,"walletBalance",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(_.prototype,"uplodeImage",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(_.prototype,"tempLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(_.prototype,"customPopUp",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=_))||U));o._RF.pop()}}}));

System.register("chunks:///_virtual/ShippingDropdown.ts",["./rollupPluginModLoBabelHelpers.js","cc","./APIManager.ts","./ApiUrls.ts","./BigDealGameModel.ts"],(function(e){var t,n,i,o,r,s,l,a,c,u,d,p,h,f,b,w,g,m,v,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){l=e.cclegacy,a=e._decorator,c=e.Node,u=e.Label,d=e.EditBox,p=e.ScrollView,h=e.Prefab,f=e.Button,b=e.instantiate,w=e.Component},function(e){g=e.APIManager,m=e.MethodType},function(e){v=e.API_URLS},function(e){y=e.BigDealGameModel}],execute:function(){var L,B,C,x,D,P,S,_,k,I,z,O,T,E,R,N,V,A,K,M,U;l._RF.push({},"21ee5S9JVhP85VrtQu1z4ia","ShippingDropdown",void 0);var F=a.ccclass,G=a.property;e("ShippingDropdown",(L=F("ShippingDropdown"),B=G(c),C=G(u),x=G(c),D=G(d),P=G(p),S=G(c),_=G(h),k=G(d),I=G(f),L((T=t((O=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"selectedButton",T,o(t)),i(t,"selectedLabel",E,o(t)),i(t,"dropdownList",R,o(t)),i(t,"searchBox",N,o(t)),i(t,"scrollView",V,o(t)),i(t,"contentNode",A,o(t)),i(t,"optionPrefab",K,o(t)),i(t,"descriptionBox",M,o(t)),i(t,"submitButton",U,o(t)),t.options=[],t.filteredOptions=[],t.selectedValue="",t.selectedKey="",t.auction_Id="",t}n(t,e);var l=t.prototype;return l.onLoad=function(){this.dropdownList&&(this.dropdownList.active=!1),this.descriptionBox&&(this.descriptionBox.node.active=!0),this.submitButton&&(this.submitButton.node.active=!0,this.submitButton.interactable=!1,this.submitButton.node.on(f.EventType.CLICK,this.onSubmitClicked,this)),this.selectedButton&&this.selectedButton.on(f.EventType.CLICK,this.onSelectedClick,this),this.searchBox&&this.searchBox.node.on("text-changed",this.onSearchChanged,this)},l.setItems=function(){this.options=[{label:"Not Delivered",key:"not_delivered"},{label:"Wrong Product",key:"wrong_product"},{label:"Damaged Product",key:"damaged_product"},{label:"Other Issue",key:"other"}],this.filteredOptions=[].concat(this.options),this.refreshList(this.filteredOptions)},l.onSelectedClick=function(){if(this.dropdownList){var e=this.dropdownList.active;this.dropdownList.active=!e,e?this.hideDropdown():(this.selectedLabel&&(this.selectedLabel.node.active=!1),this.searchBox&&(this.searchBox.string="",this.searchBox.node.active=!0),this.refreshList(this.options))}},l.hideDropdown=function(){this.dropdownList&&(this.dropdownList.active=!1),this.searchBox&&(this.searchBox.node.active=!1),this.selectedLabel&&(this.selectedLabel.node.active=!0)},l.onSearchChanged=function(e){var t=e.string.toLowerCase();this.filteredOptions=this.options.filter((function(e){return e.label.toLowerCase().includes(t)})),this.refreshList(this.filteredOptions)},l.refreshList=function(e){var t=this;this.contentNode&&this.optionPrefab&&(this.contentNode.removeAllChildren(),e.forEach((function(e){var n=b(t.optionPrefab),i=n.getComponentInChildren(u);i&&(i.string=e.label);var o=n.getComponent(f);o&&(o.node.off(f.EventType.CLICK),o.node.on(f.EventType.CLICK,(function(){return t.onOptionClicked(e)}),t)),t.contentNode.addChild(n)})))},l.onOptionClicked=function(e){this.selectedValue=e.label,this.selectedKey=e.key,this.selectedLabel&&(this.selectedLabel.string=e.label),this.hideDropdown(),this.submitButton&&(this.submitButton.interactable=!0)},l.onSubmitClicked=function(){var e=r(s().mark((function e(){var t,n,i,o,r,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.descriptionBox?this.descriptionBox.string.trim():"",o=null==(t=y.auctionHouseResponse)||null==(t=t.data)||null==(t=t.currentAuctionHouse)?void 0:t.id,r=null==(n=y.loginDataResponse)||null==(n=n.data)?void 0:n.id,l={auction_house_id:o,auction_id:this.auction_Id,reported_by:r,conflict_type:this.selectedKey,description:i},console.log("[Dropdown Submit Data]",l),e.prev=5,e.next=8,this.submitProductConflict(l);case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(5),console.error("Submit failed:",e.t0),this.node.emit("dropdown-changed",l);case 14:case"end":return e.stop()}}),e,this,[[5,10]])})));return function(){return e.apply(this,arguments)}}(),l.submitProductConflict=function(){var e=r(s().mark((function e(t){var n,i,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.request(v.PRODUCT_DELIVERY_CONFLICT,m.POST,t,!0);case 3:if(null!=(n=e.sent)&&n.success){console.log("âœ… Conflict submitted successfully:",n);try{i=new URL(window.parent.location.href),o=""+i.origin,window.parent.location.href=o}catch(e){console.error("Please try again.")}}else console.warn("âš ï¸ Conflict submission failed:",(null==n?void 0:n.message)||"Unknown error");return e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),console.error("âŒ Error submitting conflict:",e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),t}(w)).prototype,"selectedButton",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(O.prototype,"selectedLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(O.prototype,"dropdownList",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(O.prototype,"searchBox",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(O.prototype,"scrollView",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(O.prototype,"contentNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(O.prototype,"optionPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(O.prototype,"descriptionBox",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(O.prototype,"submitButton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=O))||z));l._RF.pop()}}}));

System.register("chunks:///_virtual/ShippingStatus.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealEvents.ts","./EventManager.ts","./MyAuctionHistoryPrefab.ts","./APIManager.ts","./ApiUrls.ts","./MyAuctionManager.ts"],(function(e){var i,t,n,r,a,o,s,l,c,u,h,d,b,m,p,g,f,v,L,y,P,k;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,c=e.Node,u=e.Label,h=e.Color,d=e.UIOpacity,b=e.tween,m=e.Vec3,p=e.Component},function(e){g=e.BigDealEvents},function(e){f=e.default},function(e){v=e.ShippingClaimStatus},function(e){L=e.APIManager,y=e.MethodType},function(e){P=e.API_URLS},function(e){k=e.MyAuctionManager}],execute:function(){var w,D,N,B,A,G,S,C,_,M,R,z,I,E,T,x,O,U,F,Y,H;s._RF.push({},"b6599R11LVOirslmfsrqYe9","ShippingStatus",void 0);var V=l.ccclass,q=l.property;e("ShippingStatus",(w=V("ShippingStatus"),D=q(c),N=q(c),B=q(u),A=q(u),G=q(u),S=q(u),C=q(u),_=q(c),M=q(k),w((I=i((z=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return i=e.call.apply(e,[this].concat(a))||this,n(i,"mainPanel",I,r(i)),n(i,"bgNode",E,r(i)),n(i,"claimLabel",T,r(i)),n(i,"inProgressLabel",x,r(i)),n(i,"orderPlacedLabel",O,r(i)),n(i,"deliveredLabel",U,r(i)),n(i,"confirmButton",F,r(i)),n(i,"declined",Y,r(i)),n(i,"myAuctionManager",H,r(i)),i.isAnimating=!1,i.auction_id="",i}t(i,e);var s=i.prototype;return s.onLoad=function(){f.getDispatcher().on(v.Winging_Price_Status,this.init,this)},s.onDestroy=function(){f.getDispatcher().off(v.Winging_Price_Status,this.init,this)},s.setShippingStep=function(e){switch(this.resetAll(),e){case"claim":this.markGreen(this.claimLabel);break;case"inProcess":this.markGreen(this.claimLabel),this.markGreen(this.inProgressLabel);break;case"orderPlaced":this.markGreen(this.claimLabel),this.markGreen(this.inProgressLabel),this.markGreen(this.orderPlacedLabel);break;case"delivered":this.markGreen(this.claimLabel),this.markGreen(this.inProgressLabel),this.markGreen(this.orderPlacedLabel),this.markGreen(this.deliveredLabel);break;case"confirmed":this.markGreen(this.claimLabel),this.markGreen(this.inProgressLabel),this.markGreen(this.orderPlacedLabel),this.markGreen(this.deliveredLabel),this.markGreen(this.confirmButton);break;case"declined":this.markGreen(this.claimLabel),this.markGreen(this.inProgressLabel),this.markGreen(this.orderPlacedLabel),this.markGreen(this.deliveredLabel),this.confirmButton.node.active=!1,this.declined.active=!0;break;default:console.warn("Invalid step:",e)}},s.isConfirmed=function(){var e=a(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.out(),this.myAuctionManager.onAuctionClicked();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.getAuctionHouse=function(){var e=a(o().mark((function e(){var i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(a(o().mark((function e(t,n){var r,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.auction_id){e.next=4;break}return r="Auction ID not available. Please try again.",f.getDispatcher().emit(g.ERROR_MSG_NOTIFY,r),e.abrupt("return",n(new Error(r)));case 4:return a={auction_id:i.auction_id,delivery_status:"confirmed"},e.prev=5,e.next=8,L.request(P.DELIVERY_STATUS,y.POST,a,!0);case 8:s=e.sent,console.log("âœ… Delivery status response:",s),t(),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(5),console.error("âŒ API Error:",e.t0),f.getDispatcher().emit(g.ERROR_MSG_NOTIFY,"Please try again, something went wrong."),n(e.t0);case 18:case"end":return e.stop()}}),e,null,[[5,13]])})))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.markGreen=function(e){e&&(e.color=new h(0,200,0),e.node&&e.node.getChildByName("Done")&&(e.node.getChildByName("Done").active=!0))},s.resetAll=function(){var e=new h(255,255,255);this.claimLabel&&(this.claimLabel.color=e,this.claimLabel.node&&this.claimLabel.node.getChildByName("Done")&&(this.claimLabel.node.getChildByName("Done").active=!1)),this.inProgressLabel&&(this.inProgressLabel.color=e,this.inProgressLabel.node&&this.inProgressLabel.node.getChildByName("Done")&&(this.inProgressLabel.node.getChildByName("Done").active=!1)),this.orderPlacedLabel&&(this.orderPlacedLabel.color=e,this.orderPlacedLabel.node&&this.orderPlacedLabel.node.getChildByName("Done")&&(this.orderPlacedLabel.node.getChildByName("Done").active=!1)),this.deliveredLabel&&(this.deliveredLabel.color=e,this.deliveredLabel.node&&this.deliveredLabel.node.getChildByName("Done")&&(this.deliveredLabel.node.getChildByName("Done").active=!1)),this.confirmButton&&(this.deliveredLabel.color=e,this.confirmButton.node&&this.confirmButton.node.getChildByName("Done")&&(this.confirmButton.node.getChildByName("Done").active=!1)),this.declined&&(this.confirmButton.node.active=!0,this.declined.active=!1)},s.init=function(e,i){this.mainPanel.active=!1,this.auction_id=i,this.bgNode.active=!1,this.setShippingStep(e);var t=this.bgNode.getComponent(d);t&&(t.opacity=0),this.inPopUp()},s.inPopUp=function(){var e=this;if(this.bgNode.active=!0,!this.isAnimating&&this.mainPanel&&this.bgNode){this.isAnimating=!0,this.mainPanel.active=!0;var i=this.bgNode.getComponent(d);i&&(i.opacity=0,b(i).to(.3,{opacity:180}).start()),b(this.mainPanel).to(.3,{position:new m(0,0,0)}).call((function(){e.isAnimating=!1})).start()}},s.out=function(){var e=this;if(this.mainPanel&&this.bgNode){var i=this.bgNode.getComponent(d);i&&b(i).to(.3,{opacity:0}).call((function(){e.bgNode.active=!1})).start(),b(this.mainPanel).to(.3,{position:new m(0,-2e3,0)}).call((function(){e.mainPanel.active=!1,e.isAnimating=!1})).start()}},i}(p)).prototype,"mainPanel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(z.prototype,"bgNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(z.prototype,"claimLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(z.prototype,"inProgressLabel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(z.prototype,"orderPlacedLabel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(z.prototype,"deliveredLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(z.prototype,"confirmButton",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(z.prototype,"declined",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(z.prototype,"myAuctionManager",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=z))||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/ShowProfile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealGameModel.ts","./UpdateProfileKYC.ts","./AvatarIconsManager.ts","./BigDealEvents.ts","./AllBidHistoryManager.ts","./EventManager.ts"],(function(e){var i,t,a,l,n,r,o,u,c,s,p,f,d,b,h,g,m,y;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,o=e.Node,u=e.Label,c=e.Sprite,s=e.Component},function(e){p=e.BigDealGameModel},function(e){f=e.UpdateProfileKYC},function(e){d=e.AvatarIconsManager},function(e){b=e.BigDealClientEvents,h=e.BigDealEvents,g=e.StaticProperties},function(e){m=e.applyHighlight},function(e){y=e.default}],execute:function(){var v,P,C,L,w,_,B,z,D,R,I,k,A,E,M,N,U,S,x,T,Y,O,K,X,F,H,G,Z,j,q,J;n._RF.push({},"53e87SC8OZCXafnuE1tZXgX","ShowProfile",void 0);var Q=r.ccclass,V=r.property;e("ShowProfile",(v=Q("ShowProfile"),P=V(o),C=V(u),L=V(u),w=V(u),_=V(u),B=V(u),z=V(u),D=V(u),R=V(u),I=V(o),k=V(o),A=V(f),E=V(d),M=V(c),v((S=i((U=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i=e.call.apply(e,[this].concat(n))||this,a(i,"UiNode",S,l(i)),a(i,"walletAddressLabel",x,l(i)),a(i,"referralCodeLabel",T,l(i)),a(i,"playerIdLabel",Y,l(i)),a(i,"zipcodeLabel",O,l(i)),a(i,"emailLabel",K,l(i)),a(i,"PhoneNumber",X,l(i)),a(i,"usernameLabel",F,l(i)),a(i,"walletBalanceLabel",H,l(i)),a(i,"phoneButton",G,l(i)),a(i,"emailButton",Z,l(i)),a(i,"updateProfileKYC",j,l(i)),a(i,"avatarIconsManager",q,l(i)),a(i,"profileImage",J,l(i)),i.isEditProfileClicked=!1,i.isBuyMorePxClicked=!1,i}t(i,e);var n=i.prototype;return n.start=function(){this.UiNode.active=!1;var e=y.getDispatcher();e.on(b.CLS_AUCTION_CURRENT_PLAY,this.onAuctionCurrentPlay,this),e.on(h.PROFILE_UPDATE,this.showProfile,this)},n.onDestroy=function(){y.getDispatcher().off(b.CLS_AUCTION_CURRENT_PLAY,this.onAuctionCurrentPlay,this)},n.showProfile=function(){var e,i,t,a=p.loginDataResponse.data.avatar?p.loginDataResponse.data.avatar:"assets/avatar/1.png",l=g.apiBaseURL+a;this.avatarIconsManager.setAvatarIcon(l,this.profileImage),this.playerIdLabel.string=(null==(e=p.loginDataResponse)||null==(e=e.data)?void 0:e.user_id)||"-",this.UiNode.active=!0;var n=null==(i=p.loginDataResponse)?void 0:i.data,r=null==(t=p.playerBalancesResponse)||null==(t=t.data)?void 0:t.play_balance;this.phoneButton.active=!1,this.emailButton.active=!1,p.loginDataResponse.data.is_mobile_verified||(this.phoneButton.active=!0,n.mobile_no=""),p.loginDataResponse.data.is_email_verified||(this.emailButton.active=!0,n.email=""),m(this.usernameLabel,((n.first_name||"")+" "+(n.last_name||"")).trim()||"Profile Name",13,8,0),m(this.walletAddressLabel,n.aux_wallet_address||"-",12),m(this.referralCodeLabel,n.referral_code||"-",12),m(this.playerIdLabel,n.user_id||"-",12),m(this.zipcodeLabel,n.zipcode||"-",12),m(this.emailLabel,n.email||"",20),m(this.PhoneNumber,n.mobile_no||"",15),m(this.walletBalanceLabel,r||"0",12)},n.shortenString=function(e){return""+e},n.closeProfile=function(){this.UiNode.active=!1},n.onAuctionCurrentPlay=function(e){p.auctionCurrentPlay=e,null!=e&&e.play_balance&&(this.walletBalanceLabel.string=e.play_balance+"")},n.onEditProfile=function(){var e=this;this.isEditProfileClicked||(this.isEditProfileClicked=!0,console.log("Edit Profile clicked"),this.updateProfileKYC.onClick(),this.scheduleOnce((function(){e.isEditProfileClicked=!1}),1))},n.onBuyMorePx=function(){var e=this;this.isBuyMorePxClicked||(this.isBuyMorePxClicked=!0,console.log("Buy More PX clicked"),this.scheduleOnce((function(){e.isBuyMorePxClicked=!1}),1))},n.coppyTect=function(){var e,i=null==(e=p.loginDataResponse)||null==(e=e.data)?void 0:e.aux_wallet_address;i&&this.fallbackCopy(i)},n.coppyTectReferral=function(){var e,i=null==(e=p.loginDataResponse)||null==(e=e.data)?void 0:e.referral_code;i&&this.fallbackCopy(i)},n.fallbackCopy=function(e){var i=document.createElement("textarea");i.value=e,document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i),console.log("Copied using fallback:",e)},i}(s)).prototype,"UiNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(U.prototype,"walletAddressLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(U.prototype,"referralCodeLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(U.prototype,"playerIdLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(U.prototype,"zipcodeLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(U.prototype,"emailLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=i(U.prototype,"PhoneNumber",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(U.prototype,"usernameLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(U.prototype,"walletBalanceLabel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(U.prototype,"phoneButton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(U.prototype,"emailButton",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(U.prototype,"updateProfileKYC",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(U.prototype,"avatarIconsManager",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(U.prototype,"profileImage",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=U))||N));n._RF.pop()}}}));

System.register("chunks:///_virtual/ShowWining.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealGameModel.ts","./ApiUrls.ts","./APIManager.ts","./ClaimRewardPrize.ts","./BigDealEvents.ts","./LanguageManager.ts","./EventManager.ts","./ButtonComponentForChildNode.ts"],(function(i){var t,e,n,a,r,o,l,s,u,c,d,p,h,b,g,m,_,f,v,w,y,B,A,H,N;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,a=i.assertThisInitialized,r=i.asyncToGenerator,o=i.regeneratorRuntime},function(i){l=i.cclegacy,s=i._decorator,u=i.Label,c=i.Sprite,d=i.Prefab,p=i.Node,h=i.ParticleSystem2D,b=i.instantiate,g=i.Color,m=i.Component},function(i){_=i.BigDealGameModel},function(i){f=i.API_URLS},function(i){v=i.APIManager,w=i.MethodType},function(i){y=i.ClaimRewardPrize},function(i){B=i.BigDealEvents},function(i){A=i.LanguageManager},function(i){H=i.default},function(i){N=i.ButtonComponentForChildNode}],execute:function(){var P,z,L,R,C,q,E,D,I,S,x,U,M,W,O,k,T,F,G,j,Y,X,Q,J,K,V,Z,$,ii,ti,ei,ni,ai,ri,oi,li,si,ui,ci;l._RF.push({},"fe1750bRBtIfbwhOxmMbfUd","ShowWining",void 0);var di=s.ccclass,pi=s.property;i("ShowWining",(P=di("ShowWining"),z=pi(u),L=pi(c),R=pi(u),C=pi(u),q=pi(N),E=pi(d),D=pi(p),I=pi(u),S=pi(u),x=pi(u),U=pi(y),M=pi(p),W=pi(h),O=pi(p),k=pi(p),T=pi(p),F=pi(p),G=pi(p),P((X=t((Y=function(i){function t(){for(var t,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t=i.call.apply(i,[this].concat(r))||this,n(t,"wininHaderLabel",X,a(t)),n(t,"winingBase",Q,a(t)),n(t,"loseHaderLabel",J,a(t)),n(t,"buttonLable",K,a(t)),n(t,"submitButton",V,a(t)),n(t,"isHistoryPrefab",Z,a(t)),n(t,"isHistoryParent",$,a(t)),n(t,"winerName",ii,a(t)),n(t,"winingAmount",ti,a(t)),n(t,"winingAuction",ei,a(t)),n(t,"claimRewardPrize",ni,a(t)),t.isWining=!1,n(t,"uiNode",ai,a(t)),n(t,"particles",ri,a(t)),n(t,"allHistory",oi,a(t)),n(t,"uniqueHistory",li,a(t)),n(t,"lodingNode",si,a(t)),n(t,"getMoreButton",ui,a(t)),n(t,"winEffect",ci,a(t)),t.moreButton=null,t.auction_id="",t.pages=0,t.isUnique=!0,t.my_Index=0,t.auctionItem={},t}e(t,i);var l=t.prototype;return l.start=function(){H.getDispatcher().on(B.AUCTION_Claim,this.newAuctionButton,this)},l.onEnable=function(){this.isHistoryParent.removeAllChildren(),this.moreButton=null},l.updateLocalProfile=function(){var i=_.upDateProfileResponse.data,t=_.loginDataResponse.data;Object.assign(t,{first_name:i.first_name,last_name:i.last_name,email:i.email,mobile_no:i.mobile_no,avatar:i.avatar,referral_code:i.referral_code,wallet_address:i.wallet_address,gender:i.gender,country:i.country,city:i.city,zipcode:i.zipcode,is_verified:i.is_verified,user_id:i.user_id,aux_wallet_address:i.aux_wallet_address,is_mobile_verified:i.is_mobile_verified,is_email_verified:i.is_email_verified})},l.init=function(){var i,t;this.isWining=!1,this.wininHaderLabel.node.active=!1,this.loseHaderLabel.node.active=!1;var e=null==(i=_.auctionWinner)?void 0:i.winnerInfo,n=null==(t=_.loginDataResponse)?void 0:t.data.id;if(null!=e&&e.auction_id)try{this.auction_id=e.auction_id,this.showUinqueBid()}catch(i){console.error("getUniqueBidApi Error in init:",i)}var a=n===(null==e?void 0:e.player_id);if(this.auctionItem||(this.auctionItem={}),Object.assign(this.auctionItem,{auction_id:(null==e?void 0:e.auction_id)||"",player_id:(null==e?void 0:e.player_id)||"",status:a?"won":"lost",title:(null==e?void 0:e.auction_title)||"",product_name:(null==e?void 0:e.product_name)||"",winner_bid_value:(null==e?void 0:e.bid_price)||0,created_at:(null==e?void 0:e.created_at)||"",user_id:(null==e?void 0:e.user_id)||"",winner_player_name:(null==e?void 0:e.player_name)||"",product_price:(null==e?void 0:e.product_price)||0}),a){var r,o;this.wininHaderLabel.node.active=!0,this.winerName.string=A.instance.t("product_name_label")+((null==e?void 0:e.product_name)||"-"),this.winingAmount.string=A.instance.t("winning_bid_label")+((null==e||null==(r=e.bid_price)?void 0:r.toString())||"-"),this.winingAuction.string=A.instance.t("auction_name_label")+((null==e?void 0:e.auction_title)||"-");var l=this.parsentCalculation(null==e?void 0:e.product_price,null==e||null==(o=e.bid_price)?void 0:o.toString());this.submitButton.interactable=!0,l.success||H.getDispatcher().emit(B.ERROR_MSG_NOTIFY,l.message),this.wininHaderLabel.string=A.instance.t("hooray_you_win"),this.buttonLable.string=A.instance.t("claim_your_prize"),this.particles.forEach((function(i){try{null==i||i.resetSystem()}catch(i){console.warn("particle error")}})),this.isWining=!0}else{var s;this.loseHaderLabel.node.active=!0,this.winerName.string=A.instance.t("winner_label")+((null==e?void 0:e.user_id)||"-"),this.winingAmount.string=A.instance.t("bid_price_label")+((null==e||null==(s=e.bid_price)?void 0:s.toString())||"-"),this.winingAuction.string=A.instance.t("auction_name_label")+((null==e?void 0:e.auction_title)||"-"),this.loseHaderLabel.string=A.instance.t("hard_luck"),this.buttonLable.string=A.instance.t("participate_new_auction"),this.submitButton.interactable=!0}null!=e&&e.auction_id&&H.getDispatcher().emit(B.ON_AUCTION_COMPLETE,e.auction_id)},l.setAuctionWinnerData=function(i){var t;console.log("setAuctionWinnerData index",i);var e=_.myAuctionResponse.data[i];if(this.my_Index=i,this.auctionItem=e,this.isWining=!1,this.wininHaderLabel.node.active=!1,this.loseHaderLabel.node.active=!1,e.auction_id)try{this.auction_id=e.auction_id,this.showUinqueBid()}catch(i){console.error("getUniqueBidApi Error in init:",i)}if(this.winerName.string=A.instance.t("product_name_label")+((null==e?void 0:e.product_name)||"-"),this.winingAmount.string=A.instance.t("winning_bid_label")+((null==e||null==(t=e.winner_bid_value)?void 0:t.toString())||"-"),this.winingAuction.string=A.instance.t("auction_name_label")+((null==e?void 0:e.title)||"-"),"won"===e.status?(this.wininHaderLabel.node.active=!0,this.wininHaderLabel.string=A.instance.t("hooray_you_win"),this.winEffect.active=!0):(this.loseHaderLabel.node.active=!0,this.loseHaderLabel.string=A.instance.t("hard_luck"),this.winingAuction.string=A.instance.t("winner_label")+((null==e?void 0:e.user_id)||(null==e?void 0:e.winner_player_name)||"-"),this.winEffect.active=!1),"claim"===(null==e?void 0:e.delivery_status)&&"won"===e.status){this.parsentCalculation(e.product_price,e.winner_bid_value);this.submitButton.interactable=!0,this.buttonLable.string=A.instance.t("claim_your_prize"),this.isWining=!0,this.particles.forEach((function(i){try{null==i||i.resetSystem()}catch(i){console.warn("no particles play")}})),this.winEffect.active=!0}else this.buttonLable.string=A.instance.t("participate_new_auction"),this.submitButton.interactable=!0},l.showallBids=function(){this.allHistory.getComponent(c).enabled=!0,this.uniqueHistory.getComponent(c).enabled=!1,this.isHistoryParent.removeAllChildren(),this.moreButton=null,this.lodingNode.active=!0,this.pages=0,this.getUniqueBidApi(this.auction_id,!1)},l.showUinqueBid=function(){this.allHistory.getComponent(c).enabled=!1,this.uniqueHistory.getComponent(c).enabled=!0,this.isHistoryParent.removeAllChildren(),this.moreButton=null,this.lodingNode.active=!0,this.getUniqueBidApi(this.auction_id)},l.newAuctionButton=function(i){this.isWining&&(this.isWining=!1),this.buttonLable.string=A.instance.t("participate_new_auction"),this.submitButton.interactable=!0},l.getUniqueBidApi=function(){var i=r(o().mark((function i(t,e,n){var a,r,l;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return void 0===e&&(e=!0),void 0===n&&(n=0),i.prev=2,r={is_unique:e,page:n,limit:30},this.isUnique=e,i.next=7,v.request(f.UNIQUE_BIDS+""+t,w.POST,r,!0);case 7:l=i.sent,_.uniqueBidApiResponse=l,(null==(a=_.uniqueBidApiResponse)||null==(a=a.data.data)?void 0:a.length)>0?this.setHistoryData():this.lodingNode.active=!1,_.uniqueBidApiResponse.data.totalPages<=this.pages&&this.moreButton?this.moreButton.active=!1:this.moreButton&&(this.moreButton.active=!0),i.next=17;break;case 13:throw i.prev=13,i.t0=i.catch(2),console.error("uniquebidswin Error",i.t0),i.t0;case 17:case"end":return i.stop()}}),i,this,[[2,13]])})));return function(t,e,n){return i.apply(this,arguments)}}(),l.onclickMoreButton=function(){_.uniqueBidApiResponse.data.totalPages>this.pages&&(this.pages++,this.getUniqueBidApi(this.auction_id,this.isUnique,this.pages))},l.onClickNextAuction=function(){var i=this;if(this.submitButton.interactable=!1,this.isWining){var t=this.auctionItem;this.claimRewardPrize.init(t)}else H.getDispatcher().emit(B.REDIRECT_TO_HOME),this.node.active=!1;this.scheduleOnce((function(){i.submitButton.interactable=!0}),2)},l.setHistoryData=function(){var i=r(o().mark((function i(){var t,e,n,a,r,l,s,c,d;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:this.lodingNode.active=!1,!this.moreButton&&(null==(t=_.uniqueBidApiResponse)?void 0:t.data.totalPages)>1&&(e=b(this.getMoreButton),this.isHistoryParent.addChild(e),e.setSiblingIndex(0),this.moreButton=e),n=0;case 3:if(!(n<(null==(a=_.uniqueBidApiResponse)?void 0:a.data.data.length))){i.next=13;break}return c=null==(r=_.uniqueBidApiResponse)?void 0:r.data.data[n],i.next=7,this.newHistoryNode();case 7:(d=i.sent).getChildByName("Amount").getComponent(u).string=(null==c||null==(l=c.bid_price)?void 0:l.toString())||"",d.getChildByName("PlayrName").getComponent(u).string=(null==c||null==(s=c.user_id)?void 0:s.toString())||(null==c?void 0:c.player_name);case 10:n++,i.next=3;break;case 13:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}(),l.newHistoryNode=function(){var i=this;return new Promise((function(t,e){try{var n=b(i.isHistoryPrefab);i.isHistoryParent.addChild(n),n.setSiblingIndex(0),t(n)}catch(i){console.error("newBidHistoryNode",i),e(i)}}))},l.parsentCalculation=function(i,t){var e,n,a=Number(null!=(e=null==(n=_.playerBalancesResponse)||null==(n=n.data)?void 0:n.play_balance)?e:0),r=Number(t);if(isNaN(i)||isNaN(r))return{success:!1,message:"Invalid input values.",color:g.RED};var o=i*(100-r)/100;return a>=o?{success:!0,message:"You can claim your prize! Required XP: "+o.toFixed(0),color:g.GREEN}:{success:!1,message:"You need "+(o-a).toFixed(2)+" more XP to claim your prize.",color:g.RED}},t}(m)).prototype,"wininHaderLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(Y.prototype,"winingBase",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(Y.prototype,"loseHaderLabel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(Y.prototype,"buttonLable",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(Y.prototype,"submitButton",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(Y.prototype,"isHistoryPrefab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(Y.prototype,"isHistoryParent",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ii=t(Y.prototype,"winerName",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ti=t(Y.prototype,"winingAmount",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ei=t(Y.prototype,"winingAuction",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ni=t(Y.prototype,"claimRewardPrize",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ai=t(Y.prototype,"uiNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ri=t(Y.prototype,"particles",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oi=t(Y.prototype,"allHistory",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),li=t(Y.prototype,"uniqueHistory",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),si=t(Y.prototype,"lodingNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ui=t(Y.prototype,"getMoreButton",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ci=t(Y.prototype,"winEffect",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=Y))||j));l._RF.pop()}}}));

System.register("chunks:///_virtual/SlotBaseTutorial.ts",["./rollupPluginModLoBabelHelpers.js","cc","./msgBox.ts","./TutorialItem.ts","./EventManager.ts"],(function(t){var e,i,n,o,s,a,r,l,c,u,p,h,d,g,m,x,w,f,k;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,r=t.Node,l=t.Label,c=t.Vec3,u=t.Vec2,p=t.Widget,h=t.v2,d=t.tween,g=t.UITransform,m=t.Button,x=t.Component},function(t){w=t.msgBox},function(t){f=t.TutorialItem},function(t){k=t.default}],execute:function(){var y,b,B,M,N,R,T,z,v,S,L,P,D,C,I,A,V,F,O,W,X,E,H;s._RF.push({},"d1f12oYaWlHY6EKI4uNVVjb","SlotBaseTutorial",void 0);var _=a.ccclass,j=a.property,G=function(t){return t[t.circle=0]="circle",t[t.rectangle=1]="rectangle",t}(G||{});t("SlotBaseTutorial",(y=_("SlotBaseTutorial"),b=j(r),B=j(l),M=j(r),N=j(r),R=j(r),T=j(r),z=j(r),v=j(r),S=j(r),L=j(r),y((C=e((D=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,n(e,"maskNode",C,o(e)),n(e,"BtnLbl",I,o(e)),n(e,"ndMsgBox",A,o(e)),n(e,"skipBtn",V,o(e)),n(e,"nextBtn",F,o(e)),n(e,"replayNode",O,o(e)),n(e,"skipBtnNode",W,o(e)),n(e,"NextBtnNode",X,o(e)),n(e,"skipBtnNodeTop",E,o(e)),n(e,"NextBtnNodeTop",H,o(e)),e.index=0,e.msgNode=null,e.isMoving=!1,e.msgPopUp=null,e.currentMaskType=G.circle,e.isFirstTime=!0,e.positionArray=["bottomRight","bottomLeft","topLeft","topRight","topMiddle","bottomMiddle"],e.tutorialStep=[{pos:new c(0,0,0),time:.5,tag:"R",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"L",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"R",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"R",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"R",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"L-1",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"R-1",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"R",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"L",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"L-1",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"L",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"R",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"R",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"R",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"L-1",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"R-1",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"R",text:"",size:new u(0,0),isMaskRect:!1},{pos:new c(0,0,0),time:.5,tag:"L",text:"",size:new u(0,0),isMaskRect:!1}],e.tutorialData={AuctionPin:"Select an auction from the list to continue with your bidding.",Auction:"To open the bidding screen, click the Auction Title",KeyBord:"Enter your bid here.",Balance:"Current wallet balance",Login:"Log in and access your account.",Menu:"Access the main menu with multiple options",Home:"Back to the home screen.",MyBids:"View all the bids you've placed in different auctions.",Redeem:"Redeem your rewards or XP.","How to":"Learn how the auctions work",LogOut:"Log out of your account safely.",SoundNoOff:"Toggle the game sounds On/Off",CloseButton:"Close the current panel or window using this button.",MyProfile:"View/Edit your profile",BuyXP:"Purchase XP ",Transactions:"Past transactions and history log",TransferXP:"Transfer XP to other users",MyAuction:"See your auctions"},e}i(e,t);var s=e.prototype;return s.start=function(){},s.init=function(){this.index=0,this.BtnLbl.string="Next",this.gettingTutorialData(),this.node.active=!0,this.node.getComponent(p).updateAlignment()},s.gettingTutorialData=function(t){void 0===t&&(t=!1);try{for(var e=0;e<this.replayNode.length;e++){this.replayNode[e].active=!1;var i=this.replayNode[e].getComponent(f);this.tutorialStep[e].pos=this.replayNode[e].getWorldPosition(),this.tutorialStep[e].text=this.tutorialData[""+i.key],this.tutorialStep[e].size=h(0,0),this.tutorialStep[e].isMaskRect=i.isMaskRect,this.tutorialStep[e].tag=this.positionArray[i.tag],this.tutorialStep[e].time=i.time?i.time:.5,console.log("this.tutorialStep",this.tutorialStep)}}catch(t){console.log("Tutorial error: ",t)}d(this.maskNode[this.currentMaskType]).to(.8,{scale:new c(1.2,1.2,0)},{easing:"backIn"}).to(.8,{scale:new c(1,1,0)},{easing:"backIn"}).start(),t||this.onNextBtn(null,null)},s.onNextBtn=function(t,e,i){var n=this;void 0===i&&(i=!1),this.isFirstTime||this.gettingTutorialData(!0),this.isFirstTime=!1;try{var o=this;if(this.replayNode[o.index-1]&&(this.replayNode[o.index-1].active=!1),10==o.index&&k.getDispatcher().emit("openMenu"),(o.index<1||10==o.index)&&(this.skipBtn.setPosition(this.skipBtnNode.position),this.nextBtn.setPosition(this.NextBtnNode.position)),6!=o.index&&17!=o.index||(this.skipBtn.setPosition(this.skipBtnNodeTop.position),this.nextBtn.setPosition(this.NextBtnNodeTop.position)),"Got It"==this.BtnLbl.string)return k.getDispatcher().emit("closeMenu"),void(this.node.active=!1);this.ndMsgBox.getComponent(w).setDefault(),3==this.index||4==this.index?this.tutorialStep[this.index].pos=this.replayNode[this.index].getWorldPosition().add(new c(0,-130,0)):this.tutorialStep[this.index].pos=this.replayNode[this.index].getWorldPosition(),this.tutorialStep[o.index].isMaskRect?(this.currentMaskType=G.rectangle,this.maskNode[G.circle].active=!1,this.maskNode[G.circle].worldPosition=this.tutorialStep[this.index].pos):(this.maskNode[G.rectangle].active=!1,this.maskNode[G.rectangle].worldPosition=this.tutorialStep[this.index].pos,this.currentMaskType=G.circle),this.maskNode[this.currentMaskType].active=!0,this.replayNode[o.index].active=!0,d(this.maskNode[this.currentMaskType]).to(.8,{scale:new c(1.2,1.2,0)},{easing:"backIn"}).to(.8,{scale:new c(1,1,0)},{easing:"backIn"}).start();var s=this.tutorialStep[this.index].size.x>0?this.tutorialStep[this.index].size:new u(0,0);if(o.maskNode[this.currentMaskType].getComponent(g).setContentSize(s.x,s.y),this.nextButtonInteractable(!1),this.isMoving)return;this.isMoving=!0;var a=this.tutorialStep[this.index];this.replayNode.length-1==this.index&&(this.BtnLbl.string="Got It"),d(this.maskNode[this.currentMaskType]).to(parseFloat(a.time.toString()),{worldPosition:a.pos},{easing:"backOut"}).call((function(){o.maskNode[n.currentMaskType].getComponent(g).setContentSize(s.x,s.y)})).call((function(){o.setDetailData(a)})).start(),i||this.index++}catch(t){console.log("Tutorial error: ",t)}},s.setDetailData=function(t){var e=this;this.ndMsgBox.getComponent(w).setinitView(t.pos,t.text,t.tag),this.isMoving=!1,this.scheduleOnce((function(){e.nextButtonInteractable(!0)}),1)},s.nextButtonInteractable=function(t){this.nextBtn.getComponent(m).interactable=t},s.onSkipClick=function(t,e){k.getDispatcher().emit("closeMenu"),this.node.active=!1},e}(x)).prototype,"maskNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=e(D.prototype,"BtnLbl",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(D.prototype,"ndMsgBox",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(D.prototype,"skipBtn",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(D.prototype,"nextBtn",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(D.prototype,"replayNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=e(D.prototype,"skipBtnNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(D.prototype,"NextBtnNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(D.prototype,"skipBtnNodeTop",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(D.prototype,"NextBtnNodeTop",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=D))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/Socket_Io.js",["./cjs-loader.mjs"],(function(t,e){var n;return{setters:[function(t){n=t.default}],execute:function(){t("default",void 0);var r=t("__cjsMetaURL",e.meta.url);n.define(r,(function(e,n,r,o,i){var s,c;s=self,c=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=18)}([function(t,e,n){var r=n(24),o=n(25),i=String.fromCharCode(30);t.exports={protocol:4,encodePacket:r,encodePayload:function(t,e){var n=t.length,o=new Array(n),s=0;t.forEach((function(t,c){r(t,!1,(function(t){o[c]=t,++s===n&&e(o.join(i))}))}))},decodePacket:o,decodePayload:function(t,e){for(var n=t.split(i),r=[],s=0;s<n.length;s++){var c=o(n[s],e);if(r.push(c),"error"===c.type)break}return r}}},function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<r.length;o++)if((n=r[o])===e||n.fn===e){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){t.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var a=n(0),u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(r,t);var e,n=i(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this)).opts=t,e.query=t.query,e.readyState="",e.socket=t.socket,e}return(e=[{key:"onError",value:function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this}},{key:"open",value:function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,this.emit("open")}},{key:"onData",value:function(t){var e=a.decodePacket(t,this.socket.binaryType);this.onPacket(e)}},{key:"onPacket",value:function(t){this.emit("packet",t)}},{key:"onClose",value:function(){this.readyState="closed",this.emit("close")}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(r.prototype,e),r}(n(1));t.exports=u},function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}Object.defineProperty(e,"__esModule",{value:!0}),e.Decoder=e.Encoder=e.PacketType=e.protocol=void 0;var p,l=n(1),h=n(30),y=n(15);e.protocol=5,function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(p=e.PacketType||(e.PacketType={}));var d=function(){function t(){a(this,t)}return f(t,[{key:"encode",value:function(t){return t.type!==p.EVENT&&t.type!==p.ACK||!y.hasBinary(t)?[this.encodeAsString(t)]:(t.type=t.type===p.EVENT?p.BINARY_EVENT:p.BINARY_ACK,this.encodeAsBinary(t))}},{key:"encodeAsString",value:function(t){var e=""+t.type;return t.type!==p.BINARY_EVENT&&t.type!==p.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data)),e}},{key:"encodeAsBinary",value:function(t){var e=h.deconstructPacket(t),n=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(n),r}}]),t}();e.Encoder=d;var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}(n);function n(){return a(this,n),e.call(this)}return f(n,[{key:"add",value:function(t){var e;if("string"==typeof t)(e=this.decodeString(t)).type===p.BINARY_EVENT||e.type===p.BINARY_ACK?(this.reconstructor=new b(e),0===e.attachments&&o(c(n.prototype),"emit",this).call(this,"decoded",e)):o(c(n.prototype),"emit",this).call(this,"decoded",e);else{if(!y.isBinary(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(e=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,o(c(n.prototype),"emit",this).call(this,"decoded",e))}}},{key:"decodeString",value:function(t){var e=0,r={type:Number(t.charAt(0))};if(void 0===p[r.type])throw new Error("unknown packet type "+r.type);if(r.type===p.BINARY_EVENT||r.type===p.BINARY_ACK){for(var o=e+1;"-"!==t.charAt(++e)&&e!=t.length;);var i=t.substring(o,e);if(i!=Number(i)||"-"!==t.charAt(e))throw new Error("Illegal attachments");r.attachments=Number(i)}if("/"===t.charAt(e+1)){for(var s=e+1;++e&&","!==t.charAt(e)&&e!==t.length;);r.nsp=t.substring(s,e)}else r.nsp="/";var c=t.charAt(e+1);if(""!==c&&Number(c)==c){for(var a=e+1;++e;){var u=t.charAt(e);if(null==u||Number(u)!=u){--e;break}if(e===t.length)break}r.id=Number(t.substring(a,e+1))}if(t.charAt(++e)){var f=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(e));if(!n.isPayloadValid(r.type,f))throw new Error("invalid payload");r.data=f}return r}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(t,e){switch(t){case p.CONNECT:return"object"===r(e);case p.DISCONNECT:return void 0===e;case p.CONNECT_ERROR:return"string"==typeof e||"object"===r(e);case p.EVENT:case p.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case p.ACK:case p.BINARY_ACK:return Array.isArray(e)}}}]),n}(l);e.Decoder=v;var b=function(){function t(e){a(this,t),this.packet=e,this.buffers=[],this.reconPack=e}return f(t,[{key:"takeBinaryData",value:function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),t}()},function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,o=t.indexOf("["),i=t.indexOf("]");-1!=o&&-1!=i&&(t=t.substring(0,o)+t.substring(o,i).replace(/:/g,";")+t.substring(i,t.length));for(var s,c,a=n.exec(t||""),u={},f=14;f--;)u[r[f]]=a[f]||"";return-1!=o&&-1!=i&&(u.source=e,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u.pathNames=function(t,e){var n=e.replace(/\/{2,9}/g,"/").split("/");return"/"!=e.substr(0,1)&&0!==e.length||n.splice(0,1),"/"==e.substr(e.length-1,1)&&n.splice(n.length-1,1),n}(0,u.path),u.queryKey=(s=u.query,c={},s.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,n){e&&(c[e]=n)})),c),u}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.Manager=void 0;var a=n(20),u=n(14),f=n(5),p=n(16),l=n(31),h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(s,t);var e,n=i(s);function s(t,e){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(o=n.call(this)).nsps={},o.subs=[],t&&"object"===r(t)&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",o.opts=e,o.reconnection(!1!==e.reconnection),o.reconnectionAttempts(e.reconnectionAttempts||1/0),o.reconnectionDelay(e.reconnectionDelay||1e3),o.reconnectionDelayMax(e.reconnectionDelayMax||5e3),o.randomizationFactor(e.randomizationFactor||.5),o.backoff=new l({min:o.reconnectionDelay(),max:o.reconnectionDelayMax(),jitter:o.randomizationFactor()}),o.timeout(null==e.timeout?2e4:e.timeout),o._readyState="closed",o.uri=t;var i=e.parser||f;return o.encoder=new i.Encoder,o.decoder=new i.Decoder,o._autoConnect=!1!==e.autoConnect,o._autoConnect&&o.open(),o}return(e=[{key:"reconnection",value:function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}},{key:"reconnectionAttempts",value:function(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}},{key:"reconnectionDelay",value:function(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}},{key:"randomizationFactor",value:function(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}},{key:"reconnectionDelayMax",value:function(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}},{key:"timeout",value:function(t){return arguments.length?(this._timeout=t,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(t){var e=this;if(~this._readyState.indexOf("open"))return this;this.engine=a(this.uri,this.opts);var n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;var o=p.on(n,"open",(function(){r.onopen(),t&&t()})),i=p.on(n,"error",(function(n){r.cleanup(),r._readyState="closed",e.emitReserved("error",n),t?t(n):r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var s=this._timeout;0===s&&o();var c=setTimeout((function(){o(),n.close(),n.emit("error",new Error("timeout"))}),s);this.opts.autoUnref&&c.unref(),this.subs.push((function(){clearTimeout(c)}))}return this.subs.push(o),this.subs.push(i),this}},{key:"connect",value:function(t){return this.open(t)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var t=this.engine;this.subs.push(p.on(t,"ping",this.onping.bind(this)),p.on(t,"data",this.ondata.bind(this)),p.on(t,"error",this.onerror.bind(this)),p.on(t,"close",this.onclose.bind(this)),p.on(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(t){this.decoder.add(t)}},{key:"ondecoded",value:function(t){this.emitReserved("packet",t)}},{key:"onerror",value:function(t){this.emitReserved("error",t)}},{key:"socket",value:function(t,e){var n=this.nsps[t];return n||(n=new u.Socket(this,t,e),this.nsps[t]=n),n}},{key:"_destroy",value:function(t){for(var e=0,n=Object.keys(this.nsps);e<n.length;e++){var r=n[e];if(this.nsps[r].active)return}this._close()}},{key:"_packet",value:function(t){for(var e=this.encoder.encode(t),n=0;n<e.length;n++)this.engine.write(e[n],t.options)}},{key:"cleanup",value:function(){this.subs.forEach((function(t){return t()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,"opening"===this._readyState&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var t=this;if(this._reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();this._reconnecting=!0;var r=setTimeout((function(){e.skipReconnect||(t.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((function(n){n?(e._reconnecting=!1,e.reconnect(),t.emitReserved("reconnect_error",n)):e.onreconnect()})))}),n);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}}},{key:"onreconnect",value:function(){var t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(s.prototype,e),s}(n(17).StrictEventEmitter);e.Manager=h},function(t,e,n){var r=n(9),o=n(23),i=n(27),s=n(28);e.polling=function(t){var e=!1,n=!1,s=!1!==t.jsonp;if("undefined"!=typeof location){var c="https:"===location.protocol,a=location.port;a||(a=c?443:80),e=t.hostname!==location.hostname||a!==t.port,n=t.secure!==c}if(t.xdomain=e,t.xscheme=n,"open"in new r(t)&&!t.forceJSONP)return new o(t);if(!s)throw new Error("JSONP disabled");return new i(t)},e.websocket=s},function(t,e,n){var r=n(22),o=n(2);t.exports=function(t){var e=t.xdomain,n=t.xscheme,i=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||r))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(t){}if(!e)try{return new(o[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=n(3),f=n(4),p=n(0),l=n(12),h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(r,t);var e,n=s(r);function r(){return o(this,r),n.apply(this,arguments)}return(e=[{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(t){var e=this;function n(){e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(r++,this.once("pollComplete",(function(){--r||n()}))),this.writable||(r++,this.once("drain",(function(){--r||n()})))}else n()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emit("poll")}},{key:"onData",value:function(t){var e=this;p.decodePayload(t,this.socket.binaryType).forEach((function(t,n,r){if("opening"===e.readyState&&"open"===t.type&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())}},{key:"doClose",value:function(){var t=this;function e(){t.write([{type:"close"}])}"open"===this.readyState?e():this.once("open",e)}},{key:"write",value:function(t){var e=this;this.writable=!1,p.encodePayload(t,(function(t){e.doWrite(t,(function(){e.writable=!0,e.emit("drain")}))}))}},{key:"uri",value:function(){var t=this.query||{},e=this.opts.secure?"https":"http",n="";return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=l()),this.supportsBinary||t.sid||(t.b64=1),t=f.encode(t),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),t.length&&(t="?"+t),e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+t}},{key:"name",get:function(){return"polling"}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(r.prototype,e),r}(u);t.exports=h},function(t,e){var n=Object.create(null);n.open="0",n.close="1",n.ping="2",n.pong="3",n.message="4",n.upgrade="5",n.noop="6";var r=Object.create(null);Object.keys(n).forEach((function(t){r[n[t]]=t})),t.exports={PACKET_TYPES:n,PACKET_TYPES_REVERSE:r,ERROR_PACKET:{type:"error",data:"parser error"}}},function(t,e,n){var r,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i={},s=0,c=0;function a(t){var e="";do{e=o[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function u(){var t=a(+new Date);return t!==r?(s=0,r=t):t+"."+a(s++)}for(;c<64;c++)i[o[c]]=c;u.encode=a,u.decode=function(t){var e=0;for(c=0;c<t.length;c++)e=64*e+i[t.charAt(c)];return e},t.exports=u},function(t,e){t.exports.pick=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce((function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e}),{})}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){a=!0,s=t},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw s}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.Socket=void 0;var p=n(5),l=n(16),h=n(17),y=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(r,t);var e,n=a(r);function r(t,e,o){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(i=n.call(this)).receiveBuffer=[],i.sendBuffer=[],i.ids=0,i.acks={},i.flags={},i.io=t,i.nsp=e,i.ids=0,i.acks={},i.receiveBuffer=[],i.sendBuffer=[],i.connected=!1,i.disconnected=!0,i.flags={},o&&o.auth&&(i.auth=o.auth),i.io._autoConnect&&i.open(),i}return(e=[{key:"subEvents",value:function(){if(!this.subs){var t=this.io;this.subs=[l.on(t,"open",this.onopen.bind(this)),l.on(t,"packet",this.onpacket.bind(this)),l.on(t,"error",this.onerror.bind(this)),l.on(t,"close",this.onclose.bind(this))]}}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.unshift("message"),this.emit.apply(this,e),this}},{key:"emit",value:function(t){if(y.hasOwnProperty(t))throw new Error('"'+t+'" is a reserved event name');for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];n.unshift(t);var o={type:p.PacketType.EVENT,data:n,options:{}};o.options.compress=!1!==this.flags.compress,"function"==typeof n[n.length-1]&&(this.acks[this.ids]=n.pop(),o.id=this.ids++);var i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,s=this.flags.volatile&&(!i||!this.connected);return s||(this.connected?this.packet(o):this.sendBuffer.push(o)),this.flags={},this}},{key:"packet",value:function(t){t.nsp=this.nsp,this.io._packet(t)}},{key:"onopen",value:function(){var t=this;"function"==typeof this.auth?this.auth((function(e){t.packet({type:p.PacketType.CONNECT,data:e})})):this.packet({type:p.PacketType.CONNECT,data:this.auth})}},{key:"onerror",value:function(t){this.connected||this.emitReserved("connect_error",t)}},{key:"onclose",value:function(t){this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",t)}},{key:"onpacket",value:function(t){if(t.nsp===this.nsp)switch(t.type){case p.PacketType.CONNECT:if(t.data&&t.data.sid){var e=t.data.sid;this.onconnect(e)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case p.PacketType.EVENT:case p.PacketType.BINARY_EVENT:this.onevent(t);break;case p.PacketType.ACK:case p.PacketType.BINARY_ACK:this.onack(t);break;case p.PacketType.DISCONNECT:this.ondisconnect();break;case p.PacketType.CONNECT_ERROR:var n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n)}}},{key:"onevent",value:function(t){var e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}},{key:"emitEvent",value:function(t){if(this._anyListeners&&this._anyListeners.length){var e,n=o(this._anyListeners.slice());try{for(n.s();!(e=n.n()).done;)e.value.apply(this,t)}catch(t){n.e(t)}finally{n.f()}}s(f(r.prototype),"emit",this).apply(this,t)}},{key:"ack",value:function(t){var e=this,n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];e.packet({type:p.PacketType.ACK,id:t,data:o})}}}},{key:"onack",value:function(t){var e=this.acks[t.id];"function"==typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}},{key:"onconnect",value:function(t){this.id=t,this.connected=!0,this.disconnected=!1,this.emitReserved("connect"),this.emitBuffered()}},{key:"emitBuffered",value:function(){var t=this;this.receiveBuffer.forEach((function(e){return t.emitEvent(e)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(e){return t.packet(e)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(t){return t()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:p.PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(t){return this.flags.compress=t,this}},{key:"onAny",value:function(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}},{key:"prependAny",value:function(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}},{key:"offAny",value:function(t){if(!this._anyListeners)return this;if(t){for(var e=this._anyListeners,n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}},{key:"active",get:function(){return!!this.subs}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(r.prototype,e),r}(h.StrictEventEmitter);e.Socket=d},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.hasBinary=e.isBinary=void 0;var o="function"==typeof ArrayBuffer,i=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),c="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);function a(t){return o&&(t instanceof ArrayBuffer||function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer}(t))||s&&t instanceof Blob||c&&t instanceof File}e.isBinary=a,e.hasBinary=function t(e,n){if(!e||"object"!==r(e))return!1;if(Array.isArray(e)){for(var o=0,i=e.length;o<i;o++)if(t(e[o]))return!0;return!1}if(a(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return t(e.toJSON(),!0);for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return!0;return!1}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.on=void 0,e.on=function(t,e,n){return t.on(e,n),function(){t.off(e,n)}}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.StrictEventEmitter=void 0;var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(r,t);var e,n=c(r);function r(){return o(this,r),n.apply(this,arguments)}return(e=[{key:"on",value:function(t,e){return i(u(r.prototype),"on",this).call(this,t,e),this}},{key:"once",value:function(t,e){return i(u(r.prototype),"once",this).call(this,t,e),this}},{key:"emit",value:function(t){for(var e,n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];return(e=i(u(r.prototype),"emit",this)).call.apply(e,[this,t].concat(o)),this}},{key:"emitReserved",value:function(t){for(var e,n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];return(e=i(u(r.prototype),"emit",this)).call.apply(e,[this,t].concat(o)),this}},{key:"listeners",value:function(t){return i(u(r.prototype),"listeners",this).call(this,t)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(r.prototype,e),r}(n(1));e.StrictEventEmitter=f},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.Socket=e.io=e.Manager=e.protocol=void 0;var o=n(19),i=n(7),s=n(14);Object.defineProperty(e,"Socket",{enumerable:!0,get:function(){return s.Socket}}),t.exports=e=a;var c=e.managers={};function a(t,e){"object"===r(t)&&(e=t,t=void 0),e=e||{};var n,s=o.url(t,e.path),a=s.source,u=s.id,f=s.path,p=c[u]&&f in c[u].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||p?n=new i.Manager(a,e):(c[u]||(c[u]=new i.Manager(a,e)),n=c[u]),s.query&&!e.query&&(e.query=s.queryKey),n.socket(s.path,e)}e.io=a;var u=n(5);Object.defineProperty(e,"protocol",{enumerable:!0,get:function(){return u.protocol}}),e.connect=a;var f=n(7);Object.defineProperty(e,"Manager",{enumerable:!0,get:function(){return f.Manager}})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.url=void 0;var r=n(6);e.url=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,o=t;n=n||"undefined"!=typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==n?n.protocol+"//"+t:"https://"+t),o=r(t)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";var i=-1!==o.host.indexOf(":"),s=i?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+s+":"+o.port+e,o.href=o.protocol+"://"+s+(n&&n.port===o.port?"":":"+o.port),o}},function(t,e,n){var r=n(21);t.exports=function(t,e){return new r(t,e)},t.exports.Socket=r,t.exports.protocol=r.protocol,t.exports.Transport=n(3),t.exports.transports=n(8),t.exports.parser=n(0)},function(t,e,n){function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=n(8),p=n(1),l=n(0),h=n(6),y=n(4),d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(a,t);var e,n=c(a);function a(t){var e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(this,a),e=n.call(this),t&&"object"===o(t)&&(s=t,t=null),t?(t=h(t),s.hostname=t.host,s.secure="https"===t.protocol||"wss"===t.protocol,s.port=t.port,t.query&&(s.query=t.query)):s.host&&(s.hostname=h(s.host).host),e.secure=null!=s.secure?s.secure:"undefined"!=typeof location&&"https:"===location.protocol,s.hostname&&!s.port&&(s.port=e.secure?"443":"80"),e.hostname=s.hostname||("undefined"!=typeof location?location.hostname:"localhost"),e.port=s.port||("undefined"!=typeof location&&location.port?location.port:e.secure?443:80),e.transports=s.transports||["polling","websocket"],e.readyState="",e.writeBuffer=[],e.prevBufferLen=0,e.opts=r({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{}},s),e.opts.path=e.opts.path.replace(/\/$/,"")+"/","string"==typeof e.opts.query&&(e.opts.query=y.decode(e.opts.query)),e.id=null,e.upgrades=null,e.pingInterval=null,e.pingTimeout=null,e.pingTimeoutTimer=null,"function"==typeof addEventListener&&(addEventListener("beforeunload",(function(){e.transport&&(e.transport.removeAllListeners(),e.transport.close())}),!1),"localhost"!==e.hostname&&(e.offlineEventListener=function(){e.onClose("transport close")},addEventListener("offline",e.offlineEventListener,!1))),e.open(),e}return(e=[{key:"createTransport",value:function(t){var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.opts.query);e.EIO=l.protocol,e.transport=t,this.id&&(e.sid=this.id);var n=r({},this.opts.transportOptions[t],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new f[t](n)}},{key:"open",value:function(){var t;if(this.opts.rememberUpgrade&&a.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout((function(){e.emit("error","No transports available")}),0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}},{key:"setTransport",value:function(t){var e=this;this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",(function(){e.onDrain()})).on("packet",(function(t){e.onPacket(t)})).on("error",(function(t){e.onError(t)})).on("close",(function(){e.onClose("transport close")}))}},{key:"probe",value:function(t){var e=this.createTransport(t,{probe:1}),n=!1,r=this;function o(){if(r.onlyBinaryUpgrades){var t=!this.supportsBinary&&r.transport.supportsBinary;n=n||t}n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",(function(t){if(!n)if("pong"===t.type&&"probe"===t.data){if(r.upgrading=!0,r.emit("upgrading",e),!e)return;a.priorWebsocketSuccess="websocket"===e.name,r.transport.pause((function(){n||"closed"!==r.readyState&&(p(),r.setTransport(e),e.send([{type:"upgrade"}]),r.emit("upgrade",e),e=null,r.upgrading=!1,r.flush())}))}else{var o=new Error("probe error");o.transport=e.name,r.emit("upgradeError",o)}})))}function i(){n||(n=!0,p(),e.close(),e=null)}function s(t){var n=new Error("probe error: "+t);n.transport=e.name,i(),r.emit("upgradeError",n)}function c(){s("transport closed")}function u(){s("socket closed")}function f(t){e&&t.name!==e.name&&i()}function p(){e.removeListener("open",o),e.removeListener("error",s),e.removeListener("close",c),r.removeListener("close",u),r.removeListener("upgrading",f)}a.priorWebsocketSuccess=!1,e.once("open",o),e.once("error",s),e.once("close",c),this.once("close",u),this.once("upgrading",f),e.open()}},{key:"onOpen",value:function(){if(this.readyState="open",a.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},{key:"onPacket",value:function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}}},{key:"onHandshake",value:function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var t=this;clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout((function(){t.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()}},{key:"flush",value:function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}},{key:"write",value:function(t,e,n){return this.sendPacket("message",t,e,n),this}},{key:"send",value:function(t,e,n){return this.sendPacket("message",t,e,n),this}},{key:"sendPacket",value:function(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:t,data:e,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}}},{key:"close",value:function(){var t=this;function e(){t.onClose("forced close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function r(){t.once("upgrade",n),t.once("upgradeError",n)}return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():e()})):this.upgrading?r():e()),this}},{key:"onError",value:function(t){a.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)}},{key:"onClose",value:function(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(t){for(var e=[],n=0,r=t.length;n<r;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(a.prototype,e),a}(p);d.priorWebsocketSuccess=!1,d.protocol=l.protocol,t.exports=d},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=n(9),y=n(10),d=n(1),v=n(13).pick,b=n(2);function m(){}var g=null!=new h({xdomain:!1}).responseType,k=function(t){a(n,t);var e=f(n);function n(t){var r;if(i(this,n),r=e.call(this,t),"undefined"!=typeof location){var o="https:"===location.protocol,s=location.port;s||(s=o?443:80),r.xd="undefined"!=typeof location&&t.hostname!==location.hostname||s!==t.port,r.xs=t.secure!==o}var c=t&&t.forceBase64;return r.supportsBinary=g&&!c,r}return c(n,[{key:"request",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o(t,{xd:this.xd,xs:this.xs},this.opts),new w(this.uri(),t)}},{key:"doWrite",value:function(t,e){var n=this.request({method:"POST",data:t}),r=this;n.on("success",e),n.on("error",(function(t){r.onError("xhr post error",t)}))}},{key:"doPoll",value:function(){var t=this.request(),e=this;t.on("data",(function(t){e.onData(t)})),t.on("error",(function(t){e.onError("xhr poll error",t)})),this.pollXhr=t}}]),n}(y),w=function(t){a(n,t);var e=f(n);function n(t,r){var o;return i(this,n),(o=e.call(this)).opts=r,o.method=r.method||"GET",o.uri=t,o.async=!1!==r.async,o.data=void 0!==r.data?r.data:null,o.create(),o}return c(n,[{key:"create",value:function(){var t=v(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;var e=this.xhr=new h(t),r=this;try{e.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var o in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&e.setRequestHeader(o,this.opts.extraHeaders[o])}catch(t){}if("POST"===this.method)try{e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(e.timeout=this.opts.requestTimeout),this.hasXDR()?(e.onload=function(){r.onLoad()},e.onerror=function(){r.onError(e.responseText)}):e.onreadystatechange=function(){4===e.readyState&&(200===e.status||1223===e.status?r.onLoad():setTimeout((function(){r.onError("number"==typeof e.status?e.status:0)}),0))},e.send(this.data)}catch(t){return void setTimeout((function(){r.onError(t)}),0)}"undefined"!=typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}},{key:"onSuccess",value:function(){this.emit("success"),this.cleanup()}},{key:"onData",value:function(t){this.emit("data",t),this.onSuccess()}},{key:"onError",value:function(t){this.emit("error",t),this.cleanup(!0)}},{key:"cleanup",value:function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=m:this.xhr.onreadystatechange=m,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete n.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var t=this.xhr.responseText;null!==t&&this.onData(t)}},{key:"hasXDR",value:function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR}},{key:"abort",value:function(){this.cleanup()}}]),n}(d);function _(){for(var t in w.requests)w.requests.hasOwnProperty(t)&&w.requests[t].abort()}w.requestsCount=0,w.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",_):"function"==typeof addEventListener&&addEventListener("onpagehide"in b?"pagehide":"unload",_,!1)),t.exports=k,t.exports.Request=w},function(t,e,n){var r=n(11).PACKET_TYPES,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),i="function"==typeof ArrayBuffer,s=function(t,e){var n=new FileReader;return n.onload=function(){var t=n.result.split(",")[1];e("b"+t)},n.readAsDataURL(t)};t.exports=function(t,e,n){var c,a=t.type,u=t.data;return o&&u instanceof Blob?e?n(u):s(u,n):i&&(u instanceof ArrayBuffer||(c=u,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(c):c&&c.buffer instanceof ArrayBuffer))?e?n(u instanceof ArrayBuffer?u:u.buffer):s(new Blob([u]),n):n(r[a]+(u||""))}},function(t,e,n){var r,o=n(11),i=o.PACKET_TYPES_REVERSE,s=o.ERROR_PACKET;"function"==typeof ArrayBuffer&&(r=n(26));var c=function(t,e){if(r){var n=r.decode(t);return a(n,e)}return{base64:!0,data:t}},a=function(t,e){switch(e){case"blob":return t instanceof ArrayBuffer?new Blob([t]):t;case"arraybuffer":default:return t}};t.exports=function(t,e){if("string"!=typeof t)return{type:"message",data:a(t,e)};var n=t.charAt(0);return"b"===n?{type:"message",data:c(t.substring(1),e)}:i[n]?t.length>1?{type:i[n],data:t.substring(1)}:{type:i[n]}:s}},function(t,e){!function(t){e.encode=function(e){var n,r=new Uint8Array(e),o=r.length,i="";for(n=0;n<o;n+=3)i+=t[r[n]>>2],i+=t[(3&r[n])<<4|r[n+1]>>4],i+=t[(15&r[n+1])<<2|r[n+2]>>6],i+=t[63&r[n+2]];return o%3==2?i=i.substring(0,i.length-1)+"=":o%3==1&&(i=i.substring(0,i.length-2)+"=="),i},e.decode=function(e){var n,r,o,i,s,c=.75*e.length,a=e.length,u=0;"="===e[e.length-1]&&(c--,"="===e[e.length-2]&&c--);var f=new ArrayBuffer(c),p=new Uint8Array(f);for(n=0;n<a;n+=4)r=t.indexOf(e[n]),o=t.indexOf(e[n+1]),i=t.indexOf(e[n+2]),s=t.indexOf(e[n+3]),p[u++]=r<<2|o>>4,p[u++]=(15&o)<<4|i>>2,p[u++]=(3&i)<<6|63&s;return f}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?a(t):e}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f,p=n(10),l=n(2),h=/\n/g,y=/\\n/g,d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(r,t);var e,n=s(r);function r(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).query=e.query||{},f||(f=l.___eio=l.___eio||[]),e.index=f.length;var o=a(e);return f.push((function(t){o.onData(t)})),e.query.j=e.index,e}return(e=[{key:"doClose",value:function(){this.script&&(this.script.onerror=function(){},this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o(u(r.prototype),"doClose",this).call(this)}},{key:"doPoll",value:function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)}),100)}},{key:"doWrite",value:function(t,e){var n,r=this;if(!this.form){var o=document.createElement("form"),i=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=s,o.method="POST",o.setAttribute("accept-charset","utf-8"),i.name="d",o.appendChild(i),document.body.appendChild(o),this.form=o,this.area=i}function c(){a(),e()}function a(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(t){r.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+r.iframeId+'">';n=document.createElement(t)}catch(t){(n=document.createElement("iframe")).name=r.iframeId,n.src="javascript:0"}n.id=r.iframeId,r.form.appendChild(n),r.iframe=n}this.form.action=this.uri(),a(),t=t.replace(y,"\\\n"),this.area.value=t.replace(h,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===r.iframe.readyState&&c()}:this.iframe.onload=c}},{key:"supportsBinary",get:function(){return!1}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(r.prototype,e),r}(p);t.exports=d},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var a=n(3),u=n(0),f=n(4),p=n(12),l=n(13).pick,h=n(29),y=h.WebSocket,d=h.usingBrowserWebSocket,v=h.defaultBinaryType,b="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(r,t);var e,n=i(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).supportsBinary=!t.forceBase64,e}return(e=[{key:"doOpen",value:function(){if(this.check()){var t=this.uri(),e=this.opts.protocols,n=b?{}:l(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=d&&!b?e?new y(t,e):new y(t):new y(t,e,n)}catch(t){return this.emit("error",t)}this.ws.binaryType=this.socket.binaryType||v,this.addEventListeners()}}},{key:"addEventListeners",value:function(){var t=this;this.ws.onopen=function(){t.opts.autoUnref&&t.ws._socket.unref(),t.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=function(e){return t.onData(e.data)},this.ws.onerror=function(e){return t.onError("websocket error",e)}}},{key:"write",value:function(t){var e=this;this.writable=!1;for(var n=t.length,r=0,o=n;r<o;r++)!function(t){u.encodePacket(t,e.supportsBinary,(function(r){var o={};d||(t.options&&(o.compress=t.options.compress),e.opts.perMessageDeflate&&("string"==typeof r?Buffer.byteLength(r):r.length)<e.opts.perMessageDeflate.threshold&&(o.compress=!1));try{d?e.ws.send(r):e.ws.send(r,o)}catch(t){}--n||(e.emit("flush"),setTimeout((function(){e.writable=!0,e.emit("drain")}),0))}))}(t[r])}},{key:"onClose",value:function(){a.prototype.onClose.call(this)}},{key:"doClose",value:function(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var t=this.query||{},e=this.opts.secure?"wss":"ws",n="";return this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=p()),this.supportsBinary||(t.b64=1),(t=f.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+t}},{key:"check",value:function(){return!(!y||"__initialize"in y&&this.name===r.prototype.name)}},{key:"name",get:function(){return"websocket"}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(r.prototype,e),r}(a);t.exports=m},function(t,e,n){var r=n(2);t.exports={WebSocket:r.WebSocket||r.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer"}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.reconstructPacket=e.deconstructPacket=void 0;var o=n(15);e.deconstructPacket=function(t){var e=[],n=t.data,i=t;return i.data=function t(e,n){if(!e)return e;if(o.isBinary(e)){var i={_placeholder:!0,num:n.length};return n.push(e),i}if(Array.isArray(e)){for(var s=new Array(e.length),c=0;c<e.length;c++)s[c]=t(e[c],n);return s}if("object"===r(e)&&!(e instanceof Date)){var a={};for(var u in e)e.hasOwnProperty(u)&&(a[u]=t(e[u],n));return a}return e}(n,e),i.attachments=e.length,{packet:i,buffers:e}},e.reconstructPacket=function(t,e){return t.data=function t(e,n){if(!e)return e;if(e&&e._placeholder)return n[e.num];if(Array.isArray(e))for(var o=0;o<e.length;o++)e[o]=t(e[o],n);else if("object"===r(e))for(var i in e)e.hasOwnProperty(i)&&(e[i]=t(e[i],n));return e}(t.data,e),t.attachments=void 0,t}},function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}}])},"object"==typeof e&&"object"==typeof r?r.exports=c():"function"==typeof define&&define.amd?define([],c):"object"==typeof e?e.io=c():s.io=c(),t("default",r.exports),r.exports.io}),{})}}}));

System.register("chunks:///_virtual/Socket_Io.mjs_cjs=&original=.js",["./Socket_Io.js","./cjs-loader.mjs"],(function(e,t){var r,s;return{setters:[function(t){r=t.__cjsMetaURL;var s={};s.__cjsMetaURL=t.__cjsMetaURL,s.default=t.default,e(s)},function(e){s=e.default}],execute:function(){r||s.throwInvalidWrapper("./Socket_Io.js",t.meta.url),s.require(r)}}}));

System.register("chunks:///_virtual/SocketEventHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ApiUrls.ts","./EventManager.ts","./BigDealSocketManager.ts","./UniqueHistory.ts","./UniqueBidsAndCounts.ts","./AvatarIconsManager.ts","./BigDealEvents.ts","./BigDealGameModel.ts","./ShowWining.ts","./MyAudioManager.ts","./APIManager.ts","./EncryptionHelper.ts","./LoginPopupManager.ts","./AllBidHistoryManager.ts","./AuctionManager.ts","./LanguageManager.ts","./GameFotterManager.ts"],(function(t){var e,i,n,a,r,o,s,u,l,c,d,h,g,p,b,f,m,v,B,_,y,P,A,C,M,N,L,S,x,R,w,E,I,H,T,D,U,O,q;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy,u=t._decorator,l=t.Label,c=t.Prefab,d=t.Sprite,h=t.Node,g=t.ParticleSystem2D,p=t.Button,b=t.instantiate,f=t.Animation,m=t.tween,v=t.v3,B=t.Component},function(t){_=t.API_URLS},function(t){y=t.default},function(t){P=t.BigDealSocketManager},function(t){A=t.UniqueHistory},function(t){C=t.UniqueBidsAndCounts},function(t){M=t.RemoteAvatar},function(t){N=t.BigDealClientEvents,L=t.BigDealEvents,S=t.StaticProperties},function(t){x=t.BigDealGameModel},function(t){R=t.ShowWining},function(t){w=t.MyAudioManager},function(t){E=t.APIManager,I=t.MethodType},function(t){H=t.encryptBid},function(t){T=t.LoginPopupManager},function(t){D=t.AllBidHistoryManager},function(t){U=t.getCurrentTime},function(t){O=t.LanguageManager},function(t){q=t.GameFooterManager}],execute:function(){var z,k,F,W,Y,V,G,X,j,J,Z,K,Q,$,tt,et,it,nt,at,rt,ot,st,ut,lt,ct,dt,ht,gt,pt,bt,ft,mt,vt,Bt,_t,yt,Pt,At,Ct,Mt,Nt,Lt,St,xt,Rt,wt,Et;s._RF.push({},"814b8Zxk3BJMbDw2cH1hnOA","SocketEventHandler",void 0);var It=u.ccclass,Ht=u.property;t("SocketEventHandler",(z=It("SocketEventHandler"),k=Ht(l),F=Ht(c),W=Ht(l),Y=Ht(l),V=Ht(d),G=Ht(h),X=Ht(l),j=Ht(C),J=Ht(h),Z=Ht(c),K=Ht(h),Q=Ht(A),$=Ht(D),tt=Ht(T),et=Ht(h),it=Ht(q),nt=Ht(h),at=Ht(l),rt=Ht(g),ot=Ht(p),st=Ht(p),ut=Ht(c),z((dt=e((ct=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"bidNumberLabel",dt,a(e)),n(e,"isHistoryPrefab",ht,a(e)),n(e,"walletBalance",gt,a(e)),n(e,"percentageLabel",pt,a(e)),n(e,"bidSprite",bt,a(e)),n(e,"winingPage",ft,a(e)),n(e,"errorMessege",mt,a(e)),n(e,"uniqueBidsAndCounts",vt,a(e)),n(e,"LoginScreen",Bt,a(e)),n(e,"avatarPrefab",_t,a(e)),n(e,"avatarParent",yt,a(e)),n(e,"uniqueHistorymanager",Pt,a(e)),n(e,"allBidHistoryManager",At,a(e)),n(e,"loginPopupManager",Ct,a(e)),n(e,"comingSoonPage",Mt,a(e)),n(e,"gameFooterManager",Nt,a(e)),n(e,"isHistoryParent",Lt,a(e)),n(e,"avatarCounter",St,a(e)),n(e,"particles",xt,a(e)),n(e,"nextButton",Rt,a(e)),n(e,"prevButton",wt,a(e)),n(e,"firstDepositEffect",Et,a(e)),e.bidHistoryData=[],e.avatarNodedata=[],e.isHistoryToggle=!0,e.minBidNumber=0,e.sendBidPrice=0,e.maxBidNumber=99.99,e.currentNumber=0,e.currentAvatar="",e.bidPriceForUniqe=0,e.bidBoxMsg="",e.isAuctionState=!1,e.setBitsinLocal=[],e.user_id="",e.currentValue=99,e.minValue=1.1,e.step=.1,e.currentPage=1,e.itemsPerPage=13,e}i(e,t);var s=e.prototype;return s.start=function(){var t=r(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s.tickCountdown=function(){this.currentValue-=this.step,this.currentValue<this.minValue&&(this.unschedule(this.tickCountdown),this.currentValue=this.minValue),this.bidNumberLabel.string=this.currentValue.toFixed(1),this.onEnterBid()},s.init=function(){var t=r(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.onEvents();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onEvents=function(){var t,e,i,n=y.getDispatcher();n.on(N.CLS_AUCTION_CURRENT_PLAY,this.onAuctionCurrentPlay,this),n.on(N.PLAYER_PLAYS_CREDIT,this.onAuctionCurrentPlayCredit,this),n.on(N.CLS_AUCTION_MIN_MAX_PERCENTAGE,this.onAuctionMinMaxPercentage,this),n.on(N.CLS_AUCTION_AVATARS,this.onAuctionAvatars,this),n.on(N.CLS_AUCTION_WINNER,this.onAuctionWinner,this),n.on(N.CLS_AUCTION_STATE,this.onAuctionState,this),n.on(N.CLS_AUCTION_ERROR,this.onAuctionError,this),n.on(N.CLS_Min_Max_Recent_Bid,this.onMinMaxRecentBid,this),n.on(N.CLS_MIN_MAX_BID_CANCEL,this.onMinMaxCancelBid,this),n.on(L.ON_SELECT_AUCTION,this.enterBetween,this),n.on(L.SHOW_AUCTIONWINNER_DATA,this.showAuctionWinnerData,this),this.minBidNumber=(null==(t=x.auctionHouseListResponse)||null==(t=t.data[S.auctionIndex])?void 0:t.min_bid_price)||0,this.maxBidNumber=(null==(e=x.auctionHouseListResponse)||null==(e=e.data[S.auctionIndex])?void 0:e.max_bid_price)||99.99;var a=O.instance.t("Enter_Between")+" "+(this.minBidNumber+S.is_MinPrice)+" - "+(this.maxBidNumber-S.is_MinPrice);this.bidBoxMsg=a,this.bidNumberLabel.string=a,this.setMessegeinBox(a);var r=null==(i=x.auctionHouseListResponse)||null==(i=i.data[S.auctionIndex])?void 0:i.id;r&&this.allBidHistoryManager.setMyBidsInit(r)},s.enterBetween=function(){var t,e;this.minBidNumber=(null==(t=x.auctionHouseListResponse)||null==(t=t.data[S.auctionIndex])?void 0:t.min_bid_price)||0,this.maxBidNumber=(null==(e=x.auctionHouseListResponse)||null==(e=e.data[S.auctionIndex])?void 0:e.max_bid_price)||99.99;var i=O.instance.t("Enter_Between")+" "+(this.minBidNumber+S.is_MinPrice)+" - "+(this.maxBidNumber-S.is_MinPrice);this.bidBoxMsg=i},s.onDestroy=function(){var t=y.getDispatcher();t.off(N.CLS_AUCTION_CURRENT_PLAY,this.onAuctionCurrentPlay,this),t.off(N.PLAYER_PLAYS_CREDIT,this.onAuctionCurrentPlayCredit,this),t.off(N.CLS_AUCTION_MIN_MAX_PERCENTAGE,this.onAuctionMinMaxPercentage,this),t.off(N.CLS_AUCTION_AVATARS,this.onAuctionAvatars,this),t.off(N.CLS_AUCTION_WINNER,this.onAuctionWinner,this),t.off(N.CLS_AUCTION_STATE,this.onAuctionState,this),t.off(N.CLS_AUCTION_ERROR,this.onAuctionError,this),t.off(N.CLS_Min_Max_Recent_Bid,this.onMinMaxRecentBid,this),t.off(N.CLS_MIN_MAX_BID_CANCEL,this.onMinMaxCancelBid,this),t.off(L.ON_SELECT_AUCTION,this.enterBetween,this)},s.selectAuctionLabel=function(t){this.bidNumberLabel=t},s.onEnterBid=function(){var t;if(console.log("is in onEnterBid"),!S.isLogin)return this.bidNumberLabel.string=this.bidBoxMsg,void this.loginPopupManager.init();if(console.log("network check",S.isBidPlaced),!S.isBidPlaced){y.getDispatcher().emit(L.ERROR_MSG_NOTIFY,"Unable to fetch your previous bid. Try again.");var e=O.instance.t("Enter_Between")+" "+(this.minBidNumber+S.is_MinPrice)+" - "+(this.maxBidNumber-S.is_MinPrice);return this.bidNumberLabel.string=e,void(S.isBidPlaced=!0)}w.inst.play("Click");var i=this.bidNumberLabel.string,n=Number(i);if(n<=this.minBidNumber||n>=this.maxBidNumber){var a=O.instance.t("Enter_Between")+"  "+(this.minBidNumber+S.is_MinPrice)+" - "+(this.maxBidNumber-S.is_MinPrice);this.bidNumberLabel.string=a}else{var r=O.instance.t("Enter_Between")+"  "+(this.minBidNumber+S.is_MinPrice)+" - "+(this.maxBidNumber-S.is_MinPrice);this.bidNumberLabel.string=r;var o=null==(t=x.auctionHouseListResponse)||null==(t=t.data[S.auctionIndex])?void 0:t.rsa_public_key;if(n&&o){S.isBidPlaced=!1,this.sendBidPrice=n,this.bidPriceForUniqe=n,this.bidNumberLabel.string=this.bidBoxMsg;var s=x.loginDataResponse.data;null!=s&&s.avatar?this.currentAvatar=s.avatar:this.currentAvatar||(this.currentAvatar="assets/avatar/1.png"),null!=s&&s.user_id&&(this.user_id=s.user_id);var u=H(n,o),l=x.auctionHouseListResponse.data,c=l[S.auctionIndex].id,d=l[S.auctionIndex].chain_id,h={auction_id:c,player_id:s.id,bid_price:u,player_name:s.first_name||"-",profile_image:""+S.apiBaseURL+this.currentAvatar,user_id:this.user_id,chain_id:d};P.getInstance().sendMessage("min:max:auction",h)}}},s.onAuctionCurrentPlay=function(t){x.auctionCurrentPlay=t,y.getDispatcher().emit(L.IS_LOADER_OFF),console.log("onAuctionCurrentPlay",t),null!=t&&t.play_balance?(this.walletBalance.string=(null==t?void 0:t.play_balance)+"",x.playerBalancesResponse.data.play_balance=null==t?void 0:t.play_balance.toString()):(this.walletBalance.string="0",x.playerBalancesResponse.data.play_balance=t.play_balance?null==t?void 0:t.play_balance.toString():"0")},s.onAuctionCurrentPlayCredit=function(t){if(y.getDispatcher().emit(L.IS_LOADER_OFF),console.log("PLAYER_PLAYS_CREDIT",t),null!=t&&t.data.play_balance?(this.walletBalance.string=t.data.play_balance.toString(),x.playerBalancesResponse.data.play_balance=t.data.play_balance.toString()):null!=t&&t.play_balance?(this.walletBalance.string=t.play_balance.toString(),x.playerBalancesResponse.data.play_balance=t.play_balance.toString()):(this.walletBalance.string="0",x.playerBalancesResponse.data.play_balance=t.data.play_balance?t.data.play_balance.toString():"0"),null==t||t.messages,t.data.bonus>=1){var e,i,n,a=b(this.firstDepositEffect);null!=a&&null!=(e=a.getChildByName("Base"))&&null!=(e=e.getChildByName("Text"))&&e.getComponent(l)&&(a.getChildByName("Base").getChildByName("Text").getComponent(l).string=t.data.bonus+" XP"),null!=a&&null!=(i=a.getChildByName("Text"))&&i.getComponent(l)&&(a.getChildByName("Text").getComponent(l).string="Hooray!\nYou got FREE "+t.data.bonus+" XP!"),this.node.addChild(a),null==(n=a.getComponent(f))||n.play()}},s.animateBidPercentage=function(t,e){this.currentNumber=t;var i=e-t>0?e-t:1;m({value:t}).delay(.286).to(i/50,{value:e},{onUpdate:this.updateBidPercentageLabel.bind(this)}).start()},s.updateBidPercentageLabel=function(t){this.currentNumber=Math.floor(t.value),this.bidSprite.fillRange=this.currentNumber/100,this.percentageLabel.string=this.currentNumber+"%"},s.onAuctionMinMaxPercentage=function(t){var e,i,n;if(null!=t&&null!=(e=t.data)&&e.auction_id&&(null==t||null==(i=t.data)?void 0:i.auction_id)===(null==(n=x.auctionHouseListResponse)||null==(n=n.data[S.auctionIndex])?void 0:n.id)){var a;x.auctionMinMaxPercentage=t;var r=null==t||null==(a=t.data)?void 0:a.bid_percentage;if(console.warn(r),!r&&0!=r)return;this.animateBidPercentage(this.currentNumber,r)}},s.onAuctionAvatars=function(t){var e;if(null!=t&&t.auction_id&&(null==t?void 0:t.auction_id)===(null==(e=x.auctionHouseListResponse)||null==(e=e.data[S.auctionIndex])?void 0:e.id)){if(x.auctionAvatars=t,t.data.length>10)this.avatarNodedata.length;else this.avatarCounter.string="";this.currentPage=1,this.itemsPerPage=13,this.renderPage()}},s.renderPage=function(){var t=x.auctionAvatars.data.length;if(t>0){var e=Math.ceil(t/this.itemsPerPage);this.currentPage=Math.max(1,Math.min(this.currentPage,e));var i=(this.currentPage-1)*this.itemsPerPage,n=i+this.itemsPerPage,a=x.auctionAvatars.data.slice(i,n);this.updateAvatarUI(a),this.updateButtons(e)}else this.avatarParent.removeAllChildren(),this.avatarCounter.string="No Bidders Found",this.avatarCounter.node.setPosition(-424.509,40,0)},s.onNextPage=function(){this.currentPage*this.itemsPerPage<x.auctionAvatars.data.length&&(this.currentPage++,this.renderPage())},s.onPrevPage=function(){this.currentPage>1&&(this.currentPage--,this.renderPage())},s.updateAvatarUI=function(t){var e=this;this.avatarParent.removeAllChildren(),t.forEach((function(t){e.setAvatar(t.profile_image,t.user_id)}))},s.updateButtons=function(t){console.warn(t),this.prevButton.interactable=this.currentPage>1,this.prevButton.node.active=this.currentPage>1,this.nextButton.interactable=this.currentPage<t&&t>1,this.nextButton.node.active=this.currentPage<t&&t>1,this.avatarCounter.string="",this.avatarCounter.node.setPosition(350,40,0),x.auctionAvatars.data.length<=this.itemsPerPage&&(this.nextButton.interactable=!1,this.prevButton.interactable=!1)},s.onAuctionWinner=function(t){var e,i,n,a,r=null==(e=x.auctionHouseListResponse)||null==(e=e.data)?void 0:e.find((function(e){return e.id===(null==t?void 0:t.auction_id)}));(console.log("allBidHistoryManager",this.allBidHistoryManager.getLengthBids(),r),null!=t&&null!=(i=t.winnerInfo)&&i.auction_id&&r)&&(x.auctionWinner=t,y.getDispatcher().emit(L.REDIRECT_TO_HOME),this.winingPage.getComponent(R).init(),this.winingPage.active=!0,localStorage.removeItem(null==(n=x.auctionHouseListResponse)||null==(n=n.data[S.auctionIndex])?void 0:n.id),0==(null==(a=x.auctionHouseListResponse)?void 0:a.data.length)&&(this.comingSoonPage.active=!0))},s.showAuctionWinnerData=function(t){console.log("myAux_Index",t),this.winingPage.getComponent(R).setAuctionWinnerData(t),this.winingPage.active=!0},s.onAuctionState=function(t){if(x.AuctionLiveState=t,!this.isAuctionState&&"Auction Live"===(null==t?void 0:t.message)){var e=x.AuctionLiveState.auctionId;this.comingSoonPage&&this.comingSoonPage.active&&(this.comingSoonPage.active=!1);try{this.getAuctionHouseListData().then((function(){console.log("Emit Auction ",e),y.getDispatcher().emit("onAuctionState:new:auction",e)}))}catch(t){}}},s.onAuctionError=function(t){var e;null!=t&&t.auction_id&&(null==t?void 0:t.auction_id)===(null==(e=x.auctionHouseListResponse)||null==(e=e.data[S.auctionIndex])?void 0:e.id)&&(this.sendBidPrice=0,S.isBidPlaced=!0,y.getDispatcher().emit(L.ERROR_MSG_NOTIFY,(null==t?void 0:t.message)||""))},s.onMinMaxRecentBid=function(t){var e;if(console.log("onMinMaxRecentBid solket event",t),null!=t&&t.auction_id&&(null==t?void 0:t.auction_id)===(null==(e=x.auctionHouseListResponse)||null==(e=e.data[S.auctionIndex])?void 0:e.id)){var i,n,a;x.MinMaxRecentBid=t;var r=null==t||null==(i=t.data)?void 0:i.is_unique,o=null!=t&&null!=(n=t.data)&&n.uuid?null==t||null==(a=t.data)?void 0:a.uuid:"",s=this.bidPriceForUniqe;y.getDispatcher().emit(L.SET_BID_HISTORY,x.MinMaxRecentBid,s);var u=s;if(S.isBidPlaced=!0,u&&u>0){var l=U(),c={bidPrice:u.toString(),isUnique:r,Time:l};this.allBidHistoryManager.addBid(o,c),r&&o?(this.bidPriceForUniqe=0,this.uniqueHistorymanager.addBid(o,c),this.uniqueBidsAndCounts.setUniqueData(!0),w.inst.play("Unique"),this.particles.forEach((function(t){try{t&&t.resetSystem()}catch(t){console.warn("no particles play")}}))):(this.bidPriceForUniqe=0,this.uniqueBidsAndCounts.setUniqueData(!1),w.inst.play("NotUnique"))}!function(t){void 0===t&&(t=200);"undefined"!=typeof navigator&&navigator.vibrate?navigator.vibrate(t):console.log("Vibration not supported.")}(300)}},s.onMinMaxCancelBid=function(t){console.log("onMinMaxCancelBid",t);var e=null==t?void 0:t.auction_id;null!=t&&t.uuid&&(this.uniqueHistorymanager.removeBid(t.uuid,e),this.allBidHistoryManager.removeBid(t.uuid))},s.historySetup=function(){var t,e=this,i=this.sendBidPrice;this.sendBidPrice=0;var n=null==(t=x.auctionHouseListResponse)?void 0:t.data[S.auctionIndex].id,a=localStorage.getItem(n),r=[];if(a&&(r=a.split(",")),0==i&&this.setBitsinLocal.length<r.length)this.setBitsinLocal=r,this.setBitsinLocal.forEach((function(t,i){i<=10&&(e.isHistoryParent.children[i]?e.resetBidHistoryNode(i,Number(t)):e.newBidHistoryNode(Number(t)))}));else if(i&&i>0){this.setBitsinLocal.length>=10&&this.setBitsinLocal.shift(),this.setBitsinLocal.push(i+""),this.setBitsinLocal.forEach((function(t,i){e.isHistoryParent.children[i]?e.resetBidHistoryNode(i,Number(t)):e.newBidHistoryNode(Number(t))}));this.setBitsinLocal.join(",")}},s.newBidHistoryNode=function(t){var e=this;return new Promise((function(i,n){try{if(t<=0)return i(null);var a=b(e.isHistoryPrefab);a.getChildByName("Amount").getComponent(l).string=t.toString(),e.isHistoryParent.addChild(a),a.setSiblingIndex(0),i(a)}catch(t){console.error("newBidHistoryNode",t),n(t)}}))},s.resetBidHistoryNode=function(t,e){if(!(e<=0)){var i=this.isHistoryParent.children[t];i.getChildByName("Amount").getComponent(l).string=e.toString(),this.isHistoryParent.addChild(i),i.setSiblingIndex(0)}},s.setMessegeinBox=function(t){var e=this;m(this.errorMessege.node).to(.2,{scale:v(0,0,0)},{easing:"backIn"}).call((function(){e.errorMessege.string=t})).to(.2,{scale:v(1,1,1)},{easing:"backOut"}).start()},s.getAuctionHouseListData=function(){return new Promise(r(o().mark((function t(e,i){var n,a,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=x.auctionHouseResponse.data.currentAuctionHouse.id,a=_.AUCTION_LIST+"?limit=30&page=0&state=live&auction_house_id="+n,t.next=5,E.request(a,I.GET,null);case 5:r=t.sent,x.auctionHouseListResponse=r,e(r),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("Failed to get auction list",t.t0),i(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])}))))},s.setAvatar=function(t,e){var i=b(this.avatarPrefab),n=i.getChildByName("Avatar").getComponent(d);try{M(t,n)}catch(t){}this.avatarParent.addChild(i),i.setSiblingIndex(0),i.name=e||"",this.avatarNodedata.push(i)},s.setUpdateAvatar=function(t,e){var i=this.avatarNodedata[e].getChildByName("Avatar").getComponent(d);try{M(t,i)}catch(t){}},e}(B)).prototype,"bidNumberLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e(ct.prototype,"isHistoryPrefab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=e(ct.prototype,"walletBalance",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e(ct.prototype,"percentageLabel",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=e(ct.prototype,"bidSprite",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=e(ct.prototype,"winingPage",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e(ct.prototype,"errorMessege",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=e(ct.prototype,"uniqueBidsAndCounts",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=e(ct.prototype,"LoginScreen",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=e(ct.prototype,"avatarPrefab",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e(ct.prototype,"avatarParent",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pt=e(ct.prototype,"uniqueHistorymanager",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=e(ct.prototype,"allBidHistoryManager",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=e(ct.prototype,"loginPopupManager",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mt=e(ct.prototype,"comingSoonPage",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=e(ct.prototype,"gameFooterManager",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lt=e(ct.prototype,"isHistoryParent",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=e(ct.prototype,"avatarCounter",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xt=e(ct.prototype,"particles",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Rt=e(ct.prototype,"nextButton",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=e(ct.prototype,"prevButton",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=e(ct.prototype,"firstDepositEffect",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=ct))||lt));s._RF.pop()}}}));

System.register("chunks:///_virtual/SpinningGradientNode.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,o,a,l,s,d,u,h,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Color,s=t.UITransform,d=t.Graphics,u=t.Node,h=t.Label,c=t.tween,p=t.Component}],execute:function(){var f,g,b,w,C,m,y,v,S,z,R,G,P;o._RF.push({},"26a255aCFlGA629drfrahZE","SpinningGradientNode",void 0);var x=a.ccclass,N=a.property;t("SpinningGradientNode",(f=x("SpinningGradientNode"),g=N({type:l}),b=N({type:l}),f((m=e((C=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"width",m,r(e)),n(e,"height",y,r(e)),n(e,"borderRadius",v,r(e)),n(e,"animationDuration",S,r(e)),n(e,"startColor",z,r(e)),n(e,"endColor",R,r(e)),n(e,"gradientPercentage",G,r(e)),n(e,"glowOffset",P,r(e)),e}i(e,t);var o=e.prototype;return o.start=function(){var t,e;(null!=(t=this.node.getComponent(s))?t:this.node.addComponent(s)).setContentSize(this.width,this.height);var i=null!=(e=this.node.getComponent(d))?e:this.node.addComponent(d);this.drawGradientRoundedBox(i);var n=new u("GlowLayer");this.node.addChild(n),n.setSiblingIndex(0),n.addComponent(s).setContentSize(this.width+10,this.height+10),n.setPosition(0,-this.glowOffset);var r=n.addComponent(d);this.drawGlowBox(r);var o=new u("SpinnerText");o.setPosition(0,0),this.node.addChild(o);var a=o.addComponent(h);a.string="Spinning!",a.fontSize=24,a.color=l.WHITE,this.startSpinningAnimation()},o.drawGradientRoundedBox=function(t){t.clear();for(var e=this.height,i=this.width,n=i/2,r=e/2,o=e*this.gradientPercentage,a=0;a<e;a++){var s=a<o?0:(a-o)/(e-o),d=new l;l.lerp(d,this.startColor,this.endColor,s),t.fillColor=d,t.rect(-n,r-a-1,i,1),t.fill()}t.strokeColor=l.TRANSPARENT,t.lineWidth=0,t.roundRect(-n,-r,i,e,this.borderRadius),t.stroke()},o.drawGlowBox=function(t){t.clear(),t.fillColor=new l(this.startColor.r,this.startColor.g,this.startColor.b,80),t.roundRect(-this.width/2,-this.height/2,this.width,this.height,this.borderRadius),t.fill()},o.startSpinningAnimation=function(){c(this.node).by(this.animationDuration,{angle:360}).repeatForever().start()},e}(p)).prototype,"width",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 250}}),y=e(C.prototype,"height",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 250}}),v=e(C.prototype,"borderRadius",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 24}}),S=e(C.prototype,"animationDuration",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.7}}),z=e(C.prototype,"startColor",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(186,66,255)}}),R=e(C.prototype,"endColor",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(0,225,255)}}),G=e(C.prototype,"gradientPercentage",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.35}}),P=e(C.prototype,"glowOffset",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),w=C))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/TelegramConnector.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r,o;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator,o=e.Component}],execute:function(){var c;t._RF.push({},"7023bWSseBK5qZ154aErx+J","TelegramConnector",void 0);var s=r.ccclass;e("TelegramConnector",s("TelegramConnector")(c=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.start=function(){},t}(o))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/TextHighlightManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,t,n,i,p,a,s,r,l,u,h,c,d,v,g,f,y;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){p=e.cclegacy,a=e._decorator,s=e.find,r=e.Label,l=e.Node,u=e.resources,h=e.Prefab,c=e.instantiate,d=e.UITransform,v=e.Vec3,g=e.UIOpacity,f=e.tween,y=e.Component}],execute:function(){var T,N,C;p._RF.push({},"c3bd7IuPupIEJ34hgkjutF4","TextHighlightManager",void 0);var P=a.ccclass,H=a.property;e("TextHighlightManager",P("TextHighlightManager")((C=o((N=function(e){function o(){for(var o,t=arguments.length,p=new Array(t),a=0;a<t;a++)p[a]=arguments[a];return o=e.call.apply(e,[this].concat(p))||this,n(o,"maxLength",C,i(o)),o.fullText="",o.popupNode=null,o.showingPopup=!1,o.isEventOn=!1,o.canvas=null,o}t(o,e);var p=o.prototype;return p.onLoad=function(){this.canvas=s("Canvas/TextHighlight")},p.initr=function(e,o,t){if(void 0===o&&(o=3),void 0===t&&(t=3),e&&0!==(null==e?void 0:e.length)){var n=this.getComponent(r);if(n){if(this.fullText=e,e.length>this.maxLength){var i=o?e.slice(0,o):"",p=t?e.slice(-t):"";n.string=(i||"")+"..."+(p||"");var a=this.node;this.isEventOn||(this.isEventOn=!0,a.on(l.EventType.TOUCH_START,this.onHoverEnter,this),a.on(l.EventType.TOUCH_END,this.onHoverLeave,this),a.on(l.EventType.TOUCH_CANCEL,this.onHoverLeave,this))}else n.string=e;u.load("Popup",h,(function(e,o){!e&&o||console.error("Failed to load Popup prefab:",e)}))}else console.warn("Label component not found on this node")}},p.onHoverEnter=function(e){var o=this;this.showingPopup||(this.showingPopup=!0,u.load("Popup",h,(function(e,t){if(!e&&t){o.popupNode=c(t);var n=o.popupNode.getComponentInChildren(r);if(n&&(n.string=o.fullText),o.canvas=s("Canvas/TextHighlight"),o.canvas){o.canvas.addChild(o.popupNode);var i=o.node.getWorldPosition(),p=o.canvas.getComponent(d).convertToNodeSpaceAR(new v(i.x,i.y,0));p.y+=20,o.popupNode.setPosition(p);var a=o.popupNode.getComponent(g);a||(a=o.popupNode.addComponent(g)),a.opacity=0,f(a).to(.3,{opacity:255}).start()}else o.popupNode.destroy()}else console.error("Failed to load Popup prefab:",e)})))},p.onHoverLeave=function(){var e=this;if(this.popupNode&&this.popupNode.isValid){var o=this.popupNode.getComponent(g);o?f(o).to(.2,{opacity:0}).call((function(){e.canvas.destroyAllChildren(),e.popupNode=null,e.showingPopup=!1})).start():(this.popupNode.destroy(),this.popupNode=null,this.showingPopup=!1)}else this.showingPopup=!1},o}(y)).prototype,"maxLength",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),T=N))||T);p._RF.pop()}}}));

System.register("chunks:///_virtual/TimerBase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,s,r,o,a,h;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,s=t.Label,r=t.tween,o=t.Vec3,a=t.Tween,h=t.Component}],execute:function(){var u;i._RF.push({},"71e59zsJUlC/IVqCKsah/Yo","TimerBase",void 0);var c=n.ccclass;n.property,t("TimerBase",c("TimerBase")(u=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).duration=0,e.endTimestamp=null,e.effect=new a,e.running=!1,e.TimerText=void 0,e}e(i,t);var n=i.prototype;return n.start=function(){},n.initializeTime=function(t){this.duration=Math.max(0,Math.floor(t)),this.endTimestamp=Date.now()+1e3*this.duration,this.checkRequiredComponents(),this.UpdateTimerUI(),this.running=!0},n.stopTimer=function(){this.running=!1,this.endTimestamp=null},n.update=function(t){if(this.running&&null!=this.endTimestamp){var e=Date.now(),i=this.endTimestamp-e,n=Math.ceil(Math.max(0,i)/1e3);n!==this.duration&&(this.duration=n,this.pulseEffect(),this.UpdateTimerUI()),i<=0&&(this.running=!1,this.endTimestamp=null,this.node.emit("TimerFinished"))}},n.UpdateTimerUI=function(){var t=this.duration/60,e=Math.floor(t),i=(60*(t-e)).toFixed(0).toString(),n=e.toString();"0"==i&&(i="00");var s=n+":"+i;n.length<=1&&(s=(n="0"+n)+":"+i),i.length<=1&&(s=n+":"+(i="0"+i)),this.TimerText&&(this.TimerText.string=s)},n.checkRequiredComponents=function(){if(this.TimerText=this.getComponentInChildren(s),!this.TimerText){try{this.TimerText=this.node.getComponent(s)}catch(t){this.TimerText=null}this.UpdateTimerUI()}},n.pulseEffect=function(){var t;null==(t=this.effect)||t.stop(),this.effect=r(this.node).to(.1,{scale:new o(1.1,1.1,1.1)}).to(.1,{scale:new o(1,1,1)}).start()},i}(h))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/TrailEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,r,o,c,l,a,s,f,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,l=t.Prefab,a=t.instantiate,s=t.tween,f=t.v3,u=t.ParticleSystem2D,p=t.Component}],execute:function(){var h,d,y,v,m;o._RF.push({},"dfb84B2sN1C0pP3xtzQoYpn","TrailEffect",void 0);var b=c.ccclass,g=c.property;t("TrailEffect",(h=b("TrailEffect"),d=g(l),h((m=e((v=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,i(e,"effect",m,r(e)),e}n(e,t);var o=e.prototype;return o.onEnable=function(){this.schedule(this.init,.5,100,2)},o.onDisable=function(){this.unschedule(this.init)},o.init=function(){var t=a(this.effect);this.node.addChild(t);var e=P(0,1e3),n=P(300,1700),i=n/1500;t.setWorldPosition(e,-10,0),s(t).to(i,{worldPosition:f(e,n)}).call((function(){var e,n;t.children[1]&&t.children[2]&&(null==(e=t.children[1].getComponent(u))||e.resetSystem(),null==(n=t.children[2].getComponent(u))||n.resetSystem())})).start()},o.update=function(t){},e}(p)).prototype,"effect",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y));function P(t,e){return Math.floor(Math.random()*(e-t+1))+t}o._RF.pop()}}}));

System.register("chunks:///_virtual/TransferXPManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TimerBase.ts","./APIManager.ts","./ApiUrls.ts","./BigDealEvents.ts","./BigDealGameModel.ts","./CustomPopUp.ts","./EventManager.ts","./LanguageManager.ts","./UnifiedWalletManager.ts"],(function(e){var t,n,i,o,r,s,a,l,u,c,d,h,p,f,g,b,m,B,O,E,x,C,T,_,P,y,v,R,N,k,w,I,S,L,D,M,z,U;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy,l=e._decorator,u=e.Node,c=e.Label,d=e.EditBox,h=e.Prefab,p=e.Button,f=e.RichText,g=e.KeyCode,b=e.UIOpacity,m=e.input,B=e.Input,O=e.Sprite,E=e.color,x=e.Color,C=e.tween,T=e.Vec3,_=e.instantiate,P=e.Component},function(e){y=e.TimerBase},function(e){v=e.APIManager,R=e.MethodType},function(e){N=e.API_URLS},function(e){k=e.StaticProperties,w=e.BigDealEvents,I=e.Edit_Box_Event,S=e.Edit_Box_Event_Name},function(e){L=e.BigDealGameModel},function(e){D=e.CustomPopUp},function(e){M=e.default},function(e){z=e.LanguageManager},function(e){U=e.UnifiedWalletManager}],execute:function(){var W,A,X,V,F,q,Y,G,Z,H,K,$,j,J,Q,ee,te,ne,ie,oe,re,se,ae,le,ue,ce,de,he,pe,fe,ge,be,me,Be,Oe,Ee,xe,Ce,Te,_e,Pe,ye,ve,Re,Ne,ke,we,Ie,Se;a._RF.push({},"043fcGYY5tKEaYZeH5LQD52","TransferXPManager",void 0);var Le=l.ccclass,De=l.property,Me=(e("TransferXPManager",(W=Le("TransferXPManager"),A=De(u),X=De(u),V=De(c),F=De(d),q=De(d),Y=De(d),G=De(u),Z=De(u),H=De(c),K=De(c),$=De([d]),j=De(h),J=De(y),Q=De(p),ee=De(p),te=De(p),ne=De(f),ie=De(u),oe=De(u),re=De(p),se=De(p),ae=De(c),le=De(U),W((de=t((ce=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"bgNode",de,o(t)),i(t,"uiNode",he,o(t)),i(t,"countryCode",pe,o(t)),i(t,"phoneNumber",fe,o(t)),i(t,"user_IdEditBox",ge,o(t)),i(t,"TransferXP",be,o(t)),i(t,"popUp1",me,o(t)),i(t,"popUp2",Be,o(t)),i(t,"balanceLabel",Oe,o(t)),i(t,"updateWalletBalance",Ee,o(t)),i(t,"isOTPBox",xe,o(t)),i(t,"customPopUp",Ce,o(t)),i(t,"timerBase",Te,o(t)),i(t,"sendOtpButton",_e,o(t)),i(t,"resendOTP",Pe,o(t)),i(t,"VerifyOtp",ye,o(t)),i(t,"codeSentWith",ve,o(t)),i(t,"emailBox",Re,o(t)),i(t,"phoneBox",Ne,o(t)),i(t,"countryCodeBox",ke,o(t)),i(t,"closeClick",we,o(t)),i(t,"buttonLabel",Ie,o(t)),i(t,"walletManager",Se,o(t)),t.SenOtpRes=null,t.isSendOtp=!1,t.isOtpClicked=!1,t.currentIndex=0,t.isButtonLocked=!1,t.balance=0,t.isTextChange=!0,t.otpRes={},t.onKeyDown=function(e){if(e.keyCode===g.ENTER||e.keyCode===g.NUM_ENTER)if(t.isSendOtp){if(t.isOtpClicked)return;t.sendOtpButton.node;t.onClickOtp()}else{if(t.isOtpClicked)return;t.onTransferXPClick()}},t}n(t,e);var a=t.prototype;return a.start=function(){this.bgNode.getComponent(b).opacity=0,this.uiNode.active=!1,this.timerBase.node.on("TimerFinished",this.otpTimeUp,this)},a.onAllEvent=function(){var e=this;this.phoneNumber.node.on("editing-did-began",(function(){return e.phoneEditingDidBegan()}),this),this.phoneNumber.node.on("text-changed",(function(){return e.phoneNumberChanged()}),this),this.phoneNumber.node.on("editing-did-ended",(function(){return e.phoneEditingDidEnd()}),this),this.phoneNumber.node.on("editing-return",this.onLoginReturn,this),this.user_IdEditBox.node.on("editing-did-began",(function(){return e.emailEditingDidBegan()}),this),this.user_IdEditBox.node.on("text-changed",(function(){return e.emailChanged()}),this),this.user_IdEditBox.node.on("editing-did-ended",(function(){return e.emailEditingDidEnd()}),this),this.user_IdEditBox.node.on("editing-return",this.onLoginReturn,this),m.on(B.EventType.KEY_DOWN,this.onKeyDown,this),this.isOTPBox.forEach((function(t,n){t.node.on("editing-did-began",(function(){return e.onEditBoxBegan(n)}),e),t.node.on("text-changed",(function(){return e.onTextChanged(n)}),e),t.node.on("editing-did-ended",e.onEditEnd,e),t.node.on("editing-return",(function(){return e.onEditBoxReturn(n)}),e)}))},a.offAllEvent=function(){var e=this;this.phoneNumber.node.off("editing-did-began",this.phoneEditingDidBegan,this),this.phoneNumber.node.off("text-changed",this.phoneNumberChanged,this),this.phoneNumber.node.off("editing-did-ended",this.phoneEditingDidEnd,this),this.phoneNumber.node.off("editing-return",this.onLoginReturn,this),this.user_IdEditBox.node.off("editing-did-began",this.emailEditingDidBegan,this),this.user_IdEditBox.node.off("text-changed",this.emailChanged,this),this.user_IdEditBox.node.off("editing-did-ended",this.emailEditingDidEnd,this),this.user_IdEditBox.node.off("editing-return",this.onLoginReturn,this),m.off(B.EventType.KEY_DOWN,this.onKeyDown,this),this.isOTPBox.forEach((function(t,n){t.node.off("editing-did-began",e.onEditBoxBegan,e),t.node.off("text-changed",e.onTextChanged,e),t.node.off("editing-did-ended",e.onEditEnd,e),t.node.off("editing-return",e.onEditBoxReturn,e)}))},a.phoneEditingDidBegan=function(){this.emailBox.getComponent(O).color=E(158,158,158),this.user_IdEditBox.enabled=!1},a.emailEditingDidBegan=function(){this.phoneBox.getComponent(O).color=E(158,158,158),this.phoneNumber.enabled=!1,this.countryCodeBox.interactable=!1},a.phoneEditingDidEnd=function(){this.isTextChange&&(this.emailBox.getComponent(O).color=x.WHITE,this.user_IdEditBox.enabled=!0)},a.emailEditingDidEnd=function(){this.isTextChange&&(this.phoneBox.getComponent(O).color=x.WHITE,this.phoneNumber.enabled=!0,this.countryCodeBox.interactable=!0)},a.phoneNumberChanged=function(){this.phoneNumber.string.length>1?this.isTextChange=!1:this.isTextChange=!0},a.emailChanged=function(){this.user_IdEditBox.string.length>1?this.isTextChange=!1:this.isTextChange=!0},a.showBuyXPPanel=function(){this.uiNode.active=!0,this.bgNode.active=!0,C(this.bgNode.getComponent(b)).to(.2,{opacity:255}).start(),C(this.uiNode).to(.2,{position:new T(0,0,0)}).start(),this.init()},a.init=function(){var e;this.popUp1.active=!0,this.popUp2.active=!1,this.phoneNumber.string="",this.user_IdEditBox.string="",this.TransferXP.string="",this.closeClick.interactable=!0,this.isButtonLocked=!1,this.isOTPBox.forEach((function(e){e.string="",e.getComponentInChildren(c).string=""})),k.is_Login_with_Teligram||k.is_Login_with_Wallet?this.buttonLabel.string=z.instance.t("transfer"):this.buttonLabel.string=z.instance.t("send_otp"),this.onAllEvent(),this.timerBase.stopTimer(),this.sendOtpButton.interactable=!0,this.isSendOtp=!1,this.balance=Number(null==(e=L.playerBalancesResponse)||null==(e=e.data)?void 0:e.play_balance)||0;var t=this.balance||0;this.balanceLabel.string=z.instance.t("balance",{amount:t}),this.VerifyOtp.interactable=!0,this.isTextChange=!0,this.isTextChange&&(this.emailBox.getComponent(O).color=x.WHITE,this.user_IdEditBox.enabled=!0,this.phoneBox.getComponent(O).color=x.WHITE,this.phoneNumber.enabled=!0,this.countryCodeBox.interactable=!0)},a.hideBuyXPPanel=function(){var e=this;C(this.bgNode.getComponent(b)).to(.2,{opacity:0}).call((function(){e.bgNode.active=!1})).start(),C(this.uiNode).to(.2,{position:new T(0,-1500,0)}).call((function(){e.uiNode.active=!1})).start(),this.offAllEvent()},a.onTransferXPClick=function(){var e=r(s().mark((function e(){var t,n,i,o,r,a,l,u,c,d=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(this),!this.isButtonLocked){e.next=3;break}return e.abrupt("return");case 3:if(this.isButtonLocked=!0,this.sendOtpButton.interactable=!1,this.closeClick.interactable=!1,n=this.countryCode.string,i=this.phoneNumber.string,o=this.user_IdEditBox.string,r=this.TransferXP.string,a=this.createOtpRequest(n,i,o,r),console.log("validations",a),console.log("cc, phone, email, transferXP",n,i,o,r),this.balance=Number(null==(t=L.playerBalancesResponse)||null==(t=t.data)?void 0:t.play_balance)||0,!(Number(this.TransferXP.string)>Number(this.balance))){e.next=21;break}return"Insufficient balance. Please add funds to continue.",M.getDispatcher().emit(w.ERROR_MSG_NOTIFY,"Insufficient balance. Please add funds to continue."),this.sendOtpButton.interactable=!0,this.isButtonLocked=!1,this.closeClick.interactable=!0,e.abrupt("return");case 21:if(a){e.next=29;break}return this.getLoginAlertMessage(n,i,o,r),this.sendOtpButton.interactable=!0,this.isButtonLocked=!1,this.closeClick.interactable=!0,e.abrupt("return");case 29:this.sendOtpButton.interactable=!1;case 30:if(this.otpRes=a,!k.is_Login_with_Teligram&&!k.is_Login_with_Wallet){e.next=37;break}return this.isSendOtp=!0,this.isOtpClicked=!1,this.SenOtpRes=null,this.onClickOtp(),e.abrupt("return");case 37:return e.prev=37,this.offResend(),e.next=41,v.request(N.SEND_OTP_XP_TRANSFER,R.POST,a,!0);case 41:this.SenOtpRes=e.sent,u=z.instance.t("enter_code_sent_to"),c=(null==(l=this.SenOtpRes)||null==(l=l.data)?void 0:l.identifier)||"",this.codeSentWith.string="<color=#ffffff>"+u+" </color><color=#00FFA3>"+c+"</color>",this.timerBase.stopTimer(),this.timerBase.initializeTime(60),this.closeClick.interactable=!0,this.isButtonLocked=!1,this.isSendOtp=!0,this.isOtpClicked=!1,this.isOTPBox[0].focus(),this.popUp1.active=!1,this.popUp2.active=!0,e.next=63;break;case 56:e.prev=56,e.t0=e.catch(37),this.sendOtpButton.interactable=!0,this.closeClick.interactable=!0,this.isButtonLocked=!1,this.otpTimeUp(),console.error("Send OTP Error:",e.t0);case 63:this.scheduleOnce((function(){d.isButtonLocked=!1}),1);case 64:case"end":return e.stop()}}),e,this,[[37,56]])})));return function(){return e.apply(this,arguments)}}(),a.resendOtp=function(){this.offResend(),this.isSendOtp=!1,this.onTransferXPClick(),this.isOTPBox.forEach((function(e){return e.string=""})),this.resetOTPLabel()},a.createOtpRequest=function(e,t,n,i){return!i||isNaN(Number(i))||Number(i)<=0?null:e&&this.isRealCountryCode(e)&&t&&this.isValidPhoneNumber(t)?{xp:Number(i),reciever_mobile_no:""+e+t}:n&&this.isValidEmail(n)?{xp:Number(i),user_id:n}:null},a.onClickOtp=function(){var e=r(s().mark((function e(){var t,n,i,o,r,a,l,u,c,d,h,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isOtpClicked){e.next=2;break}return e.abrupt("return");case 2:if(l={signature:"",address:"",timestamp:"",nonce:"",message:""},!k.is_Login_with_Wallet){e.next=17;break}return e.prev=4,e.next=7,this.walletManager.requestSignature();case 7:u=e.sent,l=JSON.parse(u),e.next=17;break;case 11:return e.prev=11,e.t0=e.catch(4),this.sendOtpButton.interactable=!0,this.closeClick.interactable=!0,this.isButtonLocked=!1,e.abrupt("return");case 17:if(this.isOtpClicked=!0,this.VerifyOtp.interactable=!1,this.closeClick.interactable=!1,4===(c=this.getOTPCode()).length||k.is_Login_with_Teligram||k.is_Login_with_Wallet){e.next=27;break}return this.getOtpAlertMessage(c),this.isOtpClicked=!1,this.VerifyOtp.interactable=!0,this.closeClick.interactable=!1,e.abrupt("return");case 27:return d={xp:this.otpRes.xp},null!=(t=l)&&t.signature&&(d.signature=l.signature,d.message=l.message),d.otpRequestId=""+(null==(n=this.SenOtpRes)||null==(n=n.data)?void 0:n.otpRequestId),null!=(i=this.SenOtpRes)&&null!=(i=i.data)&&i.otpRequestId&&(d.otpRequestId=""+(null==(o=this.SenOtpRes)||null==(o=o.data)?void 0:o.otpRequestId)),c&&(d.otp=""+c),null!=(r=this.otpRes)&&r.reciever_mobile_no&&(d.reciever_mobile_no=this.otpRes.reciever_mobile_no),null!=(a=this.otpRes)&&a.user_id&&(d.user_id=this.otpRes.user_id),e.prev=34,e.next=37,v.request(N.VERIFY_OTP_XP_TRANSFER,R.POST,d,!0);case 37:p=e.sent,this.hideBuyXPPanel(),this.offAllEvent(),console.log("OTP Verification Response:",p),this.timerBase.stopTimer(),this.showPopup("Success","Your XP transfer was completed successfully!"),null!=(h=L.playerBalancesResponse)&&null!=(h=h.data)&&h.play_balance&&(L.playerBalancesResponse.data.play_balance=(this.balance-p.data.plays||0).toString(),this.updateWalletBalance.string=""+L.playerBalancesResponse.data.play_balance),e.next=53;break;case 46:e.prev=46,e.t1=e.catch(34),(k.is_Login_with_Teligram||k.is_Login_with_Wallet)&&(this.sendOtpButton.interactable=!0,this.closeClick.interactable=!0,this.isSendOtp=!1,this.isButtonLocked=!1),console.error("OTP Verification Error:",e.t1),this.isOtpClicked=!1,this.VerifyOtp.interactable=!0,this.closeClick.interactable=!0;case 53:case"end":return e.stop()}}),e,this,[[4,11],[34,46]])})));return function(){return e.apply(this,arguments)}}(),a.otpTimeUp=function(){this.resendOTP.interactable=!0;var e=z.instance.t("didnt_receive_code"),t=z.instance.t("resend");this.resendOTP.node.getComponent(f).string="<color=#000000>"+e+" </color><color=#0000ff><u>"+t+"</u></color>"},a.offResend=function(){this.resendOTP.interactable=!1;var e=z.instance.t("didnt_receive_code"),t=z.instance.t("resend");this.resendOTP.node.getComponent(f).string="<color=#969696>"+e+" </color><color=#969696><u>"+t+"</u></color>"},a.iInvalidOTP=function(e){this.isOTPBox.forEach((function(e){e.node.getComponentInChildren(c).color=x.RED}))},a.resetOTPLabel=function(){this.isOTPBox.forEach((function(e){e.node.getComponentInChildren(c).color=x.WHITE}))},a.getOtpAlertMessage=function(e){var t="Something went wrong.";e?4!==e.length&&(t="OTP must be 4 digits."):t="OTP cannot be empty.",M.getDispatcher().emit(w.ERROR_MSG_NOTIFY,t||"")},a.getLoginAlertMessage=function(e,t,n,i){var o="Something went wrong.";(!i||isNaN(Number(i))||Number(i)<=0)&&(o="Please enter a valid amount to transfer."),""!=n?n&&""!==n.trim()&&n.trim()!=L.loginDataResponse.data.user_id&&this.isValidEmail(n)||(o="Invalid User ID."):""!=t?t&&""!==t.trim()?this.isValidPhoneNumber(t)&&e+t.trim()!=L.loginDataResponse.data.mobile_no?e&&this.isRealCountryCode(e)||(o="Invalid country code format."):o="invalid phone number.":o="Please enter your phone number.":t||n?e&&this.isRealCountryCode(e)||(o="Invalid country code format."):o="Phone Number OR User ID required!",M.getDispatcher().emit(w.ERROR_MSG_NOTIFY,o||"")},a.showPopup=function(e,t){var n=this,i=_(this.customPopUp);i.setPosition(0,0),i.setScale(T.ZERO),this.node.addChild(i);i.getComponent(D).setCallback((function(){return n.setZoomOut(i)}),null),i.getComponent(D).Msg.string=t,i.getComponent(D).title.string=e,this.setZoom(i)},a.setZoom=function(e){C(e).to(.2,{scale:new T(1.2,1.2,1.2)}).to(.1,{scale:new T(1,1,1)}).start()},a.setZoomOut=function(e){C(e).to(.2,{scale:T.ZERO}).destroySelf().start()},a.onEditboxEditingBegan=function(){I.emit(S,!0)},a.onEditboxEditingEnd=function(){I.emit(S,!1)},a.onEditBoxBegan=function(e){this.onEditboxEditingBegan(),this.currentIndex=e,this.resetOTPLabel()},a.onTextChanged=function(e){var t=this.isOTPBox[e].string;3===e&&0!=t.length?(this.isOTPBox[e].string=t.charAt(0),this.focusPrevEditBox(e+1),console.log("Final OTP:",this.getOTPCode()),this.editSendOtp()):2===t.length?(this.isOTPBox[e].string=t.charAt(0),this.focusNextEditBox(e,t.charAt(1)),this.editSendOtp()):0===t.length?this.focusPrevEditBox(e):t.length>1&&this.focusPrevEditBox(e+1)},a.editSendOtp=function(){if(4==this.getOTPCode().length&&this.isSendOtp){if(this.isOtpClicked)return;this.onClickOtp()}else;},a.showError=function(e){M.getDispatcher().emit(w.ERROR_MSG_NOTIFY,e||"")},a.focusNextEditBox=function(e,t){e<this.isOTPBox.length-1&&(this.isOTPBox[e+1].string=t,this.isOTPBox[e+1].focus())},a.focusPrevEditBox=function(e){e>0&&this.isOTPBox[e-1].focus()},a.isValidPhoneNumber=function(e){return/^\d{10}$/.test(e)},a.isFirstOrLastSpace=function(e){return!(!e||0===e.length)&&(e.startsWith(" ")||e.endsWith(" "))},a.isValidEmail=function(e){var t=e;if(this.isFirstOrLastSpace(t))return!1;if(!t.trim())return!1;return!!/^[A-Za-z0-9_\-!@#$%^&*()+=\{\}\[\]:;"'<>,.?/\\ ]+$/.test(t)&&(!(t.length>9)&&!(t.trim().length<=3))},a.isRealCountryCode=function(e){return Me.has(e)},a.getOTPCode=function(){return this.isOTPBox.map((function(e){return e.string.trim()})).join("")},a.onEditEnd=function(){this.onEditboxEditingEnd()},a.onLoginReturn=function(){this.isSendOtp||this.isOtpClicked||this.onTransferXPClick()},a.onEditBoxReturn=function(e){if(this.isSendOtp&&!this.isOtpClicked){this.VerifyOtp.node;this.onClickOtp()}},t}(P)).prototype,"bgNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(ce.prototype,"uiNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(ce.prototype,"countryCode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(ce.prototype,"phoneNumber",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(ce.prototype,"user_IdEditBox",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(ce.prototype,"TransferXP",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(ce.prototype,"popUp1",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(ce.prototype,"popUp2",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(ce.prototype,"balanceLabel",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(ce.prototype,"updateWalletBalance",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(ce.prototype,"isOTPBox",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ce=t(ce.prototype,"customPopUp",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(ce.prototype,"timerBase",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(ce.prototype,"sendOtpButton",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(ce.prototype,"resendOTP",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(ce.prototype,"VerifyOtp",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(ce.prototype,"codeSentWith",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(ce.prototype,"emailBox",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(ce.prototype,"phoneBox",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(ce.prototype,"countryCodeBox",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(ce.prototype,"closeClick",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t(ce.prototype,"buttonLabel",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(ce.prototype,"walletManager",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=ce))||ue)),new Set(["+1","+44","+91","+81","+61","+49","+33","+971","+86","+7"]));a._RF.pop()}}}));

System.register("chunks:///_virtual/TutorialItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,o,n,a,l,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,l=t.Enum,u=t.Vec2,c=t.Component}],execute:function(){var p,s,b,m,f,y,g,h,d,z,v,w,R;n._RF.push({},"00738mbj0NJh548Knwft51/","TutorialItem",void 0);var I=a.ccclass,M=a.property,k=l({bottomRight:0,bottomLeft:1,topLeft:2,topRight:3,topMiddle:4,bottomMiddle:5});t("TutorialItem",(p=I("TutorialItem"),s=M(String),b=M({type:u,tooltip:"ItemSize",visible:!0}),m=M({type:Number,tooltip:"animation time",visible:!0}),f=M(Boolean),y=M({type:k,tooltip:"Message Show Side",visible:!0}),p((d=e((h=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,r(e,"key",d,o(e)),r(e,"size",z,o(e)),r(e,"time",v,o(e)),r(e,"isMaskRect",w,o(e)),r(e,"tag",R,o(e)),e}return i(e,t),e}(c)).prototype,"key",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z=e(h.prototype,"size",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(0,0)}}),v=e(h.prototype,"time",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),w=e(h.prototype,"isMaskRect",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=e(h.prototype,"tag",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.bottomRight}}),g=h))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/UnifiedWalletManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./BigDealEvents.ts"],(function(e){var t,n,r,a,o,s,c,l,i,u;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime,a=e.extends,o=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,c=e._decorator,l=e.Component},function(e){i=e.default},function(e){u=e.StaticProperties}],execute:function(){var d;s._RF.push({},"8b4e9ybK9tF7rDl/suXlxnT","UnifiedWalletManager",void 0);var h=c.ccclass,w=(c.property,e("WalletType",function(e){return e.METAMASK="metamask",e.WALLETCONNECT="walletconnect",e.TRUST="trust",e.COINBASE="coinbase",e.NONE="none",e}({}))),v=e("NetworkType",function(e){return e.ETHEREUM="ethereum",e.POLYGON="polygon",e.BSC="bsc",e.ARBITRUM="arbitrum",e.OPTIMISM="optimism",e.BASE="base",e.UNKNOWN="unknown",e}({}));e("UnifiedWalletManager",h("UnifiedWalletManager")(d=function(e){function s(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).walletStatus={connected:!1,address:null,walletType:null,network:null,balance:null},t.onConnectCallback=null,t.onDisconnectCallback=null,t.onAccountChangeCallback=null,t.onChainChangeCallback=null,t.wcProvider=null,t.wcModal=null,t.detectedProviders=new Map,t.metamaskProvider=null,t.coinbaseProvider=null,t.trustProvider=null,t.isReconnecting=!1,t.reconnectAttempts=0,t.maxReconnectAttempts=3,t.WALLETS=[{type:w.METAMASK,name:"MetaMask",icon:"ðŸ¦Š",installed:!1,downloadUrl:"https://metamask.io/download/"},{type:w.WALLETCONNECT,name:"WalletConnect",icon:"ðŸ”—",installed:!0,downloadUrl:"https://walletconnect.com/"},{type:w.TRUST,name:"Trust Wallet",icon:"ðŸ›¡ï¸",installed:!1,downloadUrl:"https://trustwallet.com/download"},{type:w.COINBASE,name:"Coinbase Wallet",icon:"ðŸ’¼",installed:!1,downloadUrl:"https://www.coinbase.com/wallet/downloads"}],t}t(s,e);var c=s.prototype;return c.onLoad=function(){console.log("ðŸš€ Unified Wallet Manager - Production Mode"),this.initEIP6963Detection()},c.start=function(){console.log("â³ Waiting for wallet extensions...")},c.initWalletManager=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("ðŸ”„ Initializing Wallet Manager..."),e.next=3,this.waitForWalletExtensions();case 3:return this.detectInstalledWallets(),e.next=6,this.checkExistingConnection();case 6:console.log("âœ… Wallet Manager Ready");case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.initEIP6963Detection=function(){var e,t=this;if("undefined"!=typeof window){var n=function(e){var n=e.detail;console.log("ðŸ“¢ EIP-6963 Provider Detected:",n.info.name),t.detectedProviders.set(n.info.uuid,n),t.mapProviderToWallet(n)};window.addEventListener("eip6963:announceProvider",n),null==(e=window.parent)||e.addEventListener("eip6963:announceProvider",n);try{window.dispatchEvent(new Event("eip6963:requestProvider"))}catch(e){console.warn("âš ï¸ Error dispatching on window:",e)}try{var r;null==(r=window.parent)||r.dispatchEvent(new Event("eip6963:requestProvider"))}catch(e){console.warn("âš ï¸ Error dispatching on window.parent:",e)}}},c.mapProviderToWallet=function(e){var t=e.info.name.toLowerCase(),n=e.info.rdns.toLowerCase();(t.includes("metamask")||n.includes("metamask"))&&(this.metamaskProvider=e.provider,this.updateWalletInstallStatus(w.METAMASK,!0),console.log("âœ… MetaMask Provider Mapped")),(t.includes("coinbase")||n.includes("coinbase"))&&(this.coinbaseProvider=e.provider,this.updateWalletInstallStatus(w.COINBASE,!0),console.log("âœ… Coinbase Provider Mapped")),(t.includes("trust")||n.includes("trust"))&&(this.trustProvider=e.provider,this.updateWalletInstallStatus(w.TRUST,!0),console.log("âœ… Trust Wallet Provider Mapped"))},c.waitForWalletExtensions=function(){var e=n(r().mark((function e(){var t=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=0,r=setInterval((function(){n++,(window.ethereum||t.detectedProviders.size>0)&&(console.log("âœ… Wallet extension ready"),clearInterval(r),e()),n>=20&&(console.log("â±ï¸ Timeout waiting for wallets"),clearInterval(r),e())}),100)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c.detectInstalledWallets=function(){var e=this,t=window.ethereum;t||0!==this.detectedProviders.size?this.detectedProviders.size>0?console.log("âœ… "+this.detectedProviders.size+" wallets detected via EIP-6963"):(console.log("ðŸ“¡ Using legacy detection..."),t&&(t.providers&&Array.isArray(t.providers)?t.providers.forEach((function(t){e.detectSingleProvider(t)})):this.detectSingleProvider(t))):console.log("âš ï¸ No wallet extensions detected")},c.detectSingleProvider=function(e){e.isMetaMask&&!this.metamaskProvider&&(this.metamaskProvider=e,this.updateWalletInstallStatus(w.METAMASK,!0),console.log("âœ… MetaMask detected (legacy)")),e.isCoinbaseWallet&&!this.coinbaseProvider&&(this.coinbaseProvider=e,this.updateWalletInstallStatus(w.COINBASE,!0),console.log("âœ… Coinbase detected (legacy)")),e.isTrust&&!this.trustProvider&&(this.trustProvider=e,this.updateWalletInstallStatus(w.TRUST,!0),console.log("âœ… Trust Wallet detected (legacy)"))},c.updateWalletInstallStatus=function(e,t){var n=this.WALLETS.find((function(t){return t.type===e}));n&&(n.installed=t)},c.getAvailableWallets=function(){return[].concat(this.WALLETS)},c.checkExistingConnection=function(){var e=n(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isReconnecting){e.next=2;break}return e.abrupt("return");case 2:if(this.isReconnecting=!0,console.log("ðŸ” Checking for existing connection..."),e.prev=4,t=localStorage.getItem("lastConnectedWallet"),n=localStorage.getItem("lastWalletAddress"),t&&n){e.next=11;break}return console.log("â„¹ï¸ No previous connection found"),this.isReconnecting=!1,e.abrupt("return");case 11:return console.log("ðŸ”„ Attempting to reconnect "+t+"..."),e.next=14,this.delay(500);case 14:if(t!==w.WALLETCONNECT){e.next=19;break}return e.next=17,this.reconnectWalletConnect();case 17:e.next=21;break;case 19:return e.next=21,this.reconnectBrowserWallet(t);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(4),console.error("âŒ Reconnection failed:",e.t0),this.clearStoredConnection();case 27:return e.prev=27,this.isReconnecting=!1,e.finish(27);case 30:case"end":return e.stop()}}),e,this,[[4,23,27,30]])})));return function(){return e.apply(this,arguments)}}(),c.reconnectBrowserWallet=function(){var e=n(r().mark((function e(t){var n,a,o,s,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.getProviderForWallet(t)){e.next=4;break}return console.log("âš ï¸ Provider not available for reconnection"),e.abrupt("return");case 4:return e.prev=4,e.next=7,n.request({method:"eth_accounts"});case 7:if((a=e.sent)&&0!==a.length){e.next=12;break}return console.log("â„¹ï¸ No accounts connected"),this.clearStoredConnection(),e.abrupt("return");case 12:return o=a[0],e.next=15,n.request({method:"eth_chainId"});case 15:return s=e.sent,e.next=18,n.request({method:"eth_getBalance",params:[o,"latest"]});case 18:c=e.sent,this.walletStatus={connected:!0,address:o,walletType:t,network:this.getNetworkFromChainId(s),balance:this.formatBalance(c,s),chainId:s},u.is_Login_with_Wallet=!0,this.setupEventListeners(n),this.onConnectCallback&&this.onConnectCallback(this.walletStatus),i.getDispatcher().emit("Wallet_auto-reconnected"),console.log("âœ… Wallet auto-reconnected:",o),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(4),console.error("âŒ Browser wallet reconnection failed:",e.t0),this.clearStoredConnection();case 31:case"end":return e.stop()}}),e,this,[[4,27]])})));return function(t){return e.apply(this,arguments)}}(),c.reconnectWalletConnect=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("ðŸ”„ Reconnecting WalletConnect...");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c.connect=function(){var e=n(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("ðŸ”„ Connecting to "+t+"..."),e.prev=1,e.t0=t,e.next=e.t0===w.METAMASK?5:e.t0===w.WALLETCONNECT?9:e.t0===w.TRUST?13:e.t0===w.COINBASE?17:21;break;case 5:return e.next=7,this.connectMetaMask();case 7:return n=e.sent,e.abrupt("break",22);case 9:return e.next=11,this.connectWalletConnect();case 11:return n=e.sent,e.abrupt("break",22);case 13:return e.next=15,this.connectTrust();case 15:return n=e.sent,e.abrupt("break",22);case 17:return e.next=19,this.connectCoinbase();case 19:return n=e.sent,e.abrupt("break",22);case 21:throw new Error("Unsupported wallet type");case 22:return this.storeConnection(t,n.address),e.abrupt("return",n);case 26:throw e.prev=26,e.t1=e.catch(1),console.error("âŒ Connection error:",e.t1),e.t1;case 30:case"end":return e.stop()}}),e,this,[[1,26]])})));return function(t){return e.apply(this,arguments)}}(),c.getProviderForWallet=function(e){switch(e){case w.METAMASK:return this.metamaskProvider;case w.COINBASE:return this.coinbaseProvider;case w.TRUST:return this.trustProvider;default:return null}},c.connectMetaMask=function(){var e=n(r().mark((function e(){var t,n,a,o,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.metamaskProvider){e.next=5;break}throw(n=new Error("MetaMask is not installed")).code="NOT_INSTALLED",n.downloadUrl=null==(t=this.WALLETS.find((function(e){return e.type===w.METAMASK})))?void 0:t.downloadUrl,n;case 5:return e.prev=5,e.next=8,this.metamaskProvider.request({method:"eth_requestAccounts"});case 8:if((a=e.sent)&&0!==a.length){e.next=11;break}throw new Error("No accounts found");case 11:return e.next=13,this.metamaskProvider.request({method:"eth_chainId"});case 13:return o=e.sent,e.next=16,this.metamaskProvider.request({method:"eth_getBalance",params:[a[0],"latest"]});case 16:return s=e.sent,this.walletStatus={connected:!0,address:a[0],walletType:w.METAMASK,network:this.getNetworkFromChainId(o),balance:this.formatBalance(s,o),chainId:o},this.setupEventListeners(this.metamaskProvider),this.onConnectCallback&&this.onConnectCallback(this.walletStatus),console.log("âœ… MetaMask Connected:",a[0]),e.abrupt("return",this.walletStatus);case 24:if(e.prev=24,e.t0=e.catch(5),console.error("âŒ MetaMask Connection Error:",e.t0),4001!==e.t0.code){e.next=29;break}throw new Error("User rejected the connection request");case 29:throw e.t0;case 30:case"end":return e.stop()}}),e,this,[[5,24]])})));return function(){return e.apply(this,arguments)}}(),c.connectTrust=function(){var e=n(r().mark((function e(){var t,n,a,o,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.trustProvider){e.next=5;break}throw(n=new Error("Trust Wallet is not installed")).code="NOT_INSTALLED",n.downloadUrl=null==(t=this.WALLETS.find((function(e){return e.type===w.TRUST})))?void 0:t.downloadUrl,n;case 5:return e.prev=5,e.next=8,this.trustProvider.request({method:"eth_requestAccounts"});case 8:if((a=e.sent)&&0!==a.length){e.next=11;break}throw new Error("No accounts found");case 11:return e.next=13,this.trustProvider.request({method:"eth_chainId"});case 13:return o=e.sent,e.next=16,this.trustProvider.request({method:"eth_getBalance",params:[a[0],"latest"]});case 16:return s=e.sent,this.walletStatus={connected:!0,address:a[0],walletType:w.TRUST,network:this.getNetworkFromChainId(o),balance:this.formatBalance(s,o),chainId:o},this.setupEventListeners(this.trustProvider),this.onConnectCallback&&this.onConnectCallback(this.walletStatus),console.log("âœ… Trust Wallet Connected:",a[0]),e.abrupt("return",this.walletStatus);case 24:if(e.prev=24,e.t0=e.catch(5),console.error("âŒ Trust Wallet Error:",e.t0),4001!==e.t0.code){e.next=29;break}throw new Error("User rejected the connection request");case 29:throw e.t0;case 30:case"end":return e.stop()}}),e,this,[[5,24]])})));return function(){return e.apply(this,arguments)}}(),c.connectCoinbase=function(){var e=n(r().mark((function e(){var t,n,a,o,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.coinbaseProvider){e.next=5;break}throw(n=new Error("Coinbase Wallet is not installed")).code="NOT_INSTALLED",n.downloadUrl=null==(t=this.WALLETS.find((function(e){return e.type===w.COINBASE})))?void 0:t.downloadUrl,n;case 5:return e.prev=5,e.next=8,this.coinbaseProvider.request({method:"eth_requestAccounts"});case 8:if((a=e.sent)&&0!==a.length){e.next=11;break}throw new Error("No accounts found");case 11:return e.next=13,this.coinbaseProvider.request({method:"eth_chainId"});case 13:return o=e.sent,e.next=16,this.coinbaseProvider.request({method:"eth_getBalance",params:[a[0],"latest"]});case 16:return s=e.sent,this.walletStatus={connected:!0,address:a[0],walletType:w.COINBASE,network:this.getNetworkFromChainId(o),balance:this.formatBalance(s,o),chainId:o},this.setupEventListeners(this.coinbaseProvider),this.onConnectCallback&&this.onConnectCallback(this.walletStatus),console.log("âœ… Coinbase Wallet Connected:",a[0]),e.abrupt("return",this.walletStatus);case 24:if(e.prev=24,e.t0=e.catch(5),console.error("âŒ Coinbase Wallet Error:",e.t0),4001!==e.t0.code){e.next=29;break}throw new Error("User rejected the connection request");case 29:throw e.t0;case 30:case"end":return e.stop()}}),e,this,[[5,24]])})));return function(){return e.apply(this,arguments)}}(),c.connectWalletConnect=function(){var e=n(r().mark((function e(){var t,n,a,o,s,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("ðŸ”„ Connecting to WalletConnect v2.0..."),t=window.Web3Modal,n=window.EthereumProvider,t&&n){e.next=6;break}throw new Error("WalletConnect v2 libraries not loaded. Please add them to index.html");case 6:return e.next=8,n.init({projectId:"9c4e118415cf47b220be5182d5b9c1c5",chains:[1],showQrModal:!0,qrModalOptions:{themeMode:"dark",themeVariables:{"--w3m-z-index":"9999"}},metadata:{name:"BigDeal Game",description:"Connect your wallet to BigDeal",url:window.location.origin,icons:["https://walletconnect.com/walletconnect-logo.png"]}});case 8:return this.wcProvider=e.sent,console.log("ðŸ“± Opening WalletConnect Modal..."),e.next=12,this.wcProvider.connect();case 12:if((a=this.wcProvider.accounts)&&0!==a.length){e.next=15;break}throw new Error("No accounts connected");case 15:return o=a[0],s="0x"+this.wcProvider.chainId.toString(16),e.next=19,this.wcProvider.request({method:"eth_getBalance",params:[o,"latest"]});case 19:return c=e.sent,this.walletStatus={connected:!0,address:o,walletType:w.WALLETCONNECT,network:this.getNetworkFromChainId(s),balance:this.formatBalance(c,s),chainId:s},this.setupWalletConnectListeners(),this.onConnectCallback&&this.onConnectCallback(this.walletStatus),console.log("âœ… WalletConnect Connected:",o),e.abrupt("return",this.walletStatus);case 27:if(e.prev=27,e.t0=e.catch(0),console.error("âŒ WalletConnect Error:",e.t0),"User closed modal"!==e.t0.message&&!e.t0.message.includes("rejected")){e.next=32;break}throw new Error("Connection cancelled by user");case 32:throw e.t0;case 33:case"end":return e.stop()}}),e,this,[[0,27]])})));return function(){return e.apply(this,arguments)}}(),c.setupEventListeners=function(e){var t=this;if(e){try{null==e.removeAllListeners||e.removeAllListeners("accountsChanged"),null==e.removeAllListeners||e.removeAllListeners("chainChanged"),null==e.removeAllListeners||e.removeAllListeners("disconnect")}catch(e){console.warn("Could not remove old listeners:",e)}e.on("accountsChanged",n(r().mark((function n(a){var o,s;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("ðŸ”„ Account changed:",a),0!==a.length){n.next=6;break}return n.next=4,t.disconnect();case 4:n.next=21;break;case 6:return o=t.walletStatus.address,t.walletStatus.address=a[0],localStorage.setItem("lastWalletAddress",a[0]),n.prev=9,n.next=12,e.request({method:"eth_getBalance",params:[a[0],"latest"]});case 12:s=n.sent,t.walletStatus.balance=t.formatBalance(s,t.walletStatus.chainId||"0x1"),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(9),console.warn("Failed to refresh balance:",n.t0);case 19:t.onAccountChangeCallback&&o!==a[0]&&t.onAccountChangeCallback(a[0]),i.getDispatcher().emit("Wallet_account_changed",a[0]);case 21:case"end":return n.stop()}}),n,null,[[9,16]])})))),e.on("chainChanged",n(r().mark((function n(a){var o;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("ðŸ”„ Network changed:",a),t.walletStatus.network=t.getNetworkFromChainId(a),t.walletStatus.chainId=a,!t.walletStatus.address){n.next=14;break}return n.prev=4,n.next=7,e.request({method:"eth_getBalance",params:[t.walletStatus.address,"latest"]});case 7:o=n.sent,t.walletStatus.balance=t.formatBalance(o,a),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(4),console.warn("Failed to refresh balance:",n.t0);case 14:t.onChainChangeCallback&&t.onChainChangeCallback(a),i.getDispatcher().emit("Wallet_network_changed",a);case 16:case"end":return n.stop()}}),n,null,[[4,11]])})))),e.on("disconnect",n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("ðŸ”Œ Wallet disconnected"),e.next=3,t.disconnect();case 3:case"end":return e.stop()}}),e)}))))}},c.setupWalletConnectListeners=function(){var e=this;this.wcProvider&&(this.wcProvider.on("accountsChanged",n(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("ðŸ”„ WC Account changed:",n),0!==n.length){t.next=6;break}return t.next=4,e.disconnect();case 4:t.next=10;break;case 6:e.walletStatus.address=n[0],localStorage.setItem("lastWalletAddress",n[0]),e.onAccountChangeCallback&&e.onAccountChangeCallback(n[0]),i.getDispatcher().emit("Wallet_account_changed",n[0]);case 10:case"end":return t.stop()}}),t)})))),this.wcProvider.on("chainChanged",(function(t){console.log("ðŸ”„ WC Chain changed:",t);var n="0x"+t.toString(16);e.walletStatus.network=e.getNetworkFromChainId(n),e.walletStatus.chainId=n,e.onChainChangeCallback&&e.onChainChangeCallback(n),i.getDispatcher().emit("Wallet_network_changed",n)})),this.wcProvider.on("disconnect",n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("ðŸ”Œ WC Disconnected"),t.next=3,e.disconnect();case 3:case"end":return t.stop()}}),t)})))))},c.disconnect=function(){var e=n(r().mark((function e(){var t,n,a,s,c,l,d,h,v,p,g,f,m,C,k,b,x,S,E,P,T,A,W,L,y,I,M,N,B,_,U,D,O,q,R,F,H,K;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.walletStatus.connected){e.next=3;break}return console.log("â„¹ï¸ Already disconnected"),e.abrupt("return");case 3:if(console.log("ðŸ”„ Starting complete wallet disconnect..."),t=this.walletStatus.walletType,n=this.walletStatus.address,e.prev=6,t!==w.WALLETCONNECT||!this.wcProvider){e.next=21;break}return e.prev=8,null==(a=(s=this.wcProvider).removeAllListeners)||a.call(s,"accountsChanged"),null==(c=(l=this.wcProvider).removeAllListeners)||c.call(l,"chainChanged"),null==(d=(h=this.wcProvider).removeAllListeners)||d.call(h,"disconnect"),e.next=14,this.wcProvider.disconnect();case 14:this.wcProvider=null,console.log("âœ… WalletConnect disconnected"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),console.warn("âš ï¸ WalletConnect disconnect error:",e.t0);case 21:if(t!==w.METAMASK||!this.metamaskProvider){e.next=42;break}return e.prev=22,null==(v=(p=this.metamaskProvider).removeAllListeners)||v.call(p,"accountsChanged"),null==(g=(f=this.metamaskProvider).removeAllListeners)||g.call(f,"chainChanged"),null==(m=(C=this.metamaskProvider).removeAllListeners)||m.call(C,"disconnect"),null==(k=(b=this.metamaskProvider).removeAllListeners)||k.call(b,"connect"),e.prev=27,e.next=30,this.metamaskProvider.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]});case 30:console.log("âœ… MetaMask permissions revoked"),e.next=36;break;case 33:e.prev=33,e.t1=e.catch(27),console.log("â„¹ï¸ wallet_revokePermissions not supported");case 36:console.log("âœ… MetaMask disconnected"),e.next=42;break;case 39:e.prev=39,e.t2=e.catch(22),console.warn("âš ï¸ MetaMask disconnect error:",e.t2);case 42:if(t!==w.COINBASE||!this.coinbaseProvider){e.next=55;break}return e.prev=43,null==(x=(S=this.coinbaseProvider).removeAllListeners)||x.call(S,"accountsChanged"),null==(E=(P=this.coinbaseProvider).removeAllListeners)||E.call(P,"chainChanged"),null==(T=(A=this.coinbaseProvider).removeAllListeners)||T.call(A,"disconnect"),e.next=49,null==(W=(L=this.coinbaseProvider).close)?void 0:W.call(L);case 49:console.log("âœ… Coinbase Wallet disconnected"),e.next=55;break;case 52:e.prev=52,e.t3=e.catch(43),console.warn("âš ï¸ Coinbase disconnect error:",e.t3);case 55:if(t===w.TRUST&&this.trustProvider)try{null==(y=(I=this.trustProvider).removeAllListeners)||y.call(I,"accountsChanged"),null==(M=(N=this.trustProvider).removeAllListeners)||M.call(N,"chainChanged"),null==(B=(_=this.trustProvider).removeAllListeners)||B.call(_,"disconnect"),console.log("âœ… Trust Wallet disconnected")}catch(e){console.warn("âš ï¸ Trust Wallet disconnect error:",e)}["walletconnect","wc@2:core:0","wc@2:client:0","wc@2:universal_provider:0","wc@2:ethereum_provider:0","WALLETCONNECT_DEEPLINK_CHOICE","-walletlink:https://www.walletlink.org:session:id","-walletlink:https://www.walletlink.org:session:secret","-walletlink:https://www.walletlink.org:session:linked","walletlink:https://www.walletlink.org:session:id","lastConnectedWallet","lastWalletAddress","walletConnectedAt","EIP6963_WALLET","wagmi.wallet","wagmi.connected","wagmi.store","wagmi.cache","wagmi.recentConnectorId"].forEach((function(e){try{localStorage.removeItem(e)}catch(t){console.warn("âš ï¸ Could not remove "+e+":",t)}})),U=["wc@","wagmi.","-walletlink:","walletlink:"],e.prev=59,D=r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=localStorage.key(O))&&U.some((function(e){return t.startsWith(e)}))&&localStorage.removeItem(t);case 2:case"end":return e.stop()}}),e)})),O=localStorage.length-1;case 62:if(!(O>=0)){e.next=67;break}return e.delegateYield(D(),"t4",64);case 64:O--,e.next=62;break;case 67:e.next=72;break;case 69:e.prev=69,e.t5=e.catch(59),console.warn("âš ï¸ Prefix cleanup error:",e.t5);case 72:console.log("âœ… LocalStorage cleared");try{sessionStorage.clear(),console.log("âœ… SessionStorage cleared")}catch(e){console.warn("âš ï¸ SessionStorage clear error:",e)}if(e.prev=74,null==(q=indexedDB)||!q.databases){e.next=80;break}return e.next=78,indexedDB.databases();case 78:for(R=e.sent,F=o(R);!(H=F()).done;)(K=H.value).name&&(K.name.includes("walletconnect")||K.name.includes("wc@2")||K.name.includes("keyvaluestorage"))&&(indexedDB.deleteDatabase(K.name),console.log("âœ… Deleted IndexedDB: "+K.name));case 80:e.next=85;break;case 82:e.prev=82,e.t6=e.catch(74),console.warn("âš ï¸ IndexedDB cleanup error:",e.t6);case 85:if(this.walletStatus={connected:!1,address:null,walletType:null,network:null,balance:null,chainId:void 0},this.clearStoredConnection(),u.is_Login_with_Wallet=!1,i.getDispatcher().emit("Wallet_disconnected"),this.onDisconnectCallback)try{this.onDisconnectCallback()}catch(e){console.warn("âš ï¸ Disconnect callback error:",e)}console.log("ðŸŽ‰ Wallet fully disconnected!"),console.log("ðŸ“ Disconnected: "+t+" - "+n),e.next=100;break;case 94:throw e.prev=94,e.t7=e.catch(6),console.error("âŒ Error during disconnect:",e.t7),this.walletStatus={connected:!1,address:null,walletType:null,network:null,balance:null,chainId:void 0},u.is_Login_with_Wallet=!1,e.t7;case 100:case"end":return e.stop()}}),e,this,[[6,94],[8,18],[22,39],[27,33],[43,52],[59,69],[74,82]])})));return function(){return e.apply(this,arguments)}}(),c.forceDisconnect=function(){console.log("ðŸš¨ Force disconnect initiated..."),this.wcProvider=null,this.metamaskProvider=null,this.coinbaseProvider=null,this.trustProvider=null;try{localStorage.clear(),sessionStorage.clear(),console.log("âœ… All storage cleared")}catch(e){console.warn("âš ï¸ Storage clear error:",e)}this.walletStatus={connected:!1,address:null,walletType:null,network:null,balance:null,chainId:void 0},u.is_Login_with_Wallet=!1,this.onDisconnectCallback&&this.onDisconnectCallback(),console.log("âœ… Force disconnect complete")},c.requestSignature=function(){var e=n(r().mark((function e(t){var n,a,o,s,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.walletStatus.connected&&this.walletStatus.address){e.next=3;break}return console.error("âŒ Wallet not connected"),e.abrupt("return",null);case 3:if(e.prev=3,n=Date.now(),a=Math.random().toString(36).substring(7),o=t||"Welcome to BigDeal Game!\n\nPlease sign this message to verify your wallet ownership.\n\nAddress: "+this.walletStatus.address+"\nTimestamp: "+n+"\nNonce: "+a,this.walletStatus.walletType!==w.WALLETCONNECT||!this.wcProvider){e.next=13;break}return e.next=10,this.wcProvider.request({method:"personal_sign",params:[o,this.walletStatus.address]});case 10:s=e.sent,e.next=19;break;case 13:if(c=this.getProviderForWallet(this.walletStatus.walletType)){e.next=16;break}throw new Error("Provider not available");case 16:return e.next=18,c.request({method:"personal_sign",params:[o,this.walletStatus.address]});case 18:s=e.sent;case 19:return console.log("âœ… Signature obtained"),e.abrupt("return",JSON.stringify({signature:s,address:this.walletStatus.address,timestamp:n,nonce:a,message:o}));case 23:if(e.prev=23,e.t0=e.catch(3),console.error("âŒ Signature rejected:",e.t0),4001!==e.t0.code){e.next=28;break}throw new Error("User rejected signature request");case 28:throw e.t0;case 29:case"end":return e.stop()}}),e,this,[[3,23]])})));return function(t){return e.apply(this,arguments)}}(),c.sendTransaction=function(){var e=n(r().mark((function e(t,n){var a,o,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.walletStatus.connected){e.next=2;break}throw new Error("Wallet not connected");case 2:if(this.isValidAddress(t)){e.next=4;break}throw new Error("Invalid recipient address");case 4:if(e.prev=4,a=this.ethToWei(n),this.walletStatus.walletType!==w.WALLETCONNECT||!this.wcProvider){e.next=12;break}return e.next=9,this.wcProvider.request({method:"eth_sendTransaction",params:[{from:this.walletStatus.address,to:t,value:a}]});case 9:o=e.sent,e.next=18;break;case 12:if(s=this.getProviderForWallet(this.walletStatus.walletType)){e.next=15;break}throw new Error("Provider not available");case 15:return e.next=17,s.request({method:"eth_sendTransaction",params:[{from:this.walletStatus.address,to:t,value:a}]});case 17:o=e.sent;case 18:return console.log("âœ… Transaction sent:",o),e.abrupt("return",o);case 22:if(e.prev=22,e.t0=e.catch(4),console.error("âŒ Transaction error:",e.t0),4001!==e.t0.code){e.next=27;break}throw new Error("User rejected the transaction");case 27:throw e.t0;case 28:case"end":return e.stop()}}),e,this,[[4,22]])})));return function(t,n){return e.apply(this,arguments)}}(),c.refreshBalance=function(){var e=n(r().mark((function e(){var t,n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.walletStatus.connected&&this.walletStatus.address){e.next=2;break}throw new Error("Wallet not connected");case 2:if(e.prev=2,this.walletStatus.walletType!==w.WALLETCONNECT||!this.wcProvider){e.next=9;break}return e.next=6,this.wcProvider.request({method:"eth_getBalance",params:[this.walletStatus.address,"latest"]});case 6:t=e.sent,e.next=15;break;case 9:if(n=this.getProviderForWallet(this.walletStatus.walletType)){e.next=12;break}throw new Error("Provider not available");case 12:return e.next=14,n.request({method:"eth_getBalance",params:[this.walletStatus.address,"latest"]});case 14:t=e.sent;case 15:return a=this.formatBalance(t,this.walletStatus.chainId||"0x1"),this.walletStatus.balance=a,console.log("âœ… Balance refreshed:",a),e.abrupt("return",a);case 21:throw e.prev=21,e.t0=e.catch(2),console.error("âŒ Balance refresh error:",e.t0),e.t0;case 25:case"end":return e.stop()}}),e,this,[[2,21]])})));return function(){return e.apply(this,arguments)}}(),c.storeConnection=function(e,t){try{localStorage.setItem("lastConnectedWallet",e),localStorage.setItem("lastWalletAddress",t),localStorage.setItem("walletConnectedAt",Date.now().toString()),console.log("ðŸ’¾ Connection info stored")}catch(e){console.warn("Failed to store connection:",e)}},c.clearStoredConnection=function(){try{localStorage.removeItem("lastConnectedWallet"),localStorage.removeItem("lastWalletAddress"),localStorage.removeItem("walletConnectedAt"),console.log("ðŸ—‘ï¸ Stored connection cleared")}catch(e){console.warn("Failed to clear storage:",e)}},c.getNetworkFromChainId=function(e){return{"0x1":v.ETHEREUM,"0xaa36a7":v.ETHEREUM,"0x5":v.ETHEREUM,"0x89":v.POLYGON,"0x13881":v.POLYGON,"0x38":v.BSC,"0x61":v.BSC,"0xa4b1":v.ARBITRUM,"0x66eed":v.ARBITRUM,"0xa":v.OPTIMISM,"0x1a4":v.OPTIMISM,"0x2105":v.BASE,"0x14a33":v.BASE}[e]||v.UNKNOWN},c.formatBalance=function(e,t){try{var n=BigInt(e),r=Number(n)/1e18,a=this.getCurrencySymbol(t);return(r>=1?r.toFixed(4):r>=1e-4?r.toFixed(6):r.toFixed(8))+" "+a}catch(e){return console.error("Balance format error:",e),"0.0000 ETH"}},c.getCurrencySymbol=function(e){return{"0x1":"ETH","0xaa36a7":"ETH","0x5":"ETH","0x89":"MATIC","0x13881":"MATIC","0x38":"BNB","0x61":"BNB","0xa4b1":"ETH","0x66eed":"ETH","0xa":"ETH","0x1a4":"ETH","0x2105":"ETH","0x14a33":"ETH"}[e]||"ETH"},c.ethToWei=function(e){try{return"0x"+BigInt(Math.floor(1e18*parseFloat(e))).toString(16)}catch(e){throw new Error("Invalid amount format")}},c.isValidAddress=function(e){return/^0x[a-fA-F0-9]{40}$/.test(e)},c.shortenAddress=function(e){return e?e.substring(0,6)+"..."+e.substring(e.length-4):""},c.delay=function(e){return new Promise((function(t){return setTimeout(t,e)}))},c.onConnect=function(e){this.onConnectCallback=e},c.onDisconnect=function(e){this.onDisconnectCallback=e},c.onAccountChange=function(e){this.onAccountChangeCallback=e},c.onChainChange=function(e){this.onChainChangeCallback=e},c.getWalletStatus=function(){return a({},this.walletStatus)},c.isConnected=function(){return this.walletStatus.connected},c.getAddress=function(){return this.walletStatus.address},c.getBalance=function(){return this.walletStatus.balance},c.getWalletType=function(){return this.walletStatus.walletType},c.getNetwork=function(){return this.walletStatus.network},c.getChainId=function(){return this.walletStatus.chainId},c.onDestroy=function(){if(console.log("ðŸ§¹ UnifiedWalletManager cleanup..."),[this.metamaskProvider,this.coinbaseProvider,this.trustProvider].forEach((function(e){if(e)try{null==e.removeAllListeners||e.removeAllListeners("accountsChanged"),null==e.removeAllListeners||e.removeAllListeners("chainChanged"),null==e.removeAllListeners||e.removeAllListeners("disconnect")}catch(e){console.warn("Cleanup warning:",e)}})),this.wcProvider){try{var e,t,n,r,a,o,s,c;null==(e=(t=this.wcProvider).removeAllListeners)||e.call(t,"accountsChanged"),null==(n=(r=this.wcProvider).removeAllListeners)||n.call(r,"chainChanged"),null==(a=(o=this.wcProvider).removeAllListeners)||a.call(o,"disconnect"),null==(s=(c=this.wcProvider).disconnect)||s.call(c)}catch(e){console.warn("WalletConnect cleanup warning:",e)}this.wcProvider=null}"undefined"!=typeof window&&window.removeEventListener("eip6963:announceProvider",(function(){}))},s}(l))||d);s._RF.pop()}}}));

System.register("chunks:///_virtual/UniqueBidsAndCounts.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,n,t,r,u,o,l,s,a,c,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){u=e.cclegacy,o=e._decorator,l=e.Sprite,s=e.SpriteFrame,a=e.Label,c=e.Color,p=e.Component}],execute:function(){var b,q,h,U,f,d,L,y,g,m,w,C,v;u._RF.push({},"d73f0ZNG/BFrLVLbWGkFVZq","UniqueBidsAndCounts",void 0);var z=o.ccclass,F=o.property;e("UniqueBidsAndCounts",(b=z("UniqueBidsAndCounts"),q=F(l),h=F(s),U=F(s),f=F(a),d=F(a),b((g=i((y=function(e){function i(){for(var i,n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return i=e.call.apply(e,[this].concat(u))||this,t(i,"showUnique",g,r(i)),t(i,"isUniqueIcon",m,r(i)),t(i,"isNotUniqueIcon",w,r(i)),t(i,"uniqueCountLabel",C,r(i)),t(i,"isUniqueLabel",v,r(i)),i}n(i,e);var u=i.prototype;return u.setUniqueData=function(e){e?(this.showUnique.spriteFrame=this.isUniqueIcon,this.isUniqueLabel.color=c.GREEN,this.isUniqueLabel.node.children[0].active=!1):(this.showUnique.spriteFrame=this.isNotUniqueIcon,this.isUniqueLabel.color=c.RED,this.isUniqueLabel.node.children[0].active=!0)},u.setUniqueCount=function(e){this.uniqueCountLabel.string=e},i}(p)).prototype,"showUnique",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=i(y.prototype,"isUniqueIcon",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(y.prototype,"isNotUniqueIcon",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(y.prototype,"uniqueCountLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(y.prototype,"isUniqueLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=y))||L));u._RF.pop()}}}));

System.register("chunks:///_virtual/UniqueBidStorageManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IndexedDBManager.ts"],(function(e){var t,i,a,n;return{setters:[function(e){t=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){a=e.cclegacy},function(e){n=e.IndexedDBManager}],execute:function(){a._RF.push({},"9e70axMdh1GjpH7RczxEXAh","UniqueBidStorageManager",void 0);e("UniqueBidStorageManager",function(){function e(e){this.bidMap=new Map,this.localKey="",this.setLocalKey(e)}var a=e.prototype;return a.setLocalKey=function(e){var t=e;this.localKey="UniqueBidMap"+t},a.init=function(e){this.setLocalKey(e),this.loadFromStorage()},a.addBid=function(e,t){console.log("public addBid ",this.bidMap),this.bidMap.set(e,t),this.saveToStorage()},a.removeBid=function(e){console.log("this.bidMap befor uuuuu ->"+this.bidMap.size),this.bidMap.delete(e)&&(console.log("this.bidMap aaaaaa uuuu ->"+this.bidMap.size),this.saveToStorage())},a.getBidCount=function(){return this.bidMap.size},a.getAllBids=function(){return Array.from(this.bidMap.entries())},a.loadFromStorage=function(){var e=t(i().mark((function e(){var t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.inst.getItem(this.localKey)){e.next=5;break}return e.next=3,n.inst.getItem(this.localKey);case 3:if(t=e.sent)try{a=JSON.parse(t),this.bidMap=new Map(a)}catch(e){console.error("Failed to parse bid data from localStorage",e),this.bidMap.clear()}case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.saveToStorage=function(){n.inst.setItem(this.localKey,JSON.stringify(Array.from(this.bidMap.entries())))},e}());a._RF.pop()}}}));

System.register("chunks:///_virtual/UniqueHistory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealGameModel.ts","./UniqueBidsAndCounts.ts","./BigDealEvents.ts","./IndexedDBManager.ts"],(function(i){var e,t,n,r,o,s,a,u,d,l,c,p,h,f,b,y,v;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized,o=i.asyncToGenerator,s=i.regeneratorRuntime},function(i){a=i.cclegacy,u=i._decorator,d=i.Prefab,l=i.Node,c=i.instantiate,p=i.Label,h=i.Component},function(i){f=i.BigDealGameModel},function(i){b=i.UniqueBidsAndCounts},function(i){y=i.StaticProperties},function(i){v=i.IndexedDBManager}],execute:function(){var g,B,M,m,q,H,C,U,w,x,P;a._RF.push({},"1227f0w1V1JII5W0IxHOG1c","UniqueHistory",void 0);var A=u.ccclass,I=u.property;i("UniqueHistory",(g=A("UniqueHistory"),B=I(d),M=I(l),m=I(l),q=I(b),g((U=e((C=function(i){function e(){for(var e,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return e=i.call.apply(i,[this].concat(o))||this,n(e,"isHistoryPrefab",U,r(e)),n(e,"isUniqueHistoryParent",w,r(e)),n(e,"noBids",x,r(e)),n(e,"uniqueBidsAndCounts",P,r(e)),e.bidMap=new Map,e.localKey="UniqueBidMap",e.nodeMap=new Map,e}t(e,i);var a=e.prototype;return a.init=function(){var i=o(s().mark((function i(){return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return this.isUniqueHistoryParent.removeAllChildren(),this.nodeMap.clear(),this.bidMap.clear(),i.next=5,this.loadFromStorage();case 5:this.renderAllBids();case 6:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}(),a.addBid=function(i,e){var t;if(this.localKey=null==(t=f.auctionHouseListResponse)||null==(t=t.data[y.auctionIndex])?void 0:t.id,!this.bidMap.has(i)){this.bidMap.set(i,e),this.createBidNode(i,e.bidPrice);var n=this.nodeMap.size;this.noBids.active=!(n>0),this.uniqueBidsAndCounts.setUniqueCount(n.toString())}},a.removeBid=function(i,e){if(console.log("this.bidMap befor ->"+this.bidMap.size),this.bidMap.delete(i)){console.log("this.bidMap affff ->"+this.bidMap.size),this.removeBidNode(i);var t=this.nodeMap.size;this.noBids.active=!(t>0),this.uniqueBidsAndCounts.setUniqueCount(t.toString())}},a.loadFromStorage=function(){var i=o(s().mark((function i(){var e,t,n,r,o;return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(this.localKey!=(null==(e=f.auctionHouseListResponse)||null==(e=e.data[y.auctionIndex])?void 0:e.id)&&(this.localKey=null==(t=f.auctionHouseListResponse)||null==(t=t.data[y.auctionIndex])?void 0:t.id),!v.inst.getItem(this.localKey)){i.next=6;break}return i.next=4,v.inst.getItem(this.localKey);case 4:if(n=i.sent)try{r=JSON.parse(n),o=r.filter((function(i){i[0];return!0===i[1].isUnique})),this.bidMap=new Map(o)}catch(i){console.error("Error parsing or filtering bid data from localStorage:",i),this.bidMap.clear()}case 6:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}(),a.createBidNode=function(i,e){var t;if(e){var n=c(this.isHistoryPrefab),r=null==(t=n.getChildByName("Amount"))?void 0:t.getComponent(p);r&&(r.string=null==e?void 0:e.toString()),this.isUniqueHistoryParent.addChild(n),n.setSiblingIndex(0),this.nodeMap.set(i,n)}},a.removeBidNode=function(i){var e=this.nodeMap.get(i);console.log(e,"removeBidNode unniqe history"),e&&e.isValid&&e.destroy(),this.nodeMap.delete(i)},a.renderAllBids=function(){var i=this;this.bidMap.forEach((function(e,t){i.createBidNode(t,e.bidPrice)}));var e=this.nodeMap.size;this.noBids.active=!(e>0),this.uniqueBidsAndCounts.setUniqueCount(e.toString())},e}(h)).prototype,"isHistoryPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(C.prototype,"isUniqueHistoryParent",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(C.prototype,"noBids",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(C.prototype,"uniqueBidsAndCounts",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=C))||H));a._RF.pop()}}}));

System.register("chunks:///_virtual/UpComingAuction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CountdownTimerForLiveAuction.ts","./GamePlay.ts","./BigDealEvents.ts"],(function(t){var e,i,n,r,o,a,u,c,l,p,s,m,b,d,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){u=t.cclegacy,c=t._decorator,l=t.Label,p=t.Node,s=t.Sprite,m=t.Component},function(t){b=t.CountdownTimerForLiveAuction},function(t){d=t.RemoteAvatar},function(t){g=t.StaticProperties}],execute:function(){var f,h,v,w,y,L,C,I,z,T,N,A,P,R,_,U,F,B,D;u._RF.push({},"553ebFC+OZIc4Rdxs6vZNwG","UpComingAuction",void 0);var x=c.ccclass,G=c.property;t("UpComingAuction",(f=x("UpComingAuction"),h=G(l),v=G(l),w=G(b),y=G(p),L=G(s),C=G(s),I=G(p),z=G(p),f((A=e((N=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"productNameLabel",A,r(e)),n(e,"productPriceLabel",P,r(e)),n(e,"countdownTimer",R,r(e)),n(e,"timecontentNode",_,r(e)),n(e,"producImage",U,r(e)),n(e,"producImage_bg",F,r(e)),n(e,"upComing",B,r(e)),n(e,"statIn",D,r(e)),e}return i(e,t),e.prototype.init=function(){var t=o(a().mark((function t(e,i,n,r,o){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.productNameLabel.string=e,this.productPriceLabel.string=i+" XP | "+n+"X",r&&(d(""+g.apiBaseURL+r,this.producImage),d(""+g.apiBaseURL+r,this.producImage_bg)),o?(this.countdownTimer.init(o,this.node),this.countdownTimer.startTimer(),this.upComing.active=!1,this.statIn.active=!0,this.timecontentNode.active=!0):(this.timecontentNode.active=!1,this.countdownTimer.node.active=!1,this.upComing.active=!0,this.statIn.active=!1);case 5:case"end":return t.stop()}}),t,this)})));return function(e,i,n,r,o){return t.apply(this,arguments)}}(),e}(m)).prototype,"productNameLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(N.prototype,"productPriceLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(N.prototype,"countdownTimer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(N.prototype,"timecontentNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(N.prototype,"producImage",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(N.prototype,"producImage_bg",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(N.prototype,"upComing",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(N.prototype,"statIn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=N))||T));u._RF.pop()}}}));

System.register("chunks:///_virtual/UpdateProfileKYC.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigDealGameModel.ts","./APIManager.ts","./ApiUrls.ts","./BigDealSocketManager.ts","./EditProfilePicture.ts","./BigDealEvents.ts","./EventManager.ts","./IndexedDBManager.ts","./LanguageManager.ts","./loadingFram.ts","./CustomPopUp.ts"],(function(e){var i,t,n,o,r,l,a,s,u,c,g,d,p,b,m,h,f,_,v,C,y,E,w,N,I,P,z,R,D,T,B,L,M,F,x,O;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){a=e.cclegacy,s=e._decorator,u=e.Node,c=e.EditBox,g=e.Label,d=e.Button,p=e.Sprite,b=e.SpriteFrame,m=e.Prefab,h=e.Toggle,f=e.UIOpacity,_=e.Widget,v=e.tween,C=e.Vec3,y=e.instantiate,E=e.Component,w=e.director},function(e){N=e.BigDealGameModel},function(e){I=e.APIManager,P=e.MethodType},function(e){z=e.API_URLS},function(e){R=e.BigDealSocketManager},function(e){D=e.EditProfilePicture},function(e){T=e.StaticProperties,B=e.BigDealEvents},function(e){L=e.default},function(e){M=e.IndexedDBManager},function(e){F=e.LanguageManager},function(e){x=e.showApiError},function(e){O=e.CustomPopUp}],execute:function(){var S,U,A,k,Z,V,G,W,Y,j,q,H,K,$,J,X,Q,ee,ie,te,ne,oe,re,le,ae,se,ue,ce,ge,de,pe,be,me,he,fe,_e,ve,Ce,ye,Ee,we,Ne,Ie,Pe,ze,Re,De,Te,Be,Le,Me,Fe,xe,Oe,Se,Ue,Ae,ke,Ze,Ve,Ge,We,Ye,je,qe,He,Ke,$e,Je;a._RF.push({},"0861fRx3C9E14H9Zj16Pezk","UpdateProfileKYC",void 0);var Xe=s.ccclass,Qe=s.property,ei=function(e){return e[e.FIRST_NAME=0]="FIRST_NAME",e[e.MOBILE_NO=1]="MOBILE_NO",e[e.ZIPCODE=2]="ZIPCODE",e[e.GENDER=3]="GENDER",e[e.COUNTRY=4]="COUNTRY",e[e.EMAIL=5]="EMAIL",e[e.USER_ID=6]="USER_ID",e[e.REFERRAL_CODE=7]="REFERRAL_CODE",e}(ei||{});e("UpdateProfileKYC",(S=Xe("UpdateProfileKYC"),U=Qe(u),A=Qe(c),k=Qe(c),Z=Qe(g),V=Qe(g),G=Qe(c),W=Qe(c),Y=Qe(c),j=Qe(c),q=Qe(d),H=Qe(g),K=Qe(g),$=Qe(p),J=Qe(u),X=Qe(u),Q=Qe(u),ee=Qe(u),ie=Qe(g),te=Qe(g),ne=Qe(D),oe=Qe(u),re=Qe(d),le=Qe(p),ae=Qe(p),se=Qe(p),ue=Qe(d),ce=Qe(u),ge=Qe(b),de=Qe(m),pe=Qe(g),be=Qe(h),me=Qe(h),he=Qe(h),S((ve=i((_e=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return i=e.call.apply(e,[this].concat(r))||this,n(i,"profilePicButton",ve,o(i)),n(i,"userName",Ce,o(i)),n(i,"userID",ye,o(i)),n(i,"gender",Ee,o(i)),n(i,"country",we,o(i)),n(i,"email",Ne,o(i)),n(i,"zipCode",Ie,o(i)),n(i,"referralCode",Pe,o(i)),n(i,"phoneNumber",ze,o(i)),n(i,"finishLoginBtn",Re,o(i)),n(i,"countryCode",De,o(i)),n(i,"loggedInWith",Te,o(i)),n(i,"profileImage",Be,o(i)),n(i,"emailBox",Le,o(i)),n(i,"popupBg",Me,o(i)),n(i,"UiNode",Fe,o(i)),n(i,"errorPopup",xe,o(i)),n(i,"errorMessageLabel",Oe,o(i)),n(i,"buttonLabel",Se,o(i)),n(i,"editProfilePicture",Ue,o(i)),n(i,"closeButton",Ae,o(i)),n(i,"ccDownButton",ke,o(i)),n(i,"emailFrame",Ze,o(i)),n(i,"mobileFrame",Ve,o(i)),n(i,"userIDFrame",Ge,o(i)),n(i,"submitButton",We,o(i)),n(i,"boxNodes",Ye,o(i)),n(i,"boxFrame",je,o(i)),n(i,"customPopUp",qe,o(i)),n(i,"heading",He,o(i)),n(i,"maleToggle",Ke,o(i)),n(i,"femaleToggle",$e,o(i)),n(i,"otherToggle",Je,o(i)),i.isButtonClicked=!1,i.is_verified=!1,i}t(i,e);var a=i.prototype;return a.start=function(){this.maleToggle.node.on("toggle",this.onToggleSelected,this),this.femaleToggle.node.on("toggle",this.onToggleSelected,this),this.otherToggle.node.on("toggle",this.onToggleSelected,this)},a.onClick=function(){var e=N.loginDataResponse.data;this.userName.string=e.first_name||"",this.gender.string=e.gender||"MALE";var i=e.mobile_no?this.splitMobileNumber(e.mobile_no):null;this.is_verified=e.is_verified,e.is_verified?(this.boxNodes[ei.FIRST_NAME].active=!0,this.boxNodes[ei.GENDER].active=!0,this.boxNodes[ei.COUNTRY].active=!0,this.boxNodes[ei.ZIPCODE].active=!0,this.boxNodes[ei.REFERRAL_CODE].active=!1):(e.email?this.loggedInWith.string=e.email:this.loggedInWith.string=e.mobile_no||"",this.boxNodes[ei.FIRST_NAME].active=!1,this.boxNodes[ei.EMAIL].active=!1,this.boxNodes[ei.MOBILE_NO].active=!1,this.boxNodes[ei.REFERRAL_CODE].active=!0,this.boxNodes[ei.ZIPCODE].active=!1),this.loggedInWith.node.active=!1,this.email.string=e.email||"",this.userID.string=e.user_id||"",this.zipCode.string=e.zipcode||"",this.referralCode.string="",this.phoneNumber.string=(null==i?void 0:i.mobileNo)||"",this.countryCode.string=(null==i?void 0:i.countryCode)||"+91",this.submitButton.interactable=!0,this.userID.string.length>0&&e.is_verified&&ii(e.user_id)&&(this.boxNodes[ei.USER_ID].active=!1),this.boxNodes[ei.EMAIL].active=!1,this.boxNodes[ei.MOBILE_NO].active=!1,e.is_verified?(this.referralCode.node.parent.active=!1,this.buttonLabel.string="Update Profile",this.buttonLabel.string=F.instance.t("update_profile"),this.heading.string="Your Profile"):(this.buttonLabel.string=F.instance.t("finish_login"),this.closeButton.active=!1),this.initializeToggleState(),this.editProfilePicture.init(),this.showPopup(this.UiNode)},a.initializeToggleState=function(){var e,i=null==(e=N.loginDataResponse)||null==(e=e.data)?void 0:e.gender;console.warn("âš ï¸ Unknown gender value:",i),"MALE"==i?(this.femaleToggle.isChecked=!1,this.otherToggle.isChecked=!1,this.maleToggle.isChecked=!0):"FEMALE"==i?(this.maleToggle.isChecked=!1,this.otherToggle.isChecked=!1,this.femaleToggle.isChecked=!0,console.warn("âš ï¸ FEMALE")):"OTHER"==i?(this.maleToggle.isChecked=!1,this.femaleToggle.isChecked=!1,this.otherToggle.isChecked=!0):console.warn("âš ï¸ Unknown gender value:",this.gender),console.log("Initialized Gender Toggle:",this.gender)},a.splitMobileNumber=function(e){var i=null==e?void 0:e.slice(-10);return{countryCode:null==e?void 0:e.slice(0,length-10),mobileNo:i}},a.onFinishLoginClick=function(){var e=r(l().mark((function e(){var i,t,n,o,r,a,s,u,c,g,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.submitButton.interactable=!1,i=N.loginDataResponse.data,t=i.mobile_no?i.mobile_no:this.countryCode.string+this.phoneNumber.string,t=""!=this.phoneNumber.string?this.countryCode.string+this.phoneNumber.string:null,n={gender:this.gender.string.trim(),country:this.country.string.trim(),avatar:""+this.editProfilePicture.selectAvatar,user_id:this.userID.string.trim(),hostname:T.hostname},(o=this.referralCode.string.trim())&&(n.referral_code=o),(r=this.zipCode.string.trim())&&(n.zipcode=r),(a=this.userName.string.trim())&&(n.first_name=a),(s=this.email.string.trim())&&(n.email=s),t&&(n.mobile_no=t),console.log("userData",n),!this.requiredValidateInputs(n)){e.next=18;break}return e.abrupt("return");case 18:if(!(u=this.validateInputs(n))){e.next=24;break}return this.submitButton.interactable=!0,this.showError(u),console.error(u),e.abrupt("return");case 24:return e.prev=24,console.log("is kyc url call",n),g=N.loginDataResponse.data.id,e.next=29,I.request(""+z.REGISTRATION+g,P.PUT,n,!0);case 29:d=e.sent,N.upDateProfileResponse=d,this.updateLocalProfile(),x(d),L.getDispatcher().emit(B.PROFILE_UPDATE),null!=(c=this.editProfilePicture)&&null!=(c=c.isSelected)&&c.getChildByName("Icon")&&(this.profileImage.spriteFrame=this.editProfilePicture.isSelected.getChildByName("Icon").getComponent(p).spriteFrame),T.is_verified?this.onClickCloseButton():(R.clearInstance(),w.loadScene("MultipleAuction")),e.next=42;break;case 38:e.prev=38,e.t0=e.catch(24),this.submitButton.interactable=!0,console.error("âŒ Profile update failed",e.t0);case 42:case"end":return e.stop()}}),e,this,[[24,38]])})));return function(){return e.apply(this,arguments)}}(),a.onToggleSelected=function(e){e.isChecked&&(e===this.maleToggle?this.gender.string="MALE":e===this.femaleToggle?this.gender.string="FEMALE":e===this.otherToggle&&(this.gender.string="OTHER"),console.warn("Selected Gender Value:",this.gender))},a.validateInputs=function(e){return e.first_name&&e.first_name.length<3?"Username must be at least 3 characters.":(this.is_verified||!T.is_Login_with_Teligram||e.mobile_no&&this.isValidFullMobileNumber(e.mobile_no))&&(this.is_verified||!T.is_Login_with_Wallet||e.mobile_no&&this.isValidFullMobileNumber(e.mobile_no))?e.mobile_no&&!this.isValidFullMobileNumber(e.mobile_no)?"Enter a valid 10-digit phone number.":e.user_id&&ii(e.user_id)?e.zipcode&&e.zipcode.length<3?"Invalid zip code.":e.gender?e.country?e.email&&!this.isValidEmail(e.email)?"Invalid email address.":null:"Country is required.":"Gender is required.":"Invalid UserID":"Invalid phone number."},a.isValidFullMobileNumber=function(e){if(!e||"string"!=typeof e)return!1;return/^\+(\d{1,4})(\d{10})$/.test(e)},a.isValidEmail=function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.toLowerCase())},a.updateLocalProfile=function(){var e=N.upDateProfileResponse.data,i=N.loginDataResponse.data;Object.assign(i,{first_name:e.first_name,last_name:e.last_name,email:e.email,mobile_no:e.mobile_no,avatar:e.avatar,referral_code:e.referral_code,wallet_address:e.wallet_address,gender:e.gender,country:e.country,city:e.city,zipcode:e.zipcode,is_verified:e.is_verified,user_id:e.user_id,aux_wallet_address:e.aux_wallet_address,is_mobile_verified:e.is_mobile_verified,is_email_verified:e.is_email_verified}),e.is_verified&&(localStorage.setItem("PlayerLoginObj",JSON.stringify(N.loginDataResponse)),M.inst.setItem("PlayerLoginObj",JSON.stringify(N.loginDataResponse)))},a.showError=function(e){L.getDispatcher().emit(B.ERROR_MSG_NOTIFY,e||"")},a.showPopup=function(e){var i=this;this.popupBg.active=!0;var t=this.popupBg.getComponent(f);this.UiNode.getComponent(_).updateAlignment(),t.opacity=0,v(t).to(.3,{opacity:255}).start(),e.active=!0,e.setScale(new C(1,1,1)),e.setPosition(new C(2e3,0,0)),v(e).to(.3,{position:new C(0,0,0)},{easing:"linear",onComplete:function(){i.isButtonClicked=!1}}).start()},a.onClickCloseButton=function(){this.closePopup(this.UiNode),this.editProfilePicture.onClose()},a.closePopup=function(e){var i=this;v(e).to(.3,{position:new C(-2e3,0,0)},{easing:"linear",onComplete:function(){e.active=!1}}).start();var t=this.popupBg.getComponent(f);v(t).to(.3,{opacity:0},{onComplete:function(){i.popupBg.active=!1}}).start(),this.isButtonClicked=!1},a.requiredValidateInputs=function(e){var i=!0;return this.is_verified||!T.is_Login_with_Teligram||e.mobile_no&&this.isValidFullMobileNumber(e.mobile_no)||(i=!1,this.boxNodes[ei.MOBILE_NO].getComponent(p).spriteFrame=this.boxFrame[1]),this.is_verified||!T.is_Login_with_Wallet||e.mobile_no&&this.isValidFullMobileNumber(e.mobile_no)||(i=!1,this.boxNodes[ei.MOBILE_NO].getComponent(p).spriteFrame=this.boxFrame[1]),e.user_id||(this.boxNodes[ei.USER_ID].getComponent(p).spriteFrame=this.boxFrame[1],i=!1),i?null:(this.submitButton.interactable=!0,"1")},a.onTextChange=function(e,i,t){if(t){var n=Number(t);this.boxNodes[n].getComponent(p).spriteFrame=this.boxFrame[0]}},a.clickInfo=function(){this.showCustomPopUp("Info","AuctionX will never spam your Email Id, Phone number Or ZipCode. \nWe need this information to reach out to you - when you win a product.")},a.showCustomPopUp=function(e,i){var t=this,n=y(this.customPopUp);n.setPosition(0,0),n.setScale(C.ZERO),this.node.addChild(n);n.getComponent(O).setCallback((function(){return t.setZoomOut(n)}),null),n.getComponent(O).Msg.string=i,n.getComponent(O).title.string=e,this.setZoom(n)},a.setZoom=function(e){v(e).to(.2,{scale:new C(1,1,1)}).to(.1,{scale:new C(1,1,1)}).start()},a.setZoomOut=function(e){v(e).to(.2,{scale:C.ZERO}).destroySelf().start()},i}(E)).prototype,"profilePicButton",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=i(_e.prototype,"userName",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=i(_e.prototype,"userID",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=i(_e.prototype,"gender",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=i(_e.prototype,"country",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=i(_e.prototype,"email",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=i(_e.prototype,"zipCode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=i(_e.prototype,"referralCode",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=i(_e.prototype,"phoneNumber",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=i(_e.prototype,"finishLoginBtn",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=i(_e.prototype,"countryCode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=i(_e.prototype,"loggedInWith",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=i(_e.prototype,"profileImage",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=i(_e.prototype,"emailBox",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=i(_e.prototype,"popupBg",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=i(_e.prototype,"UiNode",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=i(_e.prototype,"errorPopup",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=i(_e.prototype,"errorMessageLabel",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=i(_e.prototype,"buttonLabel",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=i(_e.prototype,"editProfilePicture",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=i(_e.prototype,"closeButton",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=i(_e.prototype,"ccDownButton",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=i(_e.prototype,"emailFrame",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=i(_e.prototype,"mobileFrame",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=i(_e.prototype,"userIDFrame",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=i(_e.prototype,"submitButton",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=i(_e.prototype,"boxNodes",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),je=i(_e.prototype,"boxFrame",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qe=i(_e.prototype,"customPopUp",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=i(_e.prototype,"heading",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=i(_e.prototype,"maleToggle",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=i(_e.prototype,"femaleToggle",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=i(_e.prototype,"otherToggle",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=_e))||fe));function ii(e){return!e.startsWith(" ")&&!e.endsWith(" ")&&(!(e.length<4||e.length>9)&&!!/^[A-Za-z0-9_\-!@#$%^&*()+=\{\}\[\]:;"'<>,.?/\\ ]+$/.test(e))}a._RF.pop()}}}));

System.register("chunks:///_virtual/UserInterface.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"b3f94qdAeZEyoNYrKENpLbv","UserInterface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/WalletUIController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UnifiedWalletManager.ts","./EventManager.ts","./BigDealEvents.ts","./ApiUrls.ts","./APIManager.ts","./BigDealGameModel.ts","./CookieUtils.ts","./BigDealSocketManager.ts","./UpdateProfileKYC.ts"],(function(e){var t,n,a,i,o,r,l,s,c,u,h,d,g,f,p,w,b,S,k,C,m,W,v,L,y,B,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.asyncToGenerator,r=e.regeneratorRuntime,l=e.extends},function(e){s=e.cclegacy,c=e._decorator,u=e.Button,h=e.Node,d=e.Label,g=e.Component,f=e.director},function(e){p=e.UnifiedWalletManager,w=e.WalletType},function(e){b=e.default},function(e){S=e.StaticProperties,k=e.BigDealEvents,C=e.CookieKey},function(e){m=e.API_URLS},function(e){W=e.APIManager,v=e.MethodType},function(e){L=e.BigDealGameModel},function(e){y=e.CookieUtils},function(e){B=e.BigDealSocketManager},function(e){I=e.UpdateProfileKYC}],execute:function(){var M,N,T,x,A,_,D,E,U,O,P,z,R,K,F,G,q,J,Y,V,H,j,Q,X,Z,$,ee,te,ne,ae,ie,oe,re,le,se,ce,ue,he,de,ge,fe;s._RF.push({},"72680t+VeRABb5yEST6DKVr","WalletUIController",void 0);var pe=c.ccclass,we=c.property;e("WalletUIController",(M=pe("WalletUIController"),N=we(p),T=we(u),x=we(h),A=we(u),_=we(u),D=we(u),E=we(u),U=we(d),O=we(d),P=we(d),z=we(d),R=we(h),K=we(d),F=we(d),G=we(d),q=we(u),J=we(d),Y=we(h),V=we(I),M((Q=t((j=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,a(t,"walletManager",Q,i(t)),a(t,"connectWalletBtn",X,i(t)),a(t,"walletModal",Z,i(t)),a(t,"metaMaskBtn",$,i(t)),a(t,"walletConnectBtn",ee,i(t)),a(t,"trustWalletBtn",te,i(t)),a(t,"coinbaseBtn",ne,i(t)),a(t,"metaMaskLabel",ae,i(t)),a(t,"walletConnectLabel",ie,i(t)),a(t,"trustWalletLabel",oe,i(t)),a(t,"coinbaseLabel",re,i(t)),a(t,"walletInfoPanel",le,i(t)),a(t,"addressLabel",se,i(t)),a(t,"balanceLabel",ce,i(t)),a(t,"networkLabel",ue,i(t)),a(t,"disconnectBtn",he,i(t)),a(t,"statusLabel",de,i(t)),a(t,"loadingIndicator",ge,i(t)),a(t,"updateProfileKYC",fe,i(t)),t.isConnecting=!1,t.signatureData=null,t}n(t,e);var s=t.prototype;return s.start=function(){console.log("ðŸŽ® Wallet UI Controller - Production Mode"),this.setupButtons(),this.setupWalletCallbacks(),this.setupEventListeners(),this.updateUI(),this.walletModal&&(this.walletModal.active=!1),this.loadingIndicator&&(this.loadingIndicator.active=!1)},s.initUIController=function(){var e=o(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.showLoading("Initializing wallet system..."),e.prev=1,e.next=4,this.walletManager.initWalletManager();case 4:return e.next=6,this.checkReconnection();case 6:this.hideLoading(),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("âŒ Init error:",e.t0),this.hideLoading(),this.showStatus("âš ï¸ Wallet system initialization failed");case 14:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),s.checkReconnection=function(){var e=o(r().mark((function e(){var t,n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.walletManager.isConnected()){e.next=4;break}return console.log("â„¹ï¸ No existing connection"),this.connectWalletBtn.node.active=!0,e.abrupt("return");case 4:if(console.log("ðŸ”„ Wallet already connected, checking session..."),t=this.getStoredSignature()){e.next=11;break}return console.warn("âš ï¸ No signature found, requesting new one..."),e.next=10,this.handleNewSignature();case 10:return e.abrupt("return");case 11:if(this.isSignatureValid(t)){e.next=17;break}return console.warn("âš ï¸ Signature expired, requesting new one..."),this.clearStoredSignature(),e.next=16,this.handleNewSignature();case 16:return e.abrupt("return");case 17:return e.prev=17,n=JSON.parse(t),e.next=21,this.loginWithSignature(n.signature,n.message);case 21:if(!((a=e.sent)&&a.data&&a.data.is_verified)){e.next=29;break}console.log("âœ… Session restored successfully"),this.showStatus("âœ… Wallet session restored"),this.connectWalletBtn.node.active=!1,S.is_Login_with_Wallet=!0,e.next=32;break;case 29:return console.warn("âš ï¸ Session validation failed"),e.next=32,this.handleNewSignature();case 32:e.next=40;break;case 34:return e.prev=34,e.t0=e.catch(17),console.error("âŒ Session restore failed:",e.t0),this.clearStoredSignature(),e.next=40,this.handleNewSignature();case 40:case"end":return e.stop()}}),e,this,[[17,34]])})));return function(){return e.apply(this,arguments)}}(),s.handleNewSignature=function(){var e=o(r().mark((function e(){var t,n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.showStatus("ðŸ–Šï¸ Please sign the message in your wallet..."),e.next=4,this.walletManager.requestSignature();case 4:if(t=e.sent){e.next=7;break}throw new Error("Signature request cancelled");case 7:return this.storeSignature(t),n=JSON.parse(t),e.next=11,this.loginWithSignature(n.signature,n.message);case 11:(a=e.sent)&&a.data&&a.data.is_verified?(console.log("âœ… Login successful with new signature"),this.showStatus("âœ… Connected successfully"),this.connectWalletBtn.node.active=!1,S.is_Login_with_Wallet=!0):this.updateProfileKYC.onClick(),e.next=21;break;case 15:return e.prev=15,e.t0=e.catch(0),console.error("âŒ Signature error:",e.t0),this.showStatus("âŒ "+(e.t0.message||"Signature failed")),e.next=21,this.walletManager.disconnect();case 21:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),s.setupButtons=function(){var e,t,n,a,i,o,r=this;(null!=(e=this.connectWalletBtn)&&e.node&&this.connectWalletBtn.node.on("click",this.onConnectWalletClick,this),this.metaMaskBtn)&&(null==(t=this.metaMaskBtn.node)||t.on("click",(function(){return r.onWalletSelect(w.METAMASK)}),this));this.walletConnectBtn&&(null==(n=this.walletConnectBtn.node)||n.on("click",(function(){return r.onWalletSelect(w.WALLETCONNECT)}),this));this.trustWalletBtn&&(null==(a=this.trustWalletBtn.node)||a.on("click",(function(){return r.onWalletSelect(w.TRUST)}),this));this.coinbaseBtn&&(null==(i=this.coinbaseBtn.node)||i.on("click",(function(){return r.onWalletSelect(w.COINBASE)}),this));this.disconnectBtn&&(null==(o=this.disconnectBtn.node)||o.on("click",this.onDisconnectClick,this))},s.setupWalletCallbacks=function(){var e=this;this.walletManager.onConnect((function(t){console.log("âœ… Wallet Connected:",t),e.updateUI(),e.hideModal()})),this.walletManager.onDisconnect((function(){console.log("ðŸ”Œ Wallet Disconnected"),e.clearStoredSignature(),e.updateUI(),e.showStatus("ðŸ”Œ Wallet disconnected"),e.connectWalletBtn.node.active=!0,S.is_Login_with_Wallet=!1})),this.walletManager.onAccountChange(o(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("ðŸ”„ Account Changed:",n),e.showStatus("ðŸ”„ Account changed, requesting new signature..."),e.clearStoredSignature(),t.next=5,e.handleNewSignature();case 5:e.updateUI();case 6:case"end":return t.stop()}}),t)})))),this.walletManager.onChainChange((function(t){console.log("ðŸ”„ Network Changed:",t),e.updateUI(),e.showStatus("ðŸ”„ Network changed to "+t)}))},s.setupEventListeners=function(){b.getDispatcher().on(k.LOGOUT_ONDISCONNECTCLICK,this.onDisconnectClick,this),b.getDispatcher().on("Wallet_auto-reconnected",this.onAutoReconnect,this),b.getDispatcher().on("Wallet_account_changed",this.onAccountChanged,this),b.getDispatcher().on("Wallet_network_changed",this.onNetworkChanged,this)},s.onConnectWalletClick=function(){this.walletManager.isConnected()?this.showStatus("â„¹ï¸ Wallet already connected"):this.isConnecting?this.showStatus("â³ Connection in progress..."):this.showModal()},s.onWalletSelect=function(){var e=o(r().mark((function e(t){var n,a,i,o,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isConnecting){e.next=3;break}return this.showStatus("â³ Please wait..."),e.abrupt("return");case 3:if(n=this.walletManager.getAvailableWallets(),a=n.find((function(e){return e.type===t}))){e.next=8;break}return this.showStatus("âŒ Wallet not found"),e.abrupt("return");case 8:if(a.installed||t===w.WALLETCONNECT){e.next=11;break}return this.showInstallPrompt(a),e.abrupt("return");case 11:return this.isConnecting=!0,this.showLoading("Connecting to "+a.name+"..."),e.prev=13,e.next=16,this.walletManager.connect(t);case 16:return this.showLoading("Please sign the message..."),e.next=19,this.walletManager.requestSignature();case 19:if(i=e.sent){e.next=22;break}throw new Error("Signature cancelled by user");case 22:return this.storeSignature(i),this.showLoading("Verifying signature..."),o=JSON.parse(i),e.next=27,this.loginWithSignature(o.signature,o.message);case 27:if(!((l=e.sent)&&l.data&&l.data.is_verified)){e.next=38;break}return console.log("âœ… Login successful"),this.showStatus("âœ… Connected successfully!"),S.is_Login_with_Wallet=!0,B&&B.clearInstance(),e.next=35,this.delay(1e3);case 35:f.loadScene("MultipleAuction"),e.next=39;break;case 38:this.updateProfileKYC.onClick();case 39:e.next=47;break;case 41:return e.prev=41,e.t0=e.catch(13),console.error("âŒ Connection failed:",e.t0),"NOT_INSTALLED"===e.t0.code?this.showInstallPrompt(a):e.t0.message.includes("cancelled")||e.t0.message.includes("rejected")?this.showStatus("âŒ Connection cancelled"):this.showStatus("âŒ "+(e.t0.message||"Connection failed")),e.next=47,this.walletManager.disconnect();case 47:return e.prev=47,this.isConnecting=!1,this.hideLoading(),e.finish(47);case 51:case"end":return e.stop()}}),e,this,[[13,41,47,51]])})));return function(t){return e.apply(this,arguments)}}(),s.onDisconnectClick=function(){var e=o(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.showLoading("Disconnecting..."),e.prev=1,this.clearStoredSignature(),this.clearAuthTokens(),e.next=6,this.walletManager.disconnect();case 6:S.is_Login_with_Wallet=!1,S.isLogin=!1,this.showStatus("âœ… Disconnected successfully"),f.loadScene("MultipleAuction"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("âŒ Disconnect failed:",e.t0),this.showStatus("âŒ Disconnect failed: "+e.t0.message);case 16:return e.prev=16,this.hideLoading(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,12,16,19]])})));return function(){return e.apply(this,arguments)}}(),s.onAutoReconnect=function(){console.log("ðŸ”„ Auto-reconnect event received"),this.updateUI()},s.onAccountChanged=function(e){console.log("ðŸ”„ Account changed event:",e),this.showStatus("ðŸ”„ Account changed, please sign again")},s.onNetworkChanged=function(e){console.log("ðŸ”„ Network changed event:",e),this.updateUI()},s.storeSignature=function(e){try{var t=JSON.parse(e),n=Date.now()+864e5,a=l({},t,{expiresAt:n});localStorage.setItem("wallet_signature_data",JSON.stringify(a)),y.setCookie(C.WALLET_SIGNATURE,t.signature,1),console.log("ðŸ’¾ Signature stored securely")}catch(e){console.error("âŒ Failed to store signature:",e)}},s.getStoredSignature=function(){try{return localStorage.getItem("wallet_signature_data")}catch(e){return console.error("âŒ Failed to get signature:",e),null}},s.isSignatureValid=function(e){try{var t=JSON.parse(e);return!!t.expiresAt&&Date.now()<t.expiresAt}catch(e){return console.error("âŒ Signature validation error:",e),!1}},s.clearStoredSignature=function(){try{localStorage.removeItem("wallet_signature_data"),y.deleteCookie(C.WALLET_SIGNATURE),console.log("ðŸ—‘ï¸ Signature cleared")}catch(e){console.warn("Failed to clear signature:",e)}},s.clearAuthTokens=function(){try{y.deleteCookie(C.ACCESS_TOKEN),y.deleteCookie(C.REFRESH_TOKEN),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),console.log("ðŸ—‘ï¸ Auth tokens cleared")}catch(e){console.warn("Failed to clear tokens:",e)}},s.loginWithSignature=function(){var e=o(r().mark((function e(t,n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={signature:t,message:n,hostname:S.hostname||window.location.hostname},console.log("data for login api",a),e.next=5,W.request(m.LOGIN,v.POST,a,!1);case 5:return(i=e.sent)&&i.data&&(L.loginDataResponse=i,i.data.accessToken&&(y.setCookie(C.ACCESS_TOKEN,i.data.accessToken,1),localStorage.setItem("accessToken",i.data.accessToken)),i.data.refreshToken&&(y.setCookie(C.REFRESH_TOKEN,i.data.refreshToken,7),localStorage.setItem("refreshToken",i.data.refreshToken)),S.isLogin=!0),e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(0),console.error("âŒ Login API error:",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),s.showModal=function(){this.walletModal&&(this.updateWalletButtons(),this.walletModal.active=!0,console.log("ðŸªŸ Wallet selection modal opened"))},s.hideModal=function(){this.walletModal&&(this.walletModal.active=!1,console.log("ðŸªŸ Wallet selection modal closed"))},s.updateWalletButtons=function(){var e=this;this.walletManager.getAvailableWallets().forEach((function(t){var n=null;switch(t.type){case w.METAMASK:n=e.metaMaskLabel;break;case w.WALLETCONNECT:n=e.walletConnectLabel;break;case w.TRUST:n=e.trustWalletLabel;break;case w.COINBASE:n=e.coinbaseLabel}if(n){t.installed;n.string=t.icon+" "+t.name,t.installed||t.type===w.WALLETCONNECT||(n.string+="\n(Click to install)")}}))},s.showInstallPrompt=function(e){var t=this;this.showStatus("âš ï¸ "+e.name+" is not installed"),e.downloadUrl&&(window.open(e.downloadUrl,"_blank"),console.log("ðŸ”— Opening "+e.name+" download page")),setTimeout((function(){t.showStatus("â„¹ï¸ Install "+e.name+" and refresh the page")}),2e3)},s.updateUI=function(){var e=this.walletManager.isConnected();if(this.connectWalletBtn){var t=this.connectWalletBtn.node.getComponentInChildren(d);t&&(t.string=e?"âœ… Connected":"ðŸ”— Connect Wallet"),this.connectWalletBtn.interactable=!e,this.connectWalletBtn.node.active=!e}this.walletInfoPanel&&(this.walletInfoPanel.active=e),e?this.updateWalletInfo():this.clearWalletInfo()},s.updateWalletInfo=function(){var e=this.walletManager.getWalletStatus();if(this.addressLabel&&e.address){var t=this.walletManager.shortenAddress(e.address);this.addressLabel.string="ðŸ“ "+t}if(this.balanceLabel&&(this.balanceLabel.string="ðŸ’° "+(e.balance||"---")),this.networkLabel){var n=this.getNetworkDisplayName(e.network);this.networkLabel.string="ðŸŒ "+n}},s.clearWalletInfo=function(){this.addressLabel&&(this.addressLabel.string="ðŸ“ ---"),this.balanceLabel&&(this.balanceLabel.string="ðŸ’° ---"),this.networkLabel&&(this.networkLabel.string="ðŸŒ ---")},s.getNetworkDisplayName=function(e){return{ethereum:"Ethereum",polygon:"Polygon",bsc:"BSC",arbitrum:"Arbitrum",optimism:"Optimism",base:"Base",unknown:"Unknown"}[e||"unknown"]||"Unknown"},s.showStatus=function(e){this.statusLabel&&(this.statusLabel.string=e,console.log("[STATUS] "+e))},s.showLoading=function(e){this.loadingIndicator&&(this.loadingIndicator.active=!0),this.showStatus(e)},s.hideLoading=function(){this.loadingIndicator&&(this.loadingIndicator.active=!1)},s.delay=function(e){return new Promise((function(t){return setTimeout(t,e)}))},s.onDestroy=function(){var e,t,n,a,i,o;(console.log("ðŸ§¹ WalletUIController cleanup..."),this.connectWalletBtn)&&(null==(e=this.connectWalletBtn.node)||e.off("click",this.onConnectWalletClick,this));this.metaMaskBtn&&(null==(t=this.metaMaskBtn.node)||t.off("click"));this.walletConnectBtn&&(null==(n=this.walletConnectBtn.node)||n.off("click"));this.trustWalletBtn&&(null==(a=this.trustWalletBtn.node)||a.off("click"));this.coinbaseBtn&&(null==(i=this.coinbaseBtn.node)||i.off("click"));this.disconnectBtn&&(null==(o=this.disconnectBtn.node)||o.off("click",this.onDisconnectClick,this));b.getDispatcher().off(k.LOGOUT_ONDISCONNECTCLICK,this.onDisconnectClick,this),b.getDispatcher().off("Wallet_auto-reconnected",this.onAutoReconnect,this),b.getDispatcher().off("Wallet_account_changed",this.onAccountChanged,this),b.getDispatcher().off("Wallet_network_changed",this.onNetworkChanged,this)},t}(g)).prototype,"walletManager",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(j.prototype,"connectWalletBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(j.prototype,"walletModal",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(j.prototype,"metaMaskBtn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(j.prototype,"walletConnectBtn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(j.prototype,"trustWalletBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(j.prototype,"coinbaseBtn",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(j.prototype,"metaMaskLabel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(j.prototype,"walletConnectLabel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(j.prototype,"trustWalletLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(j.prototype,"coinbaseLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(j.prototype,"walletInfoPanel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(j.prototype,"addressLabel",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(j.prototype,"balanceLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(j.prototype,"networkLabel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(j.prototype,"disconnectBtn",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(j.prototype,"statusLabel",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(j.prototype,"loadingIndicator",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(j.prototype,"updateProfileKYC",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=j))||H));s._RF.pop()}}}));

System.register("chunks:///_virtual/WinAuctionStatusConfirm.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./BigDealEvents.ts","./ApiUrls.ts","./APIManager.ts","./MyAuctionHistoryPrefab.ts","./ShippingDropdown.ts"],(function(t){var e,n,i,r,o,a,c,s,u,l,p,f,h,d,g,w,m,v,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){c=t.cclegacy,s=t._decorator,u=t.Node,l=t.tween,p=t.Vec3,f=t.Component},function(t){h=t.default},function(t){d=t.BigDealEvents},function(t){g=t.API_URLS},function(t){w=t.APIManager,m=t.MethodType},function(t){v=t.ShippingClaimStatus},function(t){y=t.ShippingDropdown}],execute:function(){var b,_,k,S,A,R,C,x,D,I,P;c._RF.push({},"1746fCa3uBG8YPMUPEcBlqZ","WinAuctionStatusConfirm",void 0);var T=s.ccclass,B=s.property;t("WinAuctionStatusConfirm",(b=T("WinAuctionStatusConfirm"),_=B(u),k=B(u),S=B(u),A=B(y),b((x=e((C=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"UiNode",x,r(e)),i(e,"BlockBg",D,r(e)),i(e,"main",I,r(e)),i(e,"dropdownRoot",P,r(e)),e.isClicked=!1,e.auction_id="",e.dropdownComp=void 0,e}n(e,t);var c=e.prototype;return c.onLoad=function(){h.getDispatcher().on(v.WIN_AUCTION_STATUS_CONFIRM,this.init,this)},c.start=function(){},c.init=function(t){t&&(this.auction_id=t,this.setZoom(this.UiNode))},c.onclickYes=function(){var t=o(a().mark((function t(){var e,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isClicked){t.next=2;break}return t.abrupt("return");case 2:return this.isClicked=!0,t.next=5,this.getAuctionHouse("confirmed");case 5:try{e=new URL(window.parent.location.href),n=""+e.origin,window.parent.location.href=n}catch(t){console.error("Please try again.")}this.setZoomOut(this.UiNode);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onclickNo=function(){var t=o(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isClicked){t.next=2;break}return t.abrupt("return");case 2:return this.isClicked=!0,t.next=5,this.getAuctionHouse("declined");case 5:e=this.dropdownRoot,this.main.active=!0,e.auction_Id=this.auction_id,e.setItems(),this.setZoomOut(this.UiNode);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onDropdownChange=function(t){console.log("Selected:",t.selectedOption),console.log("Report:",t.reportText)},c.getAuctionHouse=function(){var t=o(a().mark((function t(e){var n=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(o(a().mark((function t(i,r){var o,c,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.auction_id){t.next=4;break}return o="Auction ID not available. Please try again.",h.getDispatcher().emit(d.ERROR_MSG_NOTIFY,o),t.abrupt("return",r(new Error(o)));case 4:return c={auction_id:n.auction_id,delivery_status:e},t.prev=5,t.next=8,w.request(g.DELIVERY_STATUS,m.POST,c,!0);case 8:s=t.sent,console.log("âœ… Delivery status response:",s),i(),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(5),console.error("âŒ API Error:",t.t0),h.getDispatcher().emit(d.ERROR_MSG_NOTIFY,"Please try again, something went wrong."),r(t.t0);case 18:case"end":return t.stop()}}),t,null,[[5,13]])})))));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c.setZoom=function(t){this.BlockBg.active=!0,t.setScale(0,0,0),t.active=!0,l(t).to(.2,{scale:new p(1.2,1.2,1.2)}).to(.1,{scale:new p(1,1,1)}).start()},c.setZoomOut=function(t){var e=this;l(t).to(.2,{scale:p.ZERO}).call((function(){e.BlockBg.active=!1,t.active=!1})).start()},c.chatOnTelegram=function(){var t=(screen.width-550)/2,e=(screen.height-600)/2;window.open("https://t.me/auctionx_support_bot","Chat on Telegram","width=550,height=600,top="+e+",left="+t)},c.update=function(t){},e}(f)).prototype,"UiNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(C.prototype,"BlockBg",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(C.prototype,"main",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(C.prototype,"dropdownRoot",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=C))||R));c._RF.pop()}}}));

System.register("chunks:///_virtual/XFollowBonusUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./APIManager.ts","./ApiUrls.ts","./BigDealEvents.ts","./BuyPlaysManager.ts"],(function(t){var e,n,r,a,i,u,s,o,l,c,p,f,h,d,v,g,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized,i=t.asyncToGenerator,u=t.regeneratorRuntime},function(t){s=t.cclegacy,o=t._decorator,l=t.Button,c=t.Label,p=t.Node,f=t.Component},function(t){h=t.APIManager,d=t.MethodType},function(t){v=t.API_URLS},function(t){g=t.StaticProperties},function(t){b=t.default}],execute:function(){var w,m,y,x,S,k,U,B,F,I;s._RF.push({},"88c7016VvRD9INE86QhYXLu","XFollowBonusUI",void 0);var A=o.ccclass,L=o.property;t("XFollowBonusUI",(w=A("XFollowBonusUI"),m=L(l),y=L(c),x=L(p),w(((I=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return e=t.call.apply(t,[this].concat(i))||this,r(e,"claimButton",U,a(e)),r(e,"statusLabel",B,a(e)),r(e,"loadingSpinner",F,a(e)),e.pollIntervalSec=5,e}n(e,t);var s=e.prototype;return s.start=function(){this.loading(!1),this.status("Click claim to get bonus."),this.checkFollowStatusAndSetupUI()},s.checkFollowStatusAndSetupUI=function(){var t=i(u().mark((function t(){var e,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading(!0),t.next=3,this.checkFollowStatus();case 3:if(e=t.sent,"verified"!==(n=e.x).verificationStatus){t.next=10;break}return this.status("Already Verified ðŸŽ‰ @"+n.xUserName),this.claimButton.node.active=!1,this.loading(!1),t.abrupt("return");case 10:if("pending"!==n.verificationStatus){t.next=15;break}return this.status("Click to follow & verify"),this.claimButton.node.active=!0,this.loading(!1),t.abrupt("return");case 15:if("rejected"!==n.verificationStatus){t.next=20;break}return this.status("Follow rejected âŒ Try again"),this.claimButton.node.active=!0,this.loading(!1),t.abrupt("return");case 20:this.status("Click to follow & verify"),this.claimButton.node.active=!0,this.loading(!1);case 23:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onClaimClick=function(){var t=i(u().mark((function t(){var e,n,r,a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading(!0),this.status("Generating X loginâ€¦"),t.next=4,this.requestAuthUrl();case 4:if(null!=(r=t.sent)&&null!=(e=r.data)&&e.authUrl){t.next=7;break}return t.abrupt("return",this.status("Error generating auth URL"));case 7:if(null==r||null==(n=r.data)||!n.authUrl){t.next=12;break}return t.next=10,b.openInAppXFollow(null==r||null==(a=r.data)?void 0:a.authUrl);case 10:t.next=13;break;case 12:alert("Payment failed to initiate. Please try again.");case 13:this.status("Authorize X accountâ€¦"),this.loading(!1);case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.checkFollowStatus=function(){var t=i(u().mark((function t(){var e,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.request(v.FOLLOW_STATUS,d.GET,null,!0);case 2:return n=t.sent,t.abrupt("return",null!=(e=null==n?void 0:n.data)?e:{x:{hasClaimedBonus:!1,verificationStatus:null,xUserId:null}});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s.requestAuthUrl=function(){var t=i(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={hostname:g.hostname},t.next=3,h.request(v.X_AUTH_URL,d.POST,e,!0);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s.pollFollowStatus=function(){var t=i(u().mark((function t(e){var n,r,a=this;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Date.now(),(r=function(){var t=i(u().mark((function t(){var i,s;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.checkFollowStatus();case 2:if(i=t.sent,"verified"!==(s=i.x).verificationStatus){t.next=8;break}return a.status("Follow Verified ðŸŽ @"+s.xUserName),a.claimButton.node.active=!1,t.abrupt("return");case 8:if(!(Date.now()-n>=1e3*e)){t.next=11;break}return a.status("Waiting for verificationâ€¦"),t.abrupt("return");case 11:setTimeout(r,1e3*a.pollIntervalSec);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}())();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s.status=function(t){this.statusLabel&&(this.statusLabel.string=t)},s.loading=function(t){this.loadingSpinner&&(this.loadingSpinner.active=t),this.claimButton&&(this.claimButton.interactable=!t)},e}(f)).paymentFrame=null,U=e((k=I).prototype,"claimButton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(k.prototype,"statusLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(k.prototype,"loadingSpinner",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=k))||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/XPHistoryManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./APIManager.ts","./BigDealEvents.ts","./ApiUrls.ts","./BigDealGameModel.ts","./AllBidHistoryManager.ts","./EventManager.ts"],(function(e){var t,n,r,s,a,i,o,c,l,u,h,d,p,f,y,g,P,v,b,m,N,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,s=e.assertThisInitialized,a=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){o=e.cclegacy,c=e._decorator,l=e.Node,u=e.Prefab,h=e.ScrollView,d=e.instantiate,p=e.Component,f=e.Label,y=e.Color},function(e){g=e.APIManager,P=e.MethodType},function(e){v=e.BigDealEvents},function(e){b=e.API_URLS},function(e){m=e.BigDealGameModel},function(e){N=e.applyHighlight},function(e){I=e.default}],execute:function(){var x,C,w,k,S,B,T,D,A,H,_,E,R,z,F,M,L,X,U,O,G,Y,q,Z,j,K,V,W,J,Q,$,ee,te,ne,re,se,ae;o._RF.push({},"d9528q65zdNOLNOOwr74qZW","XPHistoryManager",void 0);var ie=c.ccclass,oe=c.property;e("XPHistoryManager",(x=ie("XPHistoryManager"),C=oe(l),w=oe(u),k=oe(u),S=oe(u),B=oe(l),T=oe(l),D=oe(l),A=oe(l),H=oe(l),_=oe(l),E=oe(h),R=oe(h),z=oe(h),F=oe(l),M=oe(l),L=oe(l),X=oe(l),x((G=t((O=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,r(t,"uiNode",G,s(t)),r(t,"buyPrefab",Y,s(t)),r(t,"spendPrefab",q,s(t)),r(t,"transferPrefab",Z,s(t)),r(t,"buyParent",j,s(t)),r(t,"spendParent",K,s(t)),r(t,"transferParent",V,s(t)),r(t,"buyPanel",W,s(t)),r(t,"spendPanel",J,s(t)),r(t,"transferPanel",Q,s(t)),r(t,"buyScroll",$,s(t)),r(t,"spendScroll",ee,s(t)),r(t,"transferScroll",te,s(t)),r(t,"loadingNode",ne,s(t)),r(t,"noDataFound",re,s(t)),r(t,"pageNextPrefab",se,s(t)),r(t,"pagePrevPrefab",ae,s(t)),t.buyHistoryNodes=[],t.spendHistoryNodes=[],t.transferHistoryNodes=[],t.transactionSpendResponse=null,t.transactionBuyResponse=null,t.buyLimit=20,t.buyPage=0,t.buyTotalPage=0,t.buyPrevInstance=null,t.buyNextInstance=null,t.spendLimit=20,t.spendPage=0,t.spendTotalPage=0,t.spendPrevInstance=null,t.spendNextInstance=null,t.transferLimit=20,t.transferPage=0,t.transferTotalPage=0,t.transferPrevInstance=null,t.transferNextInstance=null,t}n(t,e);var o=t.prototype;return o.openUI=function(){this.uiNode.active=!0,this.onBuyClicked()},o.closeUI=function(){this.loadingNode.active=!1,this.uiNode.active=!1},o.setPanelActive=function(e,t,n){this.buyPanel.active=e,this.spendPanel.active=t,this.transferPanel.active=n,this.buyScroll.scrollToTop(.1),this.spendScroll.scrollToTop(.1),this.transferScroll.scrollToTop(.1)},o.onBuyClickedinit=function(){this.buyParent.removeAllChildren(),this.buyPage=0,this.buyTotalPage=0,this.buyPrevInstance&&(this.buyPrevInstance.off("click"),this.buyPrevInstance.destroy(),this.buyPrevInstance=null),this.buyNextInstance&&(this.buyNextInstance.off("click"),this.buyNextInstance.destroy(),this.buyNextInstance=null),this.onBuyClicked()},o.onBuyClicked=function(){var e=a(i().mark((function e(){var t,n,r,s,a,o,c,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setPanelActive(!0,!1,!1),this.loadingNode.active=!0,this.noDataFound.active=!1,t=m.loginDataResponse.data.id,e.prev=4,e.next=7,this.getUserBuyTransactions(t,this.buyPage,this.buyLimit);case 7:s=e.sent,this.loadingNode.active=!1,s.data.length<=0?this.noDataFound.active=!0:this.noDataFound.active=!1;try{this.buyPrevInstance&&(this.buyPrevInstance.off("click"),this.buyPrevInstance.destroy(),this.buyPrevInstance=null),this.buyNextInstance&&(this.buyNextInstance.off("click"),this.buyNextInstance.destroy(),this.buyNextInstance=null),(this.buyScroll&&this.buyScroll.content?this.buyScroll.content:this.buyParent).removeAllChildren(),this.buyHistoryNodes=[]}catch(e){console.warn("Error clearing buy nodes",e)}for(a=this.buyPage*this.buyLimit,o=0;o<s.data.length;o++)"BUY_PLAYS"===(c=s.data[o]).spend_on&&(c.spend_on="BUY_XP"),l=(a+o+1).toString(),this.newBuyNode({sno:l,date:c.created_at||"-",xp:c.plays||"0",remarks:c.spend_on||"-",transaction_id:c.transaction_id||"-"});this.buyTotalPage=null!=(n=null==(r=s.metadata)?void 0:r.totalPage)?n:this.buyTotalPage,this.updateBuyPaginationButtons(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),console.error("Error fetching user buy transactions:",e.t0);case 20:case"end":return e.stop()}}),e,this,[[4,17]])})));return function(){return e.apply(this,arguments)}}(),o.onSpendClickedinit=function(){this.spendParent.removeAllChildren(),this.spendPage=0,this.spendPrevInstance&&(this.spendPrevInstance.off("click"),this.spendPrevInstance.destroy(),this.spendPrevInstance=null),this.spendNextInstance&&(this.spendNextInstance.off("click"),this.spendNextInstance.destroy(),this.spendNextInstance=null),this.onSpendClicked()},o.onSpendClicked=function(){var e=a(i().mark((function e(){var t,n,r,s,a,o,c,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setPanelActive(!1,!0,!1),this.loadingNode.active=!0,this.noDataFound.active=!1,e.prev=3,r=m.loginDataResponse.data.id,e.next=7,this.getUserSpendTransactions(r,this.spendPage,this.spendLimit);case 7:s=e.sent,this.loadingNode.active=!1,s.data.length<=0?this.noDataFound.active=!0:this.noDataFound.active=!1;try{this.spendPrevInstance&&(this.spendPrevInstance.off("click"),this.spendPrevInstance.destroy(),this.spendPrevInstance=null),this.spendNextInstance&&(this.spendNextInstance.off("click"),this.spendNextInstance.destroy(),this.spendNextInstance=null),(this.spendScroll&&this.spendScroll.content?this.spendScroll.content:this.spendParent).removeAllChildren(),this.spendHistoryNodes=[]}catch(e){console.warn("Error clearing spend nodes",e)}for(a=this.spendPage*this.spendLimit,o=0;o<s.data.length;o++)c=s.data[o],l=(a+o+1).toString(),this.newSpendNode({sno:l,auctionHouse:c.auction_house_name||"-",auctionId:c.auction_code||"-",xp:c.plays||"0",auction:c.auction_title+" ( "+c.product_title+" )"||"0"});this.spendTotalPage=null!=(t=null==(n=s.metadata)?void 0:n.totalPage)?t:this.spendTotalPage,this.updateSpendPaginationButtons(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),console.error("Error fetching user spend transactions:",e.t0);case 20:case"end":return e.stop()}}),e,this,[[3,17]])})));return function(){return e.apply(this,arguments)}}(),o.onTransferClickedinit=function(){this.transferParent.removeAllChildren(),this.transferPage=0,this.transferPrevInstance&&(this.transferPrevInstance.off("click"),this.transferPrevInstance.destroy(),this.transferPrevInstance=null),this.transferNextInstance&&(this.transferNextInstance.off("click"),this.transferNextInstance.destroy(),this.transferNextInstance=null),this.onTransferClicked()},o.onTransferClicked=function(){var e=a(i().mark((function e(){var t,n,r,s,a,o,c,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setPanelActive(!1,!1,!0),this.loadingNode.active=!0,this.noDataFound.active=!1,e.prev=3,r=m.loginDataResponse.data.id,e.next=7,this.getUserTransferTransactions(r,this.transferPage,this.transferLimit);case 7:s=e.sent,this.loadingNode.active=!1,s.data.length<=0?this.noDataFound.active=!0:this.noDataFound.active=!1;try{this.transferPrevInstance&&(this.transferPrevInstance.off("click"),this.transferPrevInstance.destroy(),this.transferPrevInstance=null),this.transferNextInstance&&(this.transferNextInstance.off("click"),this.transferNextInstance.destroy(),this.transferNextInstance=null),(this.transferScroll&&this.transferScroll.content?this.transferScroll.content:this.transferParent).removeAllChildren(),this.transferHistoryNodes=[]}catch(e){console.warn("Error clearing transfer nodes",e)}for(a=this.transferPage*this.transferLimit,o=0;o<s.data.length;o++)c=s.data[o],l=(a+o+1).toString(),this.newTransferNode({sno:l,date:c.created_at||"-",xp:c.plays||"0",address:c.user_name||"-",iscredited:c.is_credited});this.transferTotalPage=null!=(t=null==(n=s.metadata)?void 0:n.totalPage)?t:this.transferTotalPage,this.updateTransferPaginationButtons(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),console.error("Error fetching user transfer transactions:",e.t0);case 20:case"end":return e.stop()}}),e,this,[[3,17]])})));return function(){return e.apply(this,arguments)}}(),o.newBuyNode=function(){var e=a(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=d(this.buyPrefab),this.buyParent.addChild(n),N(n.getChildByName("S. No.").getComponent(f),t.sno,50),r=ce(t.date),N(n.getChildByName("Date").getComponent(f),r,50),N(n.getChildByName("XP").getComponent(f),t.xp,50),N(n.getChildByName("Remarks").getComponent(f),t.remarks,50),N(n.getChildByName("transaction_id").getComponent(f),t.transaction_id,50),this.buyHistoryNodes.unshift(n)}catch(e){console.error("Error creating buy history node",e)}case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),o.upDateBuyNode=function(){var e=a(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{N(t.getChildByName("S. No.").getComponent(f),n.sno,50),r=ce(n.date),N(t.getChildByName("Date").getComponent(f),r,50),N(t.getChildByName("XP").getComponent(f),n.xp,50),N(t.getChildByName("Remarks").getComponent(f),n.remarks,50),N(t.getChildByName("transaction_id    ").getComponent(f),n.transaction_id,50)}catch(e){console.error("Error creating buy history node",e)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o.newSpendNode=function(){var e=a(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=d(this.spendPrefab),this.spendParent.addChild(n),N(n.getChildByName("S. No.").getComponent(f),t.sno,50),N(n.getChildByName("auction House").getComponent(f),t.auctionHouse,50),N(n.getChildByName("Auction ID").getComponent(f),t.auctionId,50),N(n.getChildByName("Auction").getComponent(f),t.auction,50),N(n.getChildByName("XP").getComponent(f),t.xp,50),this.spendHistoryNodes.unshift(n)}catch(e){console.error("Error creating spend history node",e)}case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),o.upDateSpendNode=function(){var e=a(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{N(t.getChildByName("S. No.").getComponent(f),n.sno,50),N(t.getChildByName("auction House").getComponent(f),n.auctionHouse,50),N(t.getChildByName("Auction ID").getComponent(f),n.auctionId,50),N(t.getChildByName("Auction").getComponent(f),n.auction,50),N(t.getChildByName("XP").getComponent(f),n.xp,50)}catch(e){console.error("Error creating buy history node",e)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o.newTransferNode=function(){var e=a(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=d(this.transferPrefab),this.transferParent.addChild(n),N(n.getChildByName("S. No.").getComponent(f),t.sno),N(n.getChildByName("Date").getComponent(f),ce(t.date),50),N(n.getChildByName("XP").getComponent(f),(t.iscredited,t.xp),50),t.iscredited?n.getChildByName("XP").getComponent(f).color=y.GREEN:n.getChildByName("XP").getComponent(f).color=y.RED,N(n.getChildByName("Address").getComponent(f),t.address,50),this.transferHistoryNodes.unshift(n)}catch(e){console.error("Error creating transfer history node",e)}case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),o.upDateTransferNode=function(){var e=a(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{N(t.getChildByName("S. No.").getComponent(f),n.sno,50),N(t.getChildByName("Date").getComponent(f),ce(n.date),50),N(t.getChildByName("XP").getComponent(f),(n.iscredited,""+n.xp),50),n.iscredited?t.getChildByName("XP").getComponent(f).color=y.GREEN:t.getChildByName("XP").getComponent(f).color=y.RED,N(t.getChildByName("Address").getComponent(f),n.address,50)}catch(e){console.error("Error creating buy history node",e)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o.init=function(){this.setPanelActive(!0,!1,!1),this.onBuyClicked()},o.getBuyHistory=function(){return this.buyHistoryNodes},o.getSpendHistory=function(){return this.spendHistoryNodes},o.getTransferHistory=function(){return this.transferHistoryNodes},o.getUserSpendTransactions=function(){var e=a(i().mark((function e(t,n,r){var s,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),void 0===r&&(r=20),s=""+b.TRANSACTION_HISTORY+t+"?limit="+r+"&page="+n+"&entryType=debit",e.abrupt("return",new Promise(a(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.request(s,P.GET,null,!0);case 3:r=e.sent,console.log("Spend Transactions:",r),o.transactionSpendResponse=r,t(r),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Failed to fetch spend transactions:",e.t0),n(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),o.getUserBuyTransactions=function(){var e=a(i().mark((function e(t,n,r){var s,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),void 0===r&&(r=20),s=""+b.TRANSACTION_HISTORY+t+"?limit="+r+"&page="+n+"&entryType=credit",e.abrupt("return",new Promise(a(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.request(s,P.GET,null,!0);case 3:r=e.sent,console.log("Buy Transactions:",r),o.transactionBuyResponse=r,t(r),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Failed to fetch buy transactions:",e.t0),n(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),o.getUserTransferTransactions=function(){var e=a(i().mark((function e(t,n,r){var s,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),void 0===r&&(r=20),s=""+b.TRANSACTION_HISTORY+t+"?limit="+r+"&page="+n+"&entryType=transfer",e.abrupt("return",new Promise(a(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.request(s,P.GET,null,!0);case 3:r=e.sent,console.log("Transfer Transactions:",r),o.transactionBuyResponse=r,t(r),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),o.showError(e.t0.message||"Failed to update profile. Try again."),n(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),o.updateBuyPaginationButtons=function(){var e=this,t=this.buyPage<this.buyTotalPage-1,n=this.buyPage>0;if(t&&this.pageNextPrefab){if(!this.buyNextInstance)this.buyNextInstance=d(this.pageNextPrefab),(this.buyScroll&&this.buyScroll.content?this.buyScroll.content:this.buyParent).addChild(this.buyNextInstance),this.buyNextInstance.on("click",a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.buyTotalPage>e.buyPage&&(e.buyPage+=1),t.next=3,e.onBuyClicked();case 3:case"end":return t.stop()}}),t)}))),this);this.buyNextInstance.active=!0}else this.buyNextInstance&&(this.buyNextInstance.off("click"),this.buyNextInstance.destroy(),this.buyNextInstance=null);if(n&&this.pagePrevPrefab){if(!this.buyPrevInstance)this.buyPrevInstance=d(this.pagePrevPrefab),(this.buyScroll&&this.buyScroll.content?this.buyScroll.content:this.buyParent).insertChild(this.buyPrevInstance,0),this.buyPrevInstance.on("click",a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return 0<e.buyPage&&(e.buyPage-=1),t.next=3,e.onBuyClicked();case 3:case"end":return t.stop()}}),t)}))),this);this.buyPrevInstance.active=!0}else this.buyPrevInstance&&(this.buyPrevInstance.off("click"),this.buyPrevInstance.destroy(),this.buyPrevInstance=null)},o.updateSpendPaginationButtons=function(){var e=this,t=this.spendPage<this.spendTotalPage-1,n=this.spendPage>0;if(t&&this.pageNextPrefab){if(!this.spendNextInstance)this.spendNextInstance=d(this.pageNextPrefab),(this.spendScroll&&this.spendScroll.content?this.spendScroll.content:this.spendParent).addChild(this.spendNextInstance),this.spendNextInstance.on("click",a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.spendPage=Math.min(e.spendTotalPage-1,e.spendPage+1),t.next=3,e.onSpendClicked();case 3:case"end":return t.stop()}}),t)}))),this);this.spendNextInstance.active=!0}else this.spendNextInstance&&(this.spendNextInstance.off("click"),this.spendNextInstance.destroy(),this.spendNextInstance=null);if(n&&this.pagePrevPrefab){if(!this.spendPrevInstance)this.spendPrevInstance=d(this.pagePrevPrefab),(this.spendScroll&&this.spendScroll.content?this.spendScroll.content:this.spendParent).insertChild(this.spendPrevInstance,0),this.spendPrevInstance.on("click",a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.spendPage=Math.max(0,e.spendPage-1),t.next=3,e.onSpendClicked();case 3:case"end":return t.stop()}}),t)}))),this);this.spendPrevInstance.active=!0}else this.spendPrevInstance&&(this.spendPrevInstance.off("click"),this.spendPrevInstance.destroy(),this.spendPrevInstance=null)},o.updateTransferPaginationButtons=function(){var e=this,t=this.transferPage<this.transferTotalPage-1,n=this.transferPage>0;if(t&&this.pageNextPrefab){if(!this.transferNextInstance)this.transferNextInstance=d(this.pageNextPrefab),(this.transferScroll&&this.transferScroll.content?this.transferScroll.content:this.transferParent).addChild(this.transferNextInstance),this.transferNextInstance.on("click",a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.transferPage=Math.min(e.transferTotalPage,e.transferPage+1),t.next=3,e.onTransferClicked();case 3:case"end":return t.stop()}}),t)}))),this);this.transferNextInstance.active=!0}else this.transferNextInstance&&(this.transferNextInstance.off("click"),this.transferNextInstance.destroy(),this.transferNextInstance=null);if(n&&this.pagePrevPrefab){if(!this.transferPrevInstance)this.transferPrevInstance=d(this.pagePrevPrefab),(this.transferScroll&&this.transferScroll.content?this.transferScroll.content:this.transferParent).insertChild(this.transferPrevInstance,0),this.transferPrevInstance.on("click",a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.transferPage=Math.max(0,e.transferPage-1),t.next=3,e.onTransferClicked();case 3:case"end":return t.stop()}}),t)}))),this);this.transferPrevInstance.active=!0}else this.transferPrevInstance&&(this.transferPrevInstance.off("click"),this.transferPrevInstance.destroy(),this.transferPrevInstance=null)},o.showError=function(e){I.getDispatcher().emit(v.ERROR_MSG_NOTIFY,e||"")},t}(p)).prototype,"uiNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(O.prototype,"buyPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(O.prototype,"spendPrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(O.prototype,"transferPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(O.prototype,"buyParent",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(O.prototype,"spendParent",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(O.prototype,"transferParent",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(O.prototype,"buyPanel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(O.prototype,"spendPanel",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(O.prototype,"transferPanel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(O.prototype,"buyScroll",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(O.prototype,"spendScroll",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(O.prototype,"transferScroll",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(O.prototype,"loadingNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(O.prototype,"noDataFound",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(O.prototype,"pageNextPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(O.prototype,"pagePrevPrefab",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=O))||U));function ce(e){var t=new Date(e),n=new Intl.DateTimeFormat("en-GB",{timeZone:"Asia/Kolkata",day:"2-digit",month:"short",year:"2-digit",hour:"numeric",minute:"2-digit",hour12:!1}).format(t).split(/[\s,]+/);return n[0]+" "+n[1]+" '"+n[2]+"  "+n[3]+" "+(n[4]||"")}o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});